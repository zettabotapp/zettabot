(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{1e3:function(e,t){},1036:function(e,t){},1038:function(e,t){},1039:function(e,t){},1044:function(e,t){},1046:function(e,t){},1066:function(e,t){},1082:function(e,t){},1085:function(e,t){},1343:function(e,t,a){},1347:function(e,t,a){},1349:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(56),l=a.n(r),i=a(1521),s=(a(686),a(645)),c=a(559),d=a(908),m=a(1551),u=a(1366);var p=o.a.createContext({toggleColorMode:()=>{}}),g=a(907),b=a(646),E=a.n(b);class f{constructor(e){this.socketManager=e,this.rawSocket=e.currentSocket,this.callbacks=[],this.joins=[],this.rawSocket.on("connect",()=>{if(!this.rawSocket.recovered){const e=()=>{for(const e of this.joins)console.debug("refreshing join",e),this.rawSocket.emit("join".concat(e.event),...e.params);this.rawSocket.off("ready",e)};for(const t of this.callbacks)this.rawSocket.off(t.event,t.callback),this.rawSocket.on(t.event,t.callback);this.rawSocket.on("ready",e)}})}on(e,t){return"ready"===e||"connect"===e?this.socketManager.onReady(t):(this.callbacks.push({event:e,callback:t}),this.rawSocket.on(e,t))}off(e,t){const a=this.callbacks.findIndex(a=>a.event===e&&a.callback===t);return this.callbacks.splice(a,1),this.rawSocket.off(e,t)}emit(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return e.startsWith("join")&&(this.joins.push({event:e.substring(4),params:a}),console.log("Joining",{event:e.substring(4),params:a})),this.rawSocket.emit(e,...a)}disconnect(){for(const e of this.joins)this.rawSocket.emit("leave".concat(e.event),...e.params);this.joins=[];for(const e of this.callbacks)this.rawSocket.off(e.event,e.callback);this.callbacks=[]}}class A{on(){}off(){}emit(){}disconnect(){}}const h={currentCompanyId:-1,currentUserId:-1,currentSocket:null,socketReady:!1,getSocket:function(e){var t=this;let a=null;if(localStorage.getItem("userId")&&(a=localStorage.getItem("userId")),!e&&!this.currentSocket)return new A;if(e&&"string"!==typeof e&&(e="".concat(e)),e!==this.currentCompanyId||a!==this.currentUserId){var n;this.currentSocket&&(console.warn("closing old socket - company or user changed"),this.currentSocket.removeAllListeners(),this.currentSocket.disconnect(),this.currentSocket=null);let o=JSON.parse(localStorage.getItem("token"));const{exp:r}=null!==(n=E.a.decode(o))&&void 0!==n?n:{};if(Date.now()>=1e3*r)return console.warn("Expired token, reload after refresh"),setTimeout(()=>{window.location.reload()},1e3),new A;if(this.currentCompanyId=e,this.currentUserId=a,!o)return new A;this.currentSocket=Object(g.a)("https://api.zettabot.com.br",{transports:["websocket"],pingTimeout:18e3,pingInterval:18e3,query:{token:o}}),this.currentSocket.on("disconnect",e=>{if(console.warn("socket disconnected because: ".concat(e)),e.startsWith("io ")){console.warn("tryng to reconnect",this.currentSocket);const{exp:e}=E.a.decode(o);if(Date.now()-180>=1e3*e)return console.warn("Expired token, reloading app"),void window.location.reload();this.currentSocket.connect()}}),this.currentSocket.on("connect",(function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];console.warn("socket connected",t)})),this.currentSocket.onAny((function(e){for(var a=arguments.length,n=new Array(a>1?a-1:0),o=1;o<a;o++)n[o-1]=arguments[o];console.debug("Event: ",{socket:t.currentSocket,event:e,args:n})})),this.onReady(()=>{this.socketReady=!0})}return new f(this)},onReady:function(e){this.socketReady?e():this.currentSocket.once("ready",()=>{e()})}},y=Object(n.createContext)();var v=a(55),x=a(91),C=a(11),w=a(6),S=a(32),O=a.n(S),k=a(269),T=a(85),j=a(1622),I=a(1358),N=a(1359),M=a(1492),P=a(1524),R=a(1525),D=a(154),q=a(913),F=a(1509),L=a(837),W=a.n(L),B=a(836),z=a.n(B),H=a(839),U=a.n(H),V=a(838),Q=a.n(V),K=a(1357),G=a(1495),Y=a(1493),X=a(1497),_=a(1496),Z=a(1360),J=a(810),$=a.n(J),ee=a(281),te=a.n(ee),ae=a(819),ne=a.n(ae),oe=a(650),re=a.n(oe),le=a(821),ie=a.n(le),se=a(814),ce=a.n(se),de=a(820),me=a.n(de),ue=a(812),pe=a.n(ue),ge=a(817),be=a.n(ge),Ee=a(822),fe=a.n(Ee),Ae=a(815),he=a.n(Ae),ye=a(816),ve=a.n(ye),xe=a(386),Ce=a.n(xe),we=a(648),Se=a.n(we),Oe=a(649),ke=a.n(Oe),Te=a(462),je=a.n(Te),Ie=a(461),Ne=a.n(Ie),Me=a(642),Pe=a.n(Me),Re=a(460),De=a.n(Re),qe=a(823),Fe=a.n(qe),Le=a(544);const We={pt:{translations:{selectLanguage:"Selecione um idioma",signup:{title:"Cadastre-se",toasts:{success:"Usu\xe1rio criado com sucesso! Fa\xe7a seu login!!!.",fail:"Erro ao criar usu\xe1rio. Verifique os dados informados."},form:{name:"Nome da empresa",email:"Email",phone:"Telefone com (DDD)",plan:"Plano",password:"Senha"},formErrors:{name:{required:"Nome da empresa \xe9 obrigat\xf3rio",short:"Nome muito curto",long:"Nome muito longo"},password:{short:"Senha muito curta",long:"Senha muito longa"},email:{required:"Email \xe9 obrigat\xf3rio",invalid:"Email inv\xe1lido"}},buttons:{submit:"Cadastrar",login:"J\xe1 tem uma conta? Entre!"},plan:{attendant:"Atendente",whatsapp:"WhatsApp",queues:"Filas"}},login:{title:"Login",form:{email:"Email",password:"Senha"},buttons:{submit:"Entrar",register:"Registre-se, agora mesmo!"}},resetPassword:{title:"Redefinir Senha",toasts:{emailSent:"Email enviado com sucesso!",emailNotFound:"Email n\xe3o encontrado!",passwordUpdated:"Senha atualizada com sucesso!"},formErrors:{email:{required:"Email \xe9 obrigat\xf3rio",invalid:"Email inv\xe1lido"},newPassword:{required:"Nova senha \xe9 obrigat\xf3ria",matches:"Sua senha precisa ter no m\xednimo 8 caracteres, sendo uma letra mai\xfascula, uma min\xfascula e um n\xfamero."},confirmPassword:{required:"Confirma\xe7\xe3o de senha \xe9 obrigat\xf3ria",matches:"As senhas n\xe3o correspondem"}},form:{email:"Email",verificationCode:"C\xf3digo de verifica\xe7\xe3o",newPassword:"Nova senha",confirmPassword:"Confirme a nova senha"},buttons:{submitEmail:"Enviar email",submitPassword:"Redefinir senha",back:"N\xe3o tem uma conta? Cadastre-se!"}},dashboard:{toasts:{selectFilterError:"Parametrize o filtro",userChartError:"Erro ao obter informa\xe7\xf5es da conversa",dateChartError:"Erro ao obter informa\xe7\xf5es da conversa"},filters:{initialDate:"Data Inicial",finalDate:"Data Final",filterType:{title:"Tipo de Filtro",options:{perDate:"Filtro por Data",perPeriod:"Filtro por Per\xedodo"},helper:"Selecione o tipo de filtro desejado"}},periodSelect:{title:"Per\xedodo",options:{none:"Nenhum selecionado",last3:"\xdaltimos 3 dias",last7:"\xdaltimos 7 dias",last15:"\xdaltimos 15 dias",last30:"\xdaltimos 30 dias",last60:"\xdaltimos 60 dias",last90:"\xdaltimos 90 dias"},helper:"Selecione o per\xedodo desejado"},counters:{inTalk:"Em conversa",waiting:"Aguardando",finished:"Finalizados",newContacts:"Novos contatos",averageTalkTime:"T.M. de Conversa",averageWaitTime:"T.M. de Espera"},buttons:{filter:"Filtrar"},onlineTable:{ratingLabel:"1 - Insatisfeito, 2 - Satisfeito, 3 - Muito Satisfeito",name:"Nome",ratings:"Avalia\xe7\xf5es",avgSupportTime:"T.M. de Atendimento",status:"Status (Atual)"},charts:{user:{label:"Gr\xe1fico de Conversas",title:"Total de Conversas por Usu\xe1rios",start:"In\xedcio",end:"Fim",filter:"Filtrar"},date:{label:"Gr\xe1fico de Conversas",title:"Total",start:"In\xedcio",end:"Fim",filter:"Filtrar"}}},plans:{toasts:{errorList:"N\xe3o foi poss\xedvel carregar a lista de registros",errorOperation:"N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o",error:"N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o. Verifique se j\xe1 existe uma plano com o mesmo nome ou se os campos foram preenchidos corretamente",success:"Opera\xe7\xe3o realizada com sucesso!"},confirm:{title:"Exclus\xe3o de Registro",message:"Deseja realmente excluir o registro?"},form:{name:"Nome",users:"Usu\xe1rios",connections:"Conex\xf5es",queues:"Filas",value:"Valor",internalChat:"Chat Interno",externalApi:"API Externa",kanban:"Kanban",integrations:"Integra\xe7\xf5es",campaigns:"Campanhas",schedules:"Agendamentos",enabled:"Habilitadas",disabled:"Desabilitadas",clear:"Cancelar",delete:"Excluir",save:"Salvar",yes:"Sim",no:"N\xe3o",money:"R$"}},kanban:{toasts:{removed:"Ticket Tag Removido!",added:"Ticket Tag Adicionado com Sucesso!"},open:"Em aberto",seeTicket:"Ver Ticket"},invoices:{title:"Faturas",paid:"Pago",open:"Em Aberto",expired:"Vencido",details:"Detalhes",value:"Valor",dueDate:"Data Venc.",status:"Status",action:"A\xe7\xe3o",PAY:"PAGAR",PAID:"PAGO"},checkoutPage:{steps:{data:"Dados",customize:"Personalizar",review:"Revisar"},success:"Assinatura realizada com sucesso!, aguardando a realiza\xe7\xe3o do pagamento",closeToEnd:"Falta pouco!",BACK:"VOLTAR",PAY:"PAGAR",NEXT:"PR\xd3XIMO",review:{title:"Resumo da assinatura",details:"Detalhes do plano",users:"Usu\xe1rios",whatsapp:"Whatsapp",charges:"Cobran\xe7a: Mensal",total:"Total"},form:{firstName:{label:"Nome completo*",required:"Nome completo \xe9 obrigat\xf3rio"},lastName:{label:"Sobrenome*",required:"Sobrenome \xe9 obrigat\xf3rio"},address1:{label:"Endere\xe7o*",required:"Endere\xe7o \xe9 obrigat\xf3rio"},city:{label:"Cidade*",required:"Cidade \xe9 obrigat\xf3rio"},state:{label:"Estado*",required:"Estado \xe9 obrigat\xf3rio"},zipcode:{label:"CEP*",required:"CEP \xe9 obrigat\xf3rio",invalid:"Formato de CEP inv\xe1lido"},country:{label:"Pa\xeds*",required:"Pa\xeds \xe9 obrigat\xf3rio"},useAddressForPaymentDetails:{label:"Use este endere\xe7o para os detalhes de pagamento"},invoiceId:{label:"Use este invoiceId"},nameOnCard:{label:"Nome no cart\xe3o*",required:"Nome no cart\xe3o \xe9 obrigat\xf3rio"},cardNumber:{label:"N\xfamero do cart\xe3o*",required:"N\xfamero do cart\xe3o \xe9 obrigat\xf3rio",invalid:"N\xfamero do cart\xe3o inv\xe1lido (ex: 4111111111111)"},expiryDate:{label:"Data de validade*",required:"Data de validade \xe9 obrigat\xf3ria",invalid:"Data de validade inv\xe1lida"},cvv:{label:"CVV*",required:"CVV \xe9 obrigat\xf3rio",invalid:"CVV inv\xe1lido (ex: 123)"}},pricing:{users:"Usu\xe1rios",connection:"Conex\xe3o",queues:"Filas",SELECT:"SELECIONAR",month:"m\xeas"}},companies:{title:"Cadastrar Empresa",form:{name:"Nome da Empresa",plan:"Plano",token:"Token",submit:"Cadastrar",success:"Empresa criada com sucesso!"}},auth:{toasts:{success:"Login efetuado com sucesso!"},token:"Token"},connections:{title:"Conex\xf5es",toasts:{deleted:"Conex\xe3o com o WhatsApp exclu\xedda com sucesso!"},confirmationModal:{deleteTitle:"Deletar",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida.",disconnectTitle:"Desconectar",disconnectMessage:"Tem certeza? Voc\xea precisar\xe1 ler o QR Code novamente."},buttons:{add:"Adicionar WhatsApp",disconnect:"desconectar",tryAgain:"Tentar novamente",qrcode:"QR CODE",newQr:"Novo QR CODE",connecting:"Conectando"},toolTips:{disconnected:{title:"Falha ao iniciar sess\xe3o do WhatsApp",content:"Certifique-se de que seu celular esteja conectado \xe0 internet e tente novamente, ou solicite um novo QR Code"},qrcode:{title:"Esperando leitura do QR Code",content:"Clique no bot\xe3o 'QR CODE' e leia o QR Code com o seu celular para iniciar a sess\xe3o"},connected:{title:"Conex\xe3o estabelecida!"},timeout:{title:"A conex\xe3o com o celular foi perdida",content:"Certifique-se de que seu celular esteja conectado \xe0 internet e o WhatsApp esteja aberto, ou clique no bot\xe3o 'Desconectar' para obter um novo QR Code"}},table:{name:"Nome",status:"Status",lastUpdate:"\xdaltima atualiza\xe7\xe3o",default:"Padr\xe3o",actions:"A\xe7\xf5es",session:"Sess\xe3o"}},whatsappModal:{title:{add:"Adicionar WhatsApp",edit:"Editar WhatsApp"},formErrors:{name:{required:"Nome \xe9 obrigat\xf3rio",short:"Nome muito curto",long:"Nome muito longo"}},tabs:{general:"Geral",messages:"Mensagens",assessments:"Avalia\xe7\xf5es",integrations:"Integra\xe7\xf5es",schedules:"Hor\xe1rio de expediente"},form:{name:"Nome",default:"Padr\xe3o",sendIdQueue:"Fila",timeSendQueue:"Redirecionar para fila em X minutos",queueRedirection:"Redirecionamento de Fila",outOfHoursMessage:"Mensagem de fora de expediente",queueRedirectionDesc:"Selecione uma fila para os contatos que n\xe3o possuem fila serem redirecionados",prompt:"Prompt",queue:"Fila de Transfer\xeancia",timeToTransfer:"Transferir ap\xf3s x (minutos)",expiresTicket:"Encerrar chats abertos ap\xf3s x minutos",expiresInactiveMessage:"Mensagem de encerramento por inatividade",greetingMessage:"Mensagem de sauda\xe7\xe3o",complationMessage:"Mensagem de conclus\xe3o",integration:"Integra\xe7\xf5es"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"WhatsApp salvo com sucesso."},qrCodeModal:{title:"Utilize o seu WhatsApp:",steps:{one:"1 - Abra o WhatsApp no seu celular",two:{partOne:"2 - Toque em Mais op\xe7\xf5es no Android",partTwo:"ou em Configura\xe7\xf5es",partThree:"no iPhone"},three:"3 - Toque em Dispositivos conectados e, em seguida, em Conectar dispositivos",four:"4 - Aponte seu celular para essa tela para capturar o QR Code"},waiting:"Aguardando leitura do QR Code"},qrCode:{message:"Leia o QrCode para iniciar a sess\xe3o"},contacts:{title:"Contatos",toasts:{deleted:"Contato exclu\xeddo com sucesso!",deletedAll:"Todos contatos exclu\xeddos com sucesso!"},searchPlaceholder:"Pesquisar...",confirmationModal:{deleteTitle:"Deletar ",deleteAllTitle:"Deletar Todos",importTitle:"Importar contatos",deleteMessage:"Tem certeza que deseja deletar este contato? Todos os tickets relacionados ser\xe3o perdidos.",deleteAllMessage:"Tem certeza que deseja deletar todos os contatos? Todos os tickets relacionados ser\xe3o perdidos.",importMessage:"Deseja importar todos os contatos do telefone?"},buttons:{import:"Importar Contatos",add:"Adicionar Contato",export:"Exportar Contatos",delete:"Excluir Todos Contatos"},table:{name:"Nome",whatsapp:"WhatsApp",email:"Email",actions:"A\xe7\xf5es"}},contactImportModal:{title:"Plan\xedlha de contatos",labels:{import:"Importar contatos",result:"resultados",added:"Adicionados",savedContact:"Contato salvo",errors:"Erros"},buttons:{download:"Baixar plan\xedlha modelo",import:"Importar contatos"}},queueIntegrationModal:{title:{add:"Adicionar projeto",edit:"Editar projeto"},form:{id:"ID",type:"Tipo",name:"Nome",projectName:"Nome do Projeto",language:"Linguagem",jsonContent:"JsonContent",urlN8N:"URL",typebotSlug:"Typebot - Slug",typebotExpires:"Tempo em minutos para expirar uma conversa",typebotKeywordFinish:"Palavra para finalizar o ticket",typebotKeywordRestart:"Palavra para reiniciar o fluxo",typebotRestartMessage:"Mensagem ao reiniciar a conversa",typebotUnknownMessage:"Mensagem de op\xe7\xe3o inv\xe1lida",typebotDelayMessage:"Intervalo (ms) entre mensagens"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar",test:"Testar Bot"},messages:{testSuccess:"Integra\xe7\xe3o testada com sucesso!",addSuccess:"Integra\xe7\xe3o adicionada com sucesso.",editSuccess:"Integra\xe7\xe3o editada com sucesso."}},sideMenu:{name:"Menu Lateral Inicial",note:"Se habilitado, o menu lateral ir\xe1 iniciar fechado",options:{enabled:"Aberto",disabled:"Fechado"}},promptModal:{form:{name:"Nome",prompt:"Prompt",model:"Modelo",max_tokens:"M\xe1ximo de Tokens na resposta",temperature:"Temperatura",apikey:"API Key",max_messages:"M\xe1ximo de mensagens no Hist\xf3rico"},formErrors:{name:{short:"Nome muito curto",long:"Nome muito longo",required:"Nome \xe9 obrigat\xf3rio"},prompt:{short:"Prompt muito curto",required:"Descreva o treinamento para Intelig\xeancia Artificial"},modal:{required:"Informe o modelo desejado para o Prompt"},maxTokens:{required:"Informe o n\xfamero m\xe1ximo de tokens na resposta"},temperature:{required:"Informe a temperatura"},apikey:{required:"Informe a API Key"},queueId:{required:"Informe a fila"},maxMessages:{required:"Informe o n\xfamero m\xe1ximo de mensagens no hist\xf3rico"}},success:"Prompt salvo com sucesso!",setor:"Informe o setor",title:{add:"Adicionar Prompt",edit:"Editar Prompt"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"}},prompts:{title:"Prompts",table:{name:"Nome",queue:"Setor/Fila",max_tokens:"M\xe1ximo Tokens Resposta",actions:"A\xe7\xf5es"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida!"},buttons:{add:"Adicionar Prompt"}},contactModal:{title:{add:"Adicionar contato",edit:"Editar contato"},form:{mainInfo:"Dados do contato",extraInfo:"Informa\xe7\xf5es adicionais",name:"Nome",number:"N\xfamero do Whatsapp",email:"Email",extraName:"Nome do campo",extraValue:"Valor",whatsapp:"Conex\xe3o Origem: "},formErrors:{name:{required:"Nome \xe9 obrigat\xf3rio",short:"Nome muito curto",long:"Nome muito longo"},phone:{short:"N\xfamero muito curto",long:"N\xfamero muito longo"},email:{invalid:"Email inv\xe1lido"}},buttons:{addExtraInfo:"Adicionar informa\xe7\xe3o",okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Contato salvo com sucesso."},queueModal:{title:{add:"Adicionar fila",edit:"Editar fila"},form:{name:"Nome",nameShort:"Nome curto",nameLong:"Nome longo",nameRequired:"Nome \xe9 obrigat\xf3rio",color:"Cor",colorShort:"Cor curta",colorLong:"Cor longa",greetingMessage:"Mensagem de sauda\xe7\xe3o",complationMessage:"Mensagem de conclus\xe3o",outOfHoursMessage:"Mensagem de fora de expediente",ratingMessage:"Mensagem de avalia\xe7\xe3o",token:"Token",orderQueue:"Ordem da fila (Bot)",integrationId:"Integra\xe7\xe3o"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},toasts:{success:"Fila salva com sucesso.",info:"Clique em salvar para registar as altera\xe7\xf5es"},tabs:{queueData:"Dados da fila",attendanceTime:"Hor\xe1rios de Atendimento"}},userModal:{title:{add:"Adicionar usu\xe1rio",edit:"Editar usu\xe1rio"},form:{name:"Nome",email:"Email",password:"Senha",profile:"Perfil",whatsapp:"Conex\xe3o Padr\xe3o",allTicket:"Ticket Sem Fila [Invis\xedvel]",allTicketEnabled:"Habilitado",allTicketDesabled:"Desabilitado"},formErrors:{name:{required:"Nome \xe9 obrigat\xf3rio",short:"Nome muito curto",long:"Nome muito longo"},password:{short:"Senha muito curta",long:"Senha muito longa"},email:{required:"Email \xe9 obrigat\xf3rio",invalid:"Email inv\xe1lido"}},labels:{liberations:"Libera\xe7\xf5es"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Usu\xe1rio salvo com sucesso."},scheduleModal:{title:{add:"Novo Agendamento",edit:"Editar Agendamento"},form:{body:"Mensagem",contact:"Contato",sendAt:"Data de Agendamento",sentAt:"Data de Envio"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Agendamento salvo com sucesso."},tagModal:{title:{add:"Nova Tag",edit:"Editar Tag"},form:{name:"Nome",color:"Cor"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Tag salvo com sucesso."},chat:{toasts:{fillTitle:"Por favor, preencha o t\xedtulo da conversa.",fillUser:"Por favor, selecione pelo menos um usu\xe1rio."},modal:{title:"Conversa",titleField:"T\xedtulo"},confirm:{title:"Excluir Conversa",message:"Esta a\xe7\xe3o n\xe3o pode ser revertida, confirmar?"},chats:"Chats",messages:"Mensagens",noTicketMessage:"Selecione um ticket para come\xe7ar a conversar.",buttons:{close:"Fechar",save:"Salvar",new:"Nova",newChat:"Novo"}},uploads:{titles:{titleUploadMsgDragDrop:"ARRASTE E SOLTE ARQUIVOS NO CAMPO ABAIXO",titleFileList:"Lista de arquivo(s)"}},ticketsManager:{buttons:{newTicket:"Novo"}},ticketsQueueSelect:{placeholder:"Filas"},tickets:{toasts:{deleted:"O atendimento que voc\xea estava foi deletado.",unauthorized:"Acesso n\xe3o permitido"},filters:{user:"Filtro por usu\xe1rios",tags:"Filtro por tags"},notification:{message:"Mensagem de"},tabs:{open:{title:"Abertas"},closed:{title:"Resolvidos"},search:{title:"Busca"}},search:{placeholder:"Buscar atendimento e mensagens"},buttons:{showAll:"Todos"}},transferTicketModal:{title:"Transferir Ticket",fieldLabel:"Digite para buscar usu\xe1rios",fieldQueueLabel:"Transferir para fila",fieldQueuePlaceholder:"Selecione uma fila",noOptions:"Nenhum usu\xe1rio encontrado com esse nome",buttons:{ok:"Transferir",cancel:"Cancelar"}},ticketsList:{pendingHeader:"Aguardando",assignedHeader:"Atendendo",noTicketsTitle:"Nada aqui!",noTicketsMessage:"Nenhum atendimento encontrado com esse status ou termo pesquisado",buttons:{accept:"Aceitar",closed:"Finalizar",reopen:"Reabrir"}},ticketsListItem:{tooltip:{chatbot:"Chatbot",peek:"Espiar Conversa"},noQueue:"SEM FILA"},ticketAdvanced:{selectTicket:"Selecionar Ticket",ticketNav:"Ticket",attendanceNav:"Atendimentos"},newTicketModal:{title:"Criar Ticket",fieldLabel:"Digite para pesquisar o contato",add:"Adicionar",searchQueueError:"Ocorreu um erro inesperado ao tentar buscar as filas",selectQueue:"Selecione uma fila",selectConection:"Selecione uma conex\xe3o",buttons:{ok:"Salvar",cancel:"Cancelar"}},locationPreview:{button:"Visualizar"},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Conex\xf5es",tickets:"Atendimentos",quickMessages:"Respostas R\xe1pidas",tasks:"Tarefas",contacts:"Contatos",queues:"Filas & Chatbot",tags:"Tags",administration:"Administra\xe7\xe3o",users:"Usu\xe1rios",settings:"Configura\xe7\xf5es",helps:"Ajuda",messagesAPI:"API",schedules:"Agendamentos",campaigns:"Campanhas",flows:"Fluxos",annoucements:"Informativos",chats:"Chat Interno",financeiro:"Financeiro",files:"Lista de arquivos",prompts:"Open.Ai",queueIntegration:"Integra\xe7\xf5es"},appBar:{refresh:"Recarregar p\xe1gina",notRegister:"Sem notifica\xe7\xf5es",greeting:{hello:"Ol\xe1",welcome:"Bem vindo a",active:"Ativo at\xe9"},user:{profile:"Perfil",logout:"Sair"}}},queueIntegration:{title:"Integra\xe7\xf5es",table:{id:"ID",type:"Tipo",name:"Nome",projectName:"Nome do Projeto",language:"Linguagem",lastUpdate:"Ultima atualiza\xe7\xe3o",actions:"A\xe7\xf5es"},buttons:{add:"Adicionar Projeto"},searchPlaceholder:"Pesquisar...",confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida! e ser\xe1 removida das filas e conex\xf5es vinculadas"}},files:{title:"Lista de arquivos",table:{name:"Nome",contacts:"Contatos",actions:"A\xe7\xe3o"},toasts:{deleted:"Lista exclu\xedda com sucesso!",deletedAll:"Todas as listas foram exclu\xeddas com sucesso!"},buttons:{add:"Adicionar",deleteAll:"Deletar Todos"},confirmationModal:{deleteTitle:"Deletar",deleteAllTitle:"Deletar Todos",deleteMessage:"Tem certeza que deseja deletar esta lista?",deleteAllMessage:"Tem certeza que deseja deletar todas as listas?"}},messagesAPI:{title:"API",labels:{doc:"Documenta\xe7\xe3o para envio de mensagens",method:"M\xe9todos de Envio",textMessage:"Mensagem de Texto",mediaMessage:"Mensagem de M\xeddia",instructions:"Instru\xe7\xf5es",observations:"Observa\xe7\xf5es importantes",before1:"Antes de enviar mensagens, \xe9 necess\xe1rio o cadastro do token vinculado \xe0 conex\xe3o que enviar\xe1 as mensagens.",before2:"Para realizar o cadastro acesse o menu 'Conex\xf5es', clique no bot\xe3o editar da conex\xe3o e insira o token no devido campo.",numberDescription:"O n\xfamero para envio n\xe3o deve ter mascara ou caracteres especiais e deve ser composto por:",countryCode:"C\xf3digo do Pa\xeds",number:"N\xfamero",textMessage2:"1. Mensagens de Texto",textMessageInstructions:"Seguem abaixo a lista de informa\xe7\xf5es necess\xe1rias para envio das mensagens de texto:",method2:"M\xe9todo",e:"e",tests:"Teste de Envio",mediaMessage2:"2. Mensagens de M\xeddia"},textMessage:{number:"N\xfamero",body:"Mensagem",token:"Token cadastrado"},mediaMessage:{number:"N\xfamero",body:"Nome do arquivo",media:"Arquivo",token:"Token cadastrado"},toasts:{unauthorized:"Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando.",success:"Mensagem enviada com sucesso!"},buttons:{send:"Enviar"}},notifications:{noTickets:"Nenhuma notifica\xe7\xe3o."},quickMessages:{title:"Respostas R\xe1pidas",searchPlaceholder:"Pesquisar...",noAttachment:"Sem anexo",confirmationModal:{deleteTitle:"Exclus\xe3o",deleteMessage:"Esta a\xe7\xe3o \xe9 irrevers\xedvel! Deseja prosseguir?"},buttons:{add:"Adicionar",attach:"Anexar Arquivo",cancel:"Cancelar",edit:"Editar"},toasts:{success:"Atalho adicionado com sucesso!",deleted:"Atalho removido com sucesso!"},dialog:{title:"Mensagem R\xe1pida",shortcode:"Atalho",message:"Resposta",save:"Salvar",cancel:"Cancelar",geral:"Permitir editar",add:"Adicionar",edit:"Editar",visao:"Permitir vis\xe3o"},table:{shortcode:"Atalho",message:"Mensagem",actions:"A\xe7\xf5es",mediaName:"Nome do Arquivo",status:"Status"}},messageVariablesPicker:{label:"Variav\xe9is dispon\xedveis",vars:{contactFirstName:"Primeiro Nome",contactName:"Nome",greeting:"Sauda\xe7\xe3o",protocolNumber:"Protocolo",date:"Data",hour:"Hora"}},contactLists:{title:"Listas de Contatos",table:{name:"Nome",contacts:"Contatos",actions:"A\xe7\xf5es"},buttons:{add:"Nova Lista"},dialog:{name:"Nome",nameShort:"Nome curto",nameLong:"Nome longo",nameRequired:"Nome \xe9 obrigat\xf3rio",company:"Empresa",okEdit:"Editar",okAdd:"Adicionar",add:"Adicionar",edit:"Editar",cancel:"Cancelar"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},toasts:{deleted:"Registro exclu\xeddo",success:"Opera\xe7\xe3o realizada com sucesso"}},contactListItems:{title:"Contatos",searchPlaceholder:"Pesquisa",buttons:{add:"Novo",lists:"Listas",import:"Importar"},download:"Clique aqui para baixar planilha exemplo.",dialog:{name:"Nome",nameShort:"Nome curto",nameLong:"Nome longo",nameRequired:"Nome \xe9 obrigat\xf3rio",number:"N\xfamero",numberShort:"N\xfamero curto",numberLong:"N\xfamero longo",whatsapp:"Whatsapp",email:"E-mail",emailInvalid:"E-mail inv\xe1lido",okEdit:"Editar",okAdd:"Adicionar",add:"Adicionar",edit:"Editar",cancel:"Cancelar"},table:{name:"Nome",number:"N\xfamero",whatsapp:"Whatsapp",email:"E-mail",actions:"A\xe7\xf5es"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida.",importMessage:"Deseja importar os contatos desta planilha? ",importTitlte:"Importar"},toasts:{deleted:"Registro exclu\xeddo"}},campaigns:{title:"Campanhas",searchPlaceholder:"Pesquisa",report:{title:"Relat\xf3rio de",title2:"Campanha",of:"de",validContacts:"Contatos v\xe1lidos",delivered:"Entregues",connection:"Conex\xe3o",contactList:"Lista de Contatos",schedule:"Agendamento",conclusion:"Conclus\xe3o"},config:{interval:"Intervalos",randomInterval:"Intervalo Rand\xf4mico de Disparo",biggerInterval:"Intervalo Maior Ap\xf3s",greaterInterval:"Intervalo de Disparo Maior",noInterval:"Sem Intervalo",second:"segundo",seconds:"segundos",notDefined:"N\xe3o definido",addVariable:"Adicionar Vari\xe1vel",save:"Salvar Configura\xe7\xf5es",shortcut:"Atalho",content:"Conte\xfado",close:"Fechar",add:"Adicionar"},buttons:{add:"Nova Campanha",contactLists:"Listas de Contatos"},status:{inactive:"Inativa",programmed:"Programada",inProgress:"Em andamento",canceled:"Cancelada",finished:"Finalizada"},table:{name:"Nome",whatsapp:"Conex\xe3o",contactList:"Lista de Contatos",status:"Status",scheduledAt:"Agendamento",completedAt:"Conclu\xedda",confirmation:"Confirma\xe7\xe3o",actions:"A\xe7\xf5es",notDefined:"N\xe3o definida",notDefined2:"N\xe3o definido",notScheduled:"Sem agendamento",notConcluded:"N\xe3o conclu\xedda",stopCampaign:"Parar Campanha"},dialog:{new:"Nova Campanha",update:"Editar Campanha",readonly:"Apenas Visualiza\xe7\xe3o",form:{name:"Nome",nameShort:"Nome curto",nameLong:"Nome longo",helper:"Utilize vari\xe1veis como {nome}, {numero}, {email} ou defina vari\xe1veis personalziadas.",nameRequired:"Nome \xe9 obrigat\xf3rio",message1:"Mensagem 1",message2:"Mensagem 2",message3:"Mensagem 3",message4:"Mensagem 4",message5:"Mensagem 5",messagePlaceholder:"Conte\xfado da mensagem",whatsapp:"Conex\xe3o",status:"Status",scheduledAt:"Agendamento",confirmation:"Confirma\xe7\xe3o",contactList:"Lista de Contato",tagList:"Lista de Tags",fileList:"Lista de Arquivos"},buttons:{add:"Adicionar",edit:"Atualizar",okadd:"Ok",cancel:"Cancelar Disparos",restart:"Reiniciar Disparos",close:"Fechar",attach:"Anexar Arquivo"}},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},toasts:{configSaved:"Configura\xe7\xf5es salvas",success:"Opera\xe7\xe3o realizada com sucesso",cancel:"Campanha cancelada",restart:"Campanha reiniciada",deleted:"Registro exclu\xeddo"}},subscription:{title:"Assinatura",testPeriod:"Per\xedodo de Teste",remainingTest:"Seu per\xedodo de teste termina em",remainingTest2:"dias!",chargeEmail:"E-mail de cobran\xe7a",signNow:"Assinar agora!"},announcements:{active:"Ativo",inactive:"Inativo",title:"Informativos",searchPlaceholder:"Pesquisa",high:"Alta",medium:"M\xe9dia",low:"Baixa",buttons:{add:"Novo Informativo",contactLists:"Listas de Informativos"},table:{priority:"Prioridade",title:"Title",text:"Texto",mediaName:"Arquivo",status:"Status",actions:"A\xe7\xf5es"},dialog:{edit:"Edi\xe7\xe3o de Informativo",add:"Novo Informativo",update:"Editar Informativo",readonly:"Apenas Visualiza\xe7\xe3o",form:{priority:"Prioridade",required:"Campo obrigat\xf3rio",title:"Title",text:"Texto",mediaPath:"Arquivo",status:"Status"},buttons:{add:"Adicionar",edit:"Atualizar",okadd:"Ok",cancel:"Cancelar",close:"Fechar",attach:"Anexar Arquivo"}},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},toasts:{success:"Opera\xe7\xe3o realizada com sucesso",deleted:"Registro exclu\xeddo",info:"Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."}},campaignsConfig:{title:"Configura\xe7\xf5es de Campanhas"},queues:{title:"Filas & Chatbot",table:{id:"ID",name:"Nome",color:"Cor",greeting:"Mensagem de sauda\xe7\xe3o",actions:"A\xe7\xf5es",orderQueue:"Ordena\xe7\xe3o da fila (bot)"},buttons:{add:"Adicionar fila"},toasts:{success:"Fila deletada com sucesso."},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida! Os atendimentos dessa fila continuar\xe3o existindo, mas n\xe3o ter\xe3o mais nenhuma fila atribu\xedda."}},queueSelect:{inputLabel:"Filas"},users:{title:"Usu\xe1rios",table:{id:"ID",name:"Nome",email:"Email",profile:"Perfil",actions:"A\xe7\xf5es"},buttons:{add:"Adicionar usu\xe1rio"},toasts:{deleted:"Usu\xe1rio exclu\xeddo com sucesso."},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Todos os dados do usu\xe1rio ser\xe3o perdidos. Os atendimento abertos deste usu\xe1rio ser\xe3o movidos para a fila."}},todolist:{input:"Nova tarefa",buttons:{add:"Adicionar",save:"Salvar"}},helps:{title:"Central de Ajuda"},schedules:{title:"Agendamentos",confirmationModal:{deleteTitle:"Voc\xea tem certeza que quer excluir este Agendamento?",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},table:{contact:"Contato",body:"Mensagem",sendAt:"Data de Agendamento",sentAt:"Data de Envio",status:"Status",actions:"A\xe7\xf5es"},messages:{date:"Data",time:"Hora",event:"Evento",allDay:"Dia Todo",week:"Semana",work_week:"Agendamentos",day:"Dia",month:"M\xeas",previous:"Anterior",next:"Pr\xf3ximo",yesterday:"Ontem",tomorrow:"Amanh\xe3",today:"Hoje",agenda:"Agenda",noEventsInRange:"N\xe3o h\xe1 agendamentos no per\xedodo.",showMore:"mais"},buttons:{add:"Novo Agendamento"},toasts:{deleted:"Agendamento exclu\xeddo com sucesso."}},tags:{title:"Tags",confirmationModal:{deleteTitle:"Voc\xea tem certeza que quer excluir esta Tag?",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida.",deleteAllMessage:"Tem certeza que deseja deletar todas as Tags?",deleteAllTitle:"Deletar Todos"},table:{name:"Nome",color:"Cor",tickets:"Registros Tagdos",actions:"A\xe7\xf5es"},buttons:{add:"Nova Tag",deleteAll:"Deletar Todas"},toasts:{deletedAll:"Todas Tags exclu\xeddas com sucesso!",deleted:"Tag exclu\xeddo com sucesso."}},settings:{schedulesUpdated:"Hor\xe1rios atualizados com sucesso.",success:"Configura\xe7\xf5es salvas com sucesso.",title:"Configura\xe7\xf5es",tabs:{options:"Op\xe7\xf5es",schedules:"Hor\xe1rios",companies:"Empresas",plans:"Planos",helps:"Ajuda"},options:{toasts:{success:"Opera\xe7\xe3o atualizada com sucesso."},fields:{ratings:{title:"Avalia\xe7\xf5es",disabled:"Desabilitadas",enabled:"Habilitadas"},expedientManager:{title:"Gerenciamento de Expediente",queue:"Fila",company:"Empresa"},ignoreMessages:{title:"Ignorar Mensagens de Grupos"},acceptCall:{title:"Aceitar Chamada",disabled:"N\xe3o aceitar",enabled:"Aceitar"},chatbotType:{title:"Tipo Chatbot",text:"Texto"},sendGreetingAccepted:{title:"Enviar sauda\xe7\xe3o ao aceitar o ticket"},sendMsgTransfTicket:{title:"Enviar mensagem de transferencia de Fila/agente"},sendGreetingMessageOneQueues:{title:"Enviar sauda\xe7\xe3o quando houver somente 1 fila<"},disabled:"Desabilitado",active:"Ativo",enabled:"Habilitado"},updating:"Atualizando...",tabs:{integrations:"INTEGRA\xc7\xd5ES"}},helps:{toasts:{errorList:"N\xe3o foi poss\xedvel carregar a lista de registros",errorOperation:"N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o",error:"N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o. Verifique se j\xe1 existe uma helpo com o mesmo nome ou se os campos foram preenchidos corretamente",success:"Opera\xe7\xe3o realizada com sucesso!"},buttons:{clean:"Limpar",delete:"Excluir",save:"Salvar"},grid:{title:"T\xedtulo",description:"Descri\xe7\xe3o",video:"V\xeddeo"},confirmModal:{title:"Exclus\xe3o de Registro",confirm:"Deseja realmente excluir esse registro?"}},company:{toasts:{errorList:"N\xe3o foi poss\xedvel carregar a lista de registros",errorOperation:"N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o",error:"N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o. Verifique se j\xe1 existe uma empresa com o mesmo nome ou se os campos foram preenchidos corretamente",success:"Opera\xe7\xe3o realizada com sucesso!"},confirmModal:{title:"Exclus\xe3o de Registro",confirm:"Deseja realmente excluir esse registro?"},form:{name:"Nome",email:"E-mail",phone:"Telefone",plan:"Plano",status:"Status",yes:"Sim",no:"N\xe3o",campanhas:"Campanhas",enabled:"Habilitadas",disabled:"Desabilitadas",dueDate:"Data de vencimento",recurrence:"Recorr\xeancia",monthly:"Mensal",expire:"Vencimento",createdAt:"Criada Em"},buttons:{clear:"Limpar",delete:"Excluir",expire:"+ Vencimento",user:"Usu\xe1rio",save:"Salvar"}},schedules:{form:{weekday:"Dia da Semana",initialHour:"Hora Inicial",finalHour:"Hora Final",save:"Salvar"}},settings:{userCreation:{name:"Cria\xe7\xe3o de usu\xe1rio",options:{enabled:"Ativado",disabled:"Desativado"}}}},messagesList:{header:{assignedTo:"Atribu\xeddo \xe0:",buttons:{return:"Retornar",resolve:"Resolver",reopen:"Reabrir",accept:"Aceitar",download:"Baixar"}},lostCall:"Chamada de voz/v\xeddeo perdida \xe0s",deletedMessage:"Essa mensagem foi apagada pelo contato",edited:"Editada",saudation:"Diga ol\xe1 para seu novo contato!"},messagesInput:{placeholderOpen:"Digite uma mensagem",placeholderClosed:"Reabra ou aceite esse ticket para enviar uma mensagem.",signMessage:"Assinar"},contactDrawer:{header:"Dados do contato",buttons:{edit:"Editar contato"},extraInfo:"Outras informa\xe7\xf5es"},fileModal:{title:{add:"Adicionar lista de arquivos",edit:"Editar lista de arquivos"},buttons:{okAdd:"Salvar",okEdit:"Editar",cancel:"Cancelar",fileOptions:"Adicionar arquivo"},form:{name:"Nome da lista de arquivos",message:"Detalhes da lista",fileOptions:"Lista de arquivos",extraName:"Mensagem para enviar com arquivo",extraValue:"Valor da op\xe7\xe3o"},formErrors:{name:{required:"Nome \xe9 obrigat\xf3rio",short:"Nome muito curto"},message:{required:"Mensagem \xe9 obrigat\xf3ria"}},success:"Lista de arquivos salva com sucesso!"},ticketOptionsMenu:{schedule:"Agendamento",delete:"Deletar",transfer:"Transferir",registerAppointment:"Observa\xe7\xf5es do Contato",appointmentsModal:{title:"Observa\xe7\xf5es do Contato",textarea:"Observa\xe7\xe3o",placeholder:"Insira aqui a informa\xe7\xe3o que deseja registrar"},confirmationModal:{title:"Deletar o ticket",titleFrom:"do contato ",message:"Aten\xe7\xe3o! Todas as mensagens relacionadas ao ticket ser\xe3o perdidas."},buttons:{delete:"Excluir",cancel:"Cancelar"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancelar"}},messageOptionsMenu:{delete:"Deletar",reply:"Responder",confirmationModal:{title:"Apagar mensagem?",message:"Esta a\xe7\xe3o n\xe3o pode ser revertida."}},backendErrors:{ERR_INTERNAL_SERVER_ERROR:"Ocorreu um erro inesperado. Por favor, tente novamente mais tarde",ERR_NO_OTHER_WHATSAPP:"Deve haver pelo menos um WhatsApp padr\xe3o.",ERR_NO_DEF_WAPP_FOUND:"Nenhum WhatsApp padr\xe3o encontrado. Verifique a p\xe1gina de conex\xf5es.",ERR_WAPP_NOT_INITIALIZED:"Esta sess\xe3o do WhatsApp n\xe3o foi inicializada. Verifique a p\xe1gina de conex\xf5es.",ERR_WAPP_CHECK_CONTACT:"N\xe3o foi poss\xedvel verificar o contato do WhatsApp. Verifique a p\xe1gina de conex\xf5es",ERR_WAPP_INVALID_CONTACT:"Este n\xe3o \xe9 um n\xfamero de Whatsapp v\xe1lido.",ERR_WAPP_DOWNLOAD_MEDIA:"N\xe3o foi poss\xedvel baixar m\xeddia do WhatsApp. Verifique a p\xe1gina de conex\xf5es.",ERR_INVALID_CREDENTIALS:"Erro de autentica\xe7\xe3o. Por favor, tente novamente.",ERR_USER_DONT_EXISTS:"Usu\xe1rio n\xe3o encontrado. Verifique o e-mail informado.",ERR_SENDING_WAPP_MSG:"Erro ao enviar mensagem do WhatsApp. Verifique a p\xe1gina de conex\xf5es.",ERR_DELETE_WAPP_MSG:"N\xe3o foi poss\xedvel excluir a mensagem do WhatsApp.",ERR_OTHER_OPEN_TICKET:"J\xe1 existe um t\xedquete aberto para este contato.",ERR_SESSION_EXPIRED:"Sess\xe3o expirada. Por favor entre.",ERR_USER_CREATION_DISABLED:"A cria\xe7\xe3o do usu\xe1rio foi desabilitada pelo administrador.",ERR_NO_PERMISSION:"Voc\xea n\xe3o tem permiss\xe3o para acessar este recurso.",ERR_DUPLICATED_CONTACT:"J\xe1 existe um contato com este n\xfamero.",ERR_NO_SETTING_FOUND:"Nenhuma configura\xe7\xe3o encontrada com este ID.",ERR_NO_CONTACT_FOUND:"Nenhum contato encontrado com este ID.",ERR_NO_TICKET_FOUND:"Nenhum t\xedquete encontrado com este ID.",ERR_NO_USER_FOUND:"Nenhum usu\xe1rio encontrado com este ID.",ERR_NO_WAPP_FOUND:"Nenhum WhatsApp encontrado com este ID.",ERR_CREATING_MESSAGE:"Erro ao criar mensagem no banco de dados.",ERR_CREATING_TICKET:"Erro ao criar t\xedquete no banco de dados.",ERR_FETCH_WAPP_MSG:"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"Esta cor j\xe1 est\xe1 em uso, escolha outra.",ERR_WAPP_GREETING_REQUIRED:"A mensagem de sauda\xe7\xe3o \xe9 obrigat\xf3rio quando h\xe1 mais de uma fila."}}},en:{translations:{selectLanguage:"Select Language",signup:{title:"Sign Up",toasts:{success:"User created successfully! Please login!!!",fail:"Error creating user. Please check the provided information."},form:{name:"Company Name",email:"Email",phone:"Phone Number (with Area Code)",plan:"Plan",password:"Password"},formErrors:{name:{required:"Company name is required",short:"Name is too short",long:"Name is too long"},password:{short:"Password is too short",long:"Password is too long"},email:{required:"Email is required",invalid:"Invalid email"}},buttons:{submit:"Register",login:"Already have an account? Login!"},plan:{attendant:"Attendant",whatsapp:"WhatsApp",queues:"Queues"}},login:{title:"Login",form:{email:"Email",password:"Password"},buttons:{submit:"Login",register:"Sign up now!"}},resetPassword:{title:"Reset Password",toasts:{emailSent:"Email sent successfully!",emailNotFound:"Email not found!",passwordUpdated:"Password updated successfully!"},formErrors:{email:{required:"Email is required",invalid:"Invalid email"},newPassword:{required:"New password is required",matches:"Your password must have at least 8 characters, including one uppercase letter, one lowercase letter, and one number."},confirmPassword:{required:"Password confirmation is required",matches:"Passwords do not match"}},form:{email:"Email",verificationCode:"Verification Code",newPassword:"New Password",confirmPassword:"Confirm New Password"},buttons:{submitEmail:"Send Email",submitPassword:"Reset Password",back:"Don't have an account? Sign up!"}},dashboard:{toasts:{selectFilterError:"Set filter parameters",userChartError:"Error getting conversation information",dateChartError:"Error getting conversation information"},filters:{initialDate:"Start Date",finalDate:"End Date",filterType:{title:"Filter Type",options:{perDate:"Filter by Date",perPeriod:"Filter by Period"},helper:"Select desired filter type"}},periodSelect:{title:"Period",options:{none:"None selected",last3:"Last 3 days",last7:"Last 7 days",last15:"Last 15 days",last30:"Last 30 days",last60:"Last 60 days",last90:"Last 90 days"},helper:"Select desired period"},counters:{inTalk:"In conversation",waiting:"Waiting",finished:"Finished",newContacts:"New contacts",averageTalkTime:"Avg. Talk Time",averageWaitTime:"Avg. Wait Time"},buttons:{filter:"Filter"},onlineTable:{ratingLabel:"1 - Unsatisfied, 2 - Satisfied, 3 - Very Satisfied",name:"Name",ratings:"Ratings",avgSupportTime:"Avg. Support Time",status:"Status (Current)"},charts:{user:{label:"Conversations Chart",title:"Total Conversations by Users",start:"Start",end:"End",filter:"Filter"},date:{label:"Conversations Chart",title:"Total",start:"Start",end:"End",filter:"Filter"}}},plans:{toasts:{errorList:"Could not load records list",errorOperation:"Could not complete operation",error:"Could not complete operation. Check if a plan with the same name already exists or if fields were filled correctly",success:"Operation completed successfully!"},confirm:{title:"Delete Record",message:"Do you really want to delete this record?"},form:{name:"Name",users:"Users",connections:"Connections",queues:"Queues",value:"Value",internalChat:"Internal Chat",externalApi:"External API",kanban:"Kanban",integrations:"Integrations",campaigns:"Campaigns",schedules:"Schedules",enabled:"Enabled",disabled:"Disabled",clear:"Cancel",delete:"Delete",save:"Save",yes:"Yes",no:"No",money:"$"}},kanban:{toasts:{removed:"Ticket Tag Removed!",added:"Ticket Tag Added Successfully!"},open:"Open",seeTicket:"View Ticket"},invoices:{title:"Invoices",paid:"Paid",open:"Open",expired:"Expired",details:"Details",value:"Amount",dueDate:"Due Date",status:"Status",action:"Action",PAY:"PAY",PAID:"PAID"},checkoutPage:{steps:{data:"Data",customize:"Customize",review:"Review"},success:"Subscription completed successfully! Awaiting payment confirmation",closeToEnd:"Almost there!",BACK:"BACK",PAY:"PAY",NEXT:"NEXT",review:{title:"Subscription Summary",details:"Plan Details",users:"Users",whatsapp:"WhatsApp",charges:"Billing: Monthly",total:"Total"},form:{firstName:{label:"Full Name*",required:"Full name is required"},lastName:{label:"Last Name*",required:"Last name is required"},address1:{label:"Address*",required:"Address is required"},city:{label:"City*",required:"City is required"},state:{label:"State*",required:"State is required"},zipcode:{label:"ZIP Code*",required:"ZIP code is required",invalid:"Invalid ZIP code format"},country:{label:"Country*",required:"Country is required"},useAddressForPaymentDetails:{label:"Use this address for payment details"},invoiceId:{label:"Use this invoice ID"},nameOnCard:{label:"Name on Card*",required:"Name on card is required"},cardNumber:{label:"Card Number*",required:"Card number is required",invalid:"Invalid card number (ex: 4111111111111)"},expiryDate:{label:"Expiration Date*",required:"Expiration date is required",invalid:"Invalid expiration date"},cvv:{label:"CVV*",required:"CVV is required",invalid:"Invalid CVV (ex: 123)"}},pricing:{users:"Users",connection:"Connection",queues:"Queues",SELECT:"SELECT",month:"month"}},companies:{title:"Register Company",form:{name:"Company Name",plan:"Plan",token:"Token",submit:"Register",success:"Company created successfully!"}},auth:{toasts:{success:"Login successful!"},token:"Token"},connections:{title:"Connections",toasts:{deleted:"WhatsApp connection deleted successfully!"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? This action cannot be undone.",disconnectTitle:"Disconnect",disconnectMessage:"Are you sure? You'll need to scan the QR Code again."},buttons:{add:"Add WhatsApp",disconnect:"disconnect",tryAgain:"Try again",qrcode:"QR CODE",newQr:"New QR CODE",connecting:"Connecting"},toolTips:{disconnected:{title:"Failed to start WhatsApp session",content:"Make sure your phone is connected to the internet and try again, or request a new QR Code"},qrcode:{title:"Waiting for QR Code scan",content:"Click the 'QR CODE' button and scan the QR Code with your phone to start the session"},connected:{title:"Connection established!"},timeout:{title:"Connection to phone was lost",content:"Make sure your phone is connected to the internet and WhatsApp is open, or click the 'Disconnect' button to get a new QR Code"}},table:{name:"Name",status:"Status",lastUpdate:"Last update",default:"Default",actions:"Actions",session:"Session"}},whatsappModal:{title:{add:"Add WhatsApp",edit:"Edit WhatsApp"},formErrors:{name:{required:"Name is required",short:"Name is too short",long:"Name is too long"}},tabs:{general:"General",messages:"Messages",assessments:"Assessments",integrations:"Integrations",schedules:"Business Hours"},form:{name:"Name",default:"Default",sendIdQueue:"Queue",timeSendQueue:"Redirect to queue in X minutes",queueRedirection:"Queue Redirection",outOfHoursMessage:"Out of office message",queueRedirectionDesc:"Select a queue for contacts without a queue to be redirected to",prompt:"Prompt",queue:"Transfer Queue",timeToTransfer:"Transfer after x (minutes)",expiresTicket:"Close open chats after x minutes",expiresInactiveMessage:"Inactivity closure message",greetingMessage:"Greeting message",complationMessage:"Completion message",integration:"Integration"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"WhatsApp saved successfully."},qrCodeModal:{title:"Use your WhatsApp:",steps:{one:"1 - Open WhatsApp on your phone",two:{partOne:"2 - Tap More options on Android",partTwo:"or Settings",partThree:"on iPhone"},three:"3 - Tap Linked Devices and then Link a Device",four:"4 - Point your phone at this screen to capture the QR Code"},waiting:"Waiting for QR Code scan"},qrCode:{message:"Scan the QR Code to start the session"},contacts:{title:"Contacts",toasts:{deleted:"Contact deleted successfully!",deletedAll:"All contacts deleted successfully!"},searchPlaceholder:"Search...",confirmationModal:{deleteTitle:"Delete ",deleteAllTitle:"Delete All",importTitle:"Import contacts",deleteMessage:"Are you sure you want to delete this contact? All related tickets will be lost.",deleteAllMessage:"Are you sure you want to delete all contacts? All related tickets will be lost.",importMessage:"Do you want to import all phone contacts?"},buttons:{import:"Import Contacts",add:"Add Contact",export:"Export Contacts",delete:"Delete All Contacts"},table:{name:"Name",whatsapp:"WhatsApp",email:"Email",actions:"Actions"}},contactImportModal:{title:"Contact Spreadsheet",labels:{import:"Import contacts",result:"results",added:"Added",savedContact:"Contact saved",errors:"Errors"},buttons:{download:"Download template spreadsheet",import:"Import contacts"}},queueIntegrationModal:{title:{add:"Add project",edit:"Edit project"},form:{id:"ID",type:"Type",name:"Name",projectName:"Project Name",language:"Language",jsonContent:"JsonContent",urlN8N:"URL",typebotSlug:"Typebot - Slug",typebotExpires:"Time in minutes to expire a conversation",typebotKeywordFinish:"Keyword to finish ticket",typebotKeywordRestart:"Keyword to restart flow",typebotRestartMessage:"Message when restarting conversation",typebotUnknownMessage:"Invalid option message",typebotDelayMessage:"Interval (ms) between messages"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel",test:"Test Bot"},messages:{testSuccess:"Integration tested successfully!",addSuccess:"Integration added successfully.",editSuccess:"Integration edited successfully."}},sideMenu:{name:"Initial Side Menu",note:"If enabled, the side menu will start closed",options:{enabled:"Open",disabled:"Closed"}},promptModal:{form:{name:"Name",prompt:"Prompt",model:"Model",max_tokens:"Maximum Tokens in response",temperature:"Temperature",apikey:"API Key",max_messages:"Maximum messages in History"},formErrors:{name:{short:"Name is too short",long:"Name is too long",required:"Name is required"},prompt:{short:"Prompt is too short",required:"Describe the training for Artificial Intelligence"},modal:{required:"Enter the desired model for the Prompt"},maxTokens:{required:"Enter the maximum number of tokens in the response"},temperature:{required:"Enter the temperature"},apikey:{required:"Enter the API Key"},queueId:{required:"Enter the queue"},maxMessages:{required:"Enter the maximum number of messages in history"}},success:"Prompt saved successfully!",setor:"Enter the sector",title:{add:"Add Prompt",edit:"Edit Prompt"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"}},prompts:{title:"Prompts",table:{name:"Name",queue:"Sector/Queue",max_tokens:"Maximum Response Tokens",actions:"Actions"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? This action cannot be undone!"},buttons:{add:"Add Prompt"}},contactModal:{title:{add:"Add Contact",edit:"Edit Contact"},form:{mainInfo:"Contact Information",extraInfo:"Additional Information",name:"Name",number:"WhatsApp Number",email:"Email",extraName:"Field Name",extraValue:"Value",whatsapp:"Source Connection: "},formErrors:{name:{required:"Name is required",short:"Name is too short",long:"Name is too long"},phone:{short:"Number is too short",long:"Number is too long"},email:{invalid:"Invalid email"}},buttons:{addExtraInfo:"Add Information",okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"Contact saved successfully."},queueModal:{title:{add:"Add Queue",edit:"Edit Queue"},form:{name:"Name",nameShort:"Short name",nameLong:"Long name",nameRequired:"Name is required",color:"Color",colorShort:"Short color",colorLong:"Long color",greetingMessage:"Greeting message",complationMessage:"Completion message",outOfHoursMessage:"Out of office message",ratingMessage:"Rating message",token:"Token",orderQueue:"Queue order (Bot)",integrationId:"Integration"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},toasts:{success:"Queue saved successfully.",info:"Click save to register changes"},tabs:{queueData:"Queue Data",attendanceTime:"Service Hours"}},userModal:{title:{add:"Add User",edit:"Edit User"},form:{name:"Name",email:"Email",password:"Password",profile:"Profile",whatsapp:"Default Connection",allTicket:"Queueless Ticket [Invisible]",allTicketEnabled:"Enabled",allTicketDesabled:"Disabled"},formErrors:{name:{required:"Name is required",short:"Name is too short",long:"Name is too long"},password:{short:"Password is too short",long:"Password is too long"},email:{required:"Email is required",invalid:"Invalid email"}},labels:{liberations:"Releases"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"User saved successfully."},scheduleModal:{title:{add:"New Schedule",edit:"Edit Schedule"},form:{body:"Message",contact:"Contact",sendAt:"Schedule Date",sentAt:"Send Date"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"Schedule saved successfully."},tagModal:{title:{add:"New Tag",edit:"Edit Tag"},form:{name:"Name",color:"Color"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"Tag saved successfully."},chat:{toasts:{fillTitle:"Please fill in the conversation title.",fillUser:"Please select at least one user."},modal:{title:"Conversation",titleField:"Title"},confirm:{title:"Delete Conversation",message:"This action cannot be undone, confirm?"},chats:"Chats",messages:"Messages",noTicketMessage:"Select a ticket to start chatting.",buttons:{close:"Close",save:"Save",new:"New",newChat:"New"}},uploads:{titles:{titleUploadMsgDragDrop:"DRAG AND DROP FILES IN THE FIELD BELOW",titleFileList:"File List"}},ticketsManager:{buttons:{newTicket:"New"}},ticketsQueueSelect:{placeholder:"Queues"},tickets:{toasts:{deleted:"The service you were in has been deleted.",unauthorized:"Access not allowed"},filters:{user:"Filter by users",tags:"Filter by tags"},notification:{message:"Message from"},tabs:{open:{title:"Open"},closed:{title:"Resolved"},search:{title:"Search"}},search:{placeholder:"Search tickets and messages"},buttons:{showAll:"All"}},transferTicketModal:{title:"Transfer Ticket",fieldLabel:"Type to search users",fieldQueueLabel:"Transfer to queue",fieldQueuePlaceholder:"Select a queue",noOptions:"No user found with that name",buttons:{ok:"Transfer",cancel:"Cancel"}},ticketsList:{pendingHeader:"Waiting",assignedHeader:"In Progress",noTicketsTitle:"Nothing here!",noTicketsMessage:"No service found with this status or search term",buttons:{accept:"Accept",closed:"Finish",reopen:"Reopen"}},ticketsListItem:{tooltip:{chatbot:"Chatbot",peek:"Peek Conversation"},noQueue:"NO QUEUE"},ticketAdvanced:{selectTicket:"Select Ticket",ticketNav:"Ticket",attendanceNav:"Services"},newTicketModal:{title:"Create Ticket",fieldLabel:"Type to search contact",add:"Add",searchQueueError:"An unexpected error occurred while trying to fetch queues",selectQueue:"Select a queue",selectConection:"Select a connection",buttons:{ok:"Save",cancel:"Cancel"}},locationPreview:{button:"Preview"},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Connections",tickets:"Services",quickMessages:"Quick Responses",tasks:"Tasks",contacts:"Contacts",queues:"Queues & Chatbot",tags:"Tags",administration:"Administration",users:"Users",settings:"Settings",helps:"Help",messagesAPI:"API",schedules:"Schedules",campaigns:"Campaigns",flows:"Flows",annoucements:"Announcements",chats:"Internal Chat",financeiro:"Financial",files:"File List",prompts:"Open.AI",queueIntegration:"Integrations"},appBar:{refresh:"Reload page",notRegister:"No notifications",greeting:{hello:"Hello",welcome:"Welcome to",active:"Active until"},user:{profile:"Profile",logout:"Logout"}}},queueIntegration:{title:"Integrations",table:{id:"ID",type:"Type",name:"Name",projectName:"Project Name",language:"Language",lastUpdate:"Last update",actions:"Actions"},buttons:{add:"Add Project"},searchPlaceholder:"Search...",confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? This action cannot be undone! It will be removed from linked queues and connections"}},files:{title:"File List",table:{name:"Name",contacts:"Contacts",actions:"Action"},toasts:{deleted:"List deleted successfully!",deletedAll:"All lists deleted successfully!"},buttons:{add:"Add",deleteAll:"Delete All"},confirmationModal:{deleteTitle:"Delete",deleteAllTitle:"Delete All",deleteMessage:"Are you sure you want to delete this list?",deleteAllMessage:"Are you sure you want to delete all lists?"}},messagesAPI:{title:"API",labels:{doc:"Documentation for sending messages",method:"Sending Methods",textMessage:"Text Message",mediaMessage:"Media Message",instructions:"Instructions",observations:"Important notes",before1:"Before sending messages, you need to register the token linked to the connection that will send the messages.",before2:"To register, access the 'Connections' menu, click the edit button of the connection and enter the token in the appropriate field.",numberDescription:"The sending number should not have masks or special characters and must be composed of:",countryCode:"Country Code",number:"Number",textMessage2:"1. Text Messages",textMessageInstructions:"Below is the list of information needed to send text messages:",method2:"Method",e:"and",tests:"Send Test",mediaMessage2:"2. Media Messages"},textMessage:{number:"Number",body:"Message",token:"Registered Token"},mediaMessage:{number:"Number",body:"File name",media:"File",token:"Registered Token"},toasts:{unauthorized:"This company doesn't have permission to access this page! We are redirecting you.",success:"Message sent successfully!"},buttons:{send:"Send"}},notifications:{noTickets:"No notifications."},quickMessages:{title:"Quick Responses",searchPlaceholder:"Search...",noAttachment:"No attachment",confirmationModal:{deleteTitle:"Delete",deleteMessage:"This action is irreversible! Do you want to proceed?"},buttons:{add:"Add",attach:"Attach File",cancel:"Cancel",edit:"Edit"},toasts:{success:"Shortcut added successfully!",deleted:"Shortcut removed successfully!"},dialog:{title:"Quick Message",shortcode:"Shortcut",message:"Response",save:"Save",cancel:"Cancel",geral:"Allow edit",add:"Add",edit:"Edit",visao:"Allow view"},table:{shortcode:"Shortcut",message:"Message",actions:"Actions",mediaName:"File Name",status:"Status"}},messageVariablesPicker:{label:"Available Variables",vars:{contactFirstName:"First Name",contactName:"Name",greeting:"Greeting",protocolNumber:"Protocol",date:"Date",hour:"Hour"}},contactLists:{title:"Contact Lists",table:{name:"Name",contacts:"Contacts",actions:"Actions"},buttons:{add:"New List"},dialog:{name:"Name",nameShort:"Short name",nameLong:"Long name",nameRequired:"Name is required",company:"Company",okEdit:"Edit",okAdd:"Add",add:"Add",edit:"Edit",cancel:"Cancel"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"This action cannot be undone."},toasts:{deleted:"Record deleted",success:"Operation completed successfully"}},contactListItems:{title:"Contacts",searchPlaceholder:"Search",buttons:{add:"New",lists:"Lists",import:"Import"},download:"Click here to download example spreadsheet.",dialog:{name:"Name",nameShort:"Short name",nameLong:"Long name",nameRequired:"Name is required",number:"Number",numberShort:"Short number",numberLong:"Long number",whatsapp:"WhatsApp",email:"Email",emailInvalid:"Invalid email",okEdit:"Edit",okAdd:"Add",add:"Add",edit:"Edit",cancel:"Cancel"},table:{name:"Name",number:"Number",whatsapp:"WhatsApp",email:"Email",actions:"Actions"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"This action cannot be undone.",importMessage:"Do you want to import contacts from this spreadsheet? ",importTitle:"Import"},toasts:{deleted:"Record deleted"}},campaigns:{title:"Campaigns",searchPlaceholder:"Search",report:{title:"Report of",title2:"Campaign",of:"of",validContacts:"Valid contacts",delivered:"Delivered",connection:"Connection",contactList:"Contact List",schedule:"Schedule",conclusion:"Conclusion"},config:{interval:"Intervals",randomInterval:"Random Send Interval",biggerInterval:"Larger Interval After",greaterInterval:"Greater Send Interval",noInterval:"No Interval",second:"second",seconds:"seconds",notDefined:"Not defined",addVariable:"Add Variable",save:"Save Settings",shortcut:"Shortcut",content:"Content",close:"Close",add:"Add"},buttons:{add:"New Campaign",contactLists:"Contact Lists"},status:{inactive:"Inactive",programmed:"Scheduled",inProgress:"In progress",canceled:"Canceled",finished:"Finished"},table:{name:"Name",whatsapp:"Connection",contactList:"Contact List",status:"Status",scheduledAt:"Schedule",completedAt:"Completed",confirmation:"Confirmation",actions:"Actions",notDefined:"Not defined",notDefined2:"Not defined",notScheduled:"Not scheduled",notConcluded:"Not concluded",stopCampaign:"Stop Campaign"},dialog:{new:"New Campaign",update:"Edit Campaign",readonly:"View Only",form:{name:"Name",nameShort:"Short name",nameLong:"Long name",helper:"Use variables like {name}, {number}, {email} or define custom variables.",nameRequired:"Name is required",message1:"Message 1",message2:"Message 2",message3:"Message 3",message4:"Message 4",message5:"Message 5",messagePlaceholder:"Message content",whatsapp:"Connection",status:"Status",scheduledAt:"Schedule",confirmation:"Confirmation",contactList:"Contact List",tagList:"Tag List",fileList:"File List"},buttons:{add:"Add",edit:"Update",okadd:"Ok",cancel:"Cancel Sends",restart:"Restart Sends",close:"Close",attach:"Attach File"}},confirmationModal:{deleteTitle:"Delete",deleteMessage:"This action cannot be undone."},toasts:{configSaved:"Settings saved",success:"Operation completed successfully",cancel:"Campaign canceled",restart:"Campaign restarted",deleted:"Record deleted"}},subscription:{title:"Subscription",testPeriod:"Trial Period",remainingTest:"Your trial period ends in",remainingTest2:"days!",chargeEmail:"Billing email",signNow:"Sign up now!"},announcements:{active:"Active",inactive:"Inactive",title:"Announcements",searchPlaceholder:"Search",high:"High",medium:"Medium",low:"Low",buttons:{add:"New Announcement",contactLists:"Announcement Lists"},table:{priority:"Priority",title:"Title",text:"Text",mediaName:"File",status:"Status",actions:"Actions"},dialog:{edit:"Edit Announcement",add:"New Announcement",update:"Edit Announcement",readonly:"View Only",form:{priority:"Priority",required:"Required field",title:"Title",text:"Text",mediaPath:"File",status:"Status"},buttons:{add:"Add",edit:"Update",okadd:"Ok",cancel:"Cancel",close:"Close",attach:"Attach File"}},confirmationModal:{deleteTitle:"Delete",deleteMessage:"This action cannot be undone."},toasts:{success:"Operation completed successfully",deleted:"Record deleted",info:"This company doesn't have permission to access this page! We are redirecting you."}},campaignsConfig:{title:"Campaign Settings"},queues:{title:"Queues & Chatbot",table:{id:"ID",name:"Name",color:"Color",greeting:"Greeting message",actions:"Actions",orderQueue:"Queue order (bot)"},buttons:{add:"Add queue"},toasts:{success:"Queue deleted successfully."},confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? This action cannot be undone! Services in this queue will continue to exist but won't have any queue assigned."}},queueSelect:{inputLabel:"Queues"},users:{title:"Users",table:{id:"ID",name:"Name",email:"Email",profile:"Profile",actions:"Actions"},buttons:{add:"Add user"},toasts:{deleted:"User deleted successfully."},confirmationModal:{deleteTitle:"Delete",deleteMessage:"All user data will be lost. Open services for this user will be moved to the queue."}},todolist:{input:"New task",buttons:{add:"Add",save:"Save"}},helps:{title:"Help Center"},schedules:{title:"Schedules",confirmationModal:{deleteTitle:"Are you sure you want to delete this Schedule?",deleteMessage:"This action cannot be undone."},table:{contact:"Contact",body:"Message",sendAt:"Schedule Date",sentAt:"Send Date",status:"Status",actions:"Actions"},messages:{date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Schedules",day:"Day",month:"Month",previous:"Previous",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"No schedules in this period.",showMore:"more"},buttons:{add:"New Schedule"},toasts:{deleted:"Schedule deleted successfully."}},tags:{title:"Tags",confirmationModal:{deleteTitle:"Are you sure you want to delete this Tag?",deleteMessage:"This action cannot be undone.",deleteAllMessage:"Are you sure you want to delete all Tags?",deleteAllTitle:"Delete All"},table:{name:"Name",color:"Color",tickets:"Tagged Records",actions:"Actions"},buttons:{add:"New Tag",deleteAll:"Delete All"},toasts:{deletedAll:"All Tags deleted successfully!",deleted:"Tag deleted successfully."}},settings:{schedulesUpdated:"Schedules updated successfully.",success:"Settings saved successfully.",title:"Settings",tabs:{options:"Options",schedules:"Schedules",companies:"Companies",plans:"Plans",helps:"Help"},options:{toasts:{success:"Operation updated successfully."},fields:{ratings:{title:"Ratings",disabled:"Disabled",enabled:"Enabled"},expedientManager:{title:"Business Hours Management",queue:"Queue",company:"Company"},ignoreMessages:{title:"Ignore Group Messages"},acceptCall:{title:"Accept Call",disabled:"Don't accept",enabled:"Accept"},chatbotType:{title:"Chatbot Type",text:"Text"},sendGreetingAccepted:{title:"Send greeting when accepting ticket"},sendMsgTransfTicket:{title:"Send message on Queue/agent transfer"},sendGreetingMessageOneQueues:{title:"Send greeting when there's only 1 queue"},disabled:"Disabled",active:"Active",enabled:"Enabled"},updating:"Updating...",tabs:{integrations:"INTEGRATIONS"}},helps:{toasts:{errorList:"Could not load records list",errorOperation:"Could not complete operation",error:"Could not complete operation. Check if help with the same name exists or if fields were filled correctly",success:"Operation completed successfully!"},buttons:{clean:"Clear",delete:"Delete",save:"Save"},grid:{title:"Title",description:"Description",video:"Video"},confirmModal:{title:"Delete Record",confirm:"Do you really want to delete this record?"}},company:{toasts:{errorList:"Could not load records list",errorOperation:"Could not complete operation",error:"Could not complete operation. Check if company with same name exists or if fields were filled correctly",success:"Operation completed successfully!"},confirmModal:{title:"Delete Record",confirm:"Do you really want to delete this record?"},form:{name:"Name",email:"Email",phone:"Phone",plan:"Plan",status:"Status",yes:"Yes",no:"No",campanhas:"Campaigns",enabled:"Enabled",disabled:"Disabled",dueDate:"Due date",recurrence:"Recurrence",monthly:"Monthly",expire:"Expiration",createdAt:"Created On"},buttons:{clear:"Clear",delete:"Delete",expire:"+ Expiration",user:"User",save:"Save"}},schedules:{form:{weekday:"Weekday",initialHour:"Start Time",finalHour:"End Time",save:"Save"}},settings:{userCreation:{name:"User creation",options:{enabled:"Enabled",disabled:"Disabled"}}}},messagesList:{header:{assignedTo:"Assigned to:",buttons:{return:"Return",resolve:"Resolve",reopen:"Reopen",accept:"Accept",download:"Download"}},lostCall:"Missed voice/video call at",deletedMessage:"This message was deleted by the contact",edited:"Edited",saudation:"Say hello to your new contact!"},messagesInput:{placeholderOpen:"Type a message",placeholderClosed:"Reopen or accept this ticket to send a message.",signMessage:"Sign"},contactDrawer:{header:"Contact Information",buttons:{edit:"Edit contact"},extraInfo:"Other information"},fileModal:{title:{add:"Add file list",edit:"Edit file list"},buttons:{okAdd:"Save",okEdit:"Edit",cancel:"Cancel",fileOptions:"Add file"},form:{name:"File list name",message:"List details",fileOptions:"File list",extraName:"Message to send with file",extraValue:"Option value"},formErrors:{name:{required:"Name is required",short:"Name is too short"},message:{required:"Message is required"}},success:"File list saved successfully!"},ticketOptionsMenu:{schedule:"Schedule",delete:"Delete",transfer:"Transfer",registerAppointment:"Contact Notes",appointmentsModal:{title:"Contact Notes",textarea:"Note",placeholder:"Enter the information you want to record here"},confirmationModal:{title:"Delete ticket",titleFrom:"from contact ",message:"Warning! All messages related to this ticket will be lost."},buttons:{delete:"Delete",cancel:"Cancel"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancel"}},messageOptionsMenu:{delete:"Delete",reply:"Reply",confirmationModal:{title:"Delete message?",message:"This action cannot be undone."}},backendErrors:{ERR_INTERNAL_SERVER_ERROR:"An unexpected error occurred. Please try again later",ERR_NO_OTHER_WHATSAPP:"There must be at least one default WhatsApp.",ERR_NO_DEF_WAPP_FOUND:"No default WhatsApp found. Check the connections page.",ERR_WAPP_NOT_INITIALIZED:"This WhatsApp session hasn't been initialized. Check the connections page.",ERR_WAPP_CHECK_CONTACT:"Couldn't verify WhatsApp contact. Check the connections page",ERR_WAPP_INVALID_CONTACT:"This is not a valid WhatsApp number.",ERR_WAPP_DOWNLOAD_MEDIA:"Couldn't download WhatsApp media. Check the connections page.",ERR_INVALID_CREDENTIALS:"Authentication error. Please try again.",ERR_USER_DONT_EXISTS:"User not found. Check the provided email.",ERR_SENDING_WAPP_MSG:"Error sending WhatsApp message. Check the connections page.",ERR_DELETE_WAPP_MSG:"Couldn't delete WhatsApp message.",ERR_OTHER_OPEN_TICKET:"There's already an open ticket for this contact.",ERR_SESSION_EXPIRED:"Session expired. Please log in.",ERR_USER_CREATION_DISABLED:"User creation has been disabled by the administrator.",ERR_NO_PERMISSION:"You don't have permission to access this resource.",ERR_DUPLICATED_CONTACT:"A contact with this number already exists.",ERR_NO_SETTING_FOUND:"No settings found with this ID.",ERR_NO_CONTACT_FOUND:"No contact found with this ID.",ERR_NO_TICKET_FOUND:"No ticket found with this ID.",ERR_NO_USER_FOUND:"No user found with this ID.",ERR_NO_WAPP_FOUND:"No WhatsApp found with this ID.",ERR_CREATING_MESSAGE:"Error creating message in database.",ERR_CREATING_TICKET:"Error creating ticket in database.",ERR_FETCH_WAPP_MSG:"Error fetching WhatsApp message, it might be too old.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"This color is already in use, choose another.",ERR_WAPP_GREETING_REQUIRED:"Greeting message is required when there is more than one queue."}}},es:{translations:{selectLanguage:"Seleccione un idioma",signup:{title:"Reg\xedstrate",toasts:{success:"\xa1Usuario creado con \xe9xito! \xa1Inicia sesi\xf3n!!!",fail:"Error al crear usuario. Verifica los datos ingresados."},form:{name:"Nombre de la empresa",email:"Correo electr\xf3nico",phone:"Tel\xe9fono con (c\xf3digo de \xe1rea)",plan:"Plan",password:"Contrase\xf1a"},formErrors:{name:{required:"El nombre de la empresa es obligatorio",short:"Nombre demasiado corto",long:"Nombre demasiado largo"},password:{short:"Contrase\xf1a demasiado corta",long:"Contrase\xf1a demasiado larga"},email:{required:"El correo electr\xf3nico es obligatorio",invalid:"Correo electr\xf3nico inv\xe1lido"}},buttons:{submit:"Registrar",login:"\xbfYa tienes una cuenta? \xa1Inicia sesi\xf3n!"},plan:{attendant:"Asistente",whatsapp:"WhatsApp",queues:"Colas"}},login:{title:"Iniciar sesi\xf3n",form:{email:"Correo electr\xf3nico",password:"Contrase\xf1a"},buttons:{submit:"Entrar",register:"\xa1Reg\xedstrate ahora mismo!"}},resetPassword:{title:"Restablecer Contrase\xf1a",toasts:{emailSent:"\xa1Correo enviado con \xe9xito!",emailNotFound:"\xa1Correo electr\xf3nico no encontrado!",passwordUpdated:"\xa1Contrase\xf1a actualizada con \xe9xito!"},formErrors:{email:{required:"El correo electr\xf3nico es obligatorio",invalid:"Correo electr\xf3nico inv\xe1lido"},newPassword:{required:"La nueva contrase\xf1a es obligatoria",matches:"Tu contrase\xf1a debe tener al menos 8 caracteres, incluyendo una letra may\xfascula, una min\xfascula y un n\xfamero."},confirmPassword:{required:"La confirmaci\xf3n de contrase\xf1a es obligatoria",matches:"Las contrase\xf1as no coinciden"}},form:{email:"Correo electr\xf3nico",verificationCode:"C\xf3digo de verificaci\xf3n",newPassword:"Nueva contrase\xf1a",confirmPassword:"Confirmar nueva contrase\xf1a"},buttons:{submitEmail:"Enviar correo",submitPassword:"Restablecer contrase\xf1a",back:"\xbfNo tienes una cuenta? \xa1Reg\xedstrate!"}},dashboard:{toasts:{selectFilterError:"Parametrice el filtro",userChartError:"Error al obtener informaci\xf3n de la conversaci\xf3n",dateChartError:"Error al obtener informaci\xf3n de la conversaci\xf3n"},filters:{initialDate:"Fecha Inicial",finalDate:"Fecha Final",filterType:{title:"Tipo de Filtro",options:{perDate:"Filtro por Fecha",perPeriod:"Filtro por Per\xedodo"},helper:"Seleccione el tipo de filtro deseado"}},periodSelect:{title:"Per\xedodo",options:{none:"Ninguno seleccionado",last3:"\xdaltimos 3 d\xedas",last7:"\xdaltimos 7 d\xedas",last15:"\xdaltimos 15 d\xedas",last30:"\xdaltimos 30 d\xedas",last60:"\xdaltimos 60 d\xedas",last90:"\xdaltimos 90 d\xedas"},helper:"Seleccione el per\xedodo deseado"},counters:{inTalk:"En conversaci\xf3n",waiting:"En espera",finished:"Finalizados",newContacts:"Nuevos contactos",averageTalkTime:"T.M. de Conversaci\xf3n",averageWaitTime:"T.M. de Espera"},buttons:{filter:"Filtrar"},onlineTable:{ratingLabel:"1 - Insatisfecho, 2 - Satisfecho, 3 - Muy Satisfecho",name:"Nombre",ratings:"Evaluaciones",avgSupportTime:"T.M. de Atenci\xf3n",status:"Estado (Actual)"},charts:{user:{label:"Gr\xe1fico de Conversaciones",title:"Total de Conversaciones por Usuarios",start:"Inicio",end:"Fin",filter:"Filtrar"},date:{label:"Gr\xe1fico de Conversaciones",title:"Total",start:"Inicio",end:"Fin",filter:"Filtrar"}}},plans:{toasts:{errorList:"No fue posible cargar la lista de registros",errorOperation:"No fue posible realizar la operaci\xf3n",error:"No fue posible realizar la operaci\xf3n. Verifique si ya existe un plan con el mismo nombre o si los campos fueron completados correctamente",success:"\xa1Operaci\xf3n realizada con \xe9xito!"},confirm:{title:"Eliminaci\xf3n de Registro",message:"\xbfRealmente desea eliminar el registro?"},form:{name:"Nombre",users:"Usuarios",connections:"Conexiones",queues:"Colas",value:"Valor",internalChat:"Chat Interno",externalApi:"API Externa",kanban:"Kanban",integrations:"Integraciones",campaigns:"Campa\xf1as",schedules:"Programaciones",enabled:"Habilitadas",disabled:"Deshabilitadas",clear:"Cancelar",delete:"Eliminar",save:"Guardar",yes:"S\xed",no:"No",money:"$"}},kanban:{toasts:{removed:"\xa1Etiqueta de Ticket Eliminada!",added:"\xa1Etiqueta de Ticket Agregada con \xc9xito!"},open:"Abierto",seeTicket:"Ver Ticket"},invoices:{title:"Facturas",paid:"Pagado",open:"Pendiente",expired:"Vencido",details:"Detalles",value:"Valor",dueDate:"Fecha Venc.",status:"Estado",action:"Acci\xf3n",PAY:"PAGAR",PAID:"PAGADO"},checkoutPage:{steps:{data:"Datos",customize:"Personalizar",review:"Revisar"},success:"\xa1Suscripci\xf3n realizada con \xe9xito!, esperando la realizaci\xf3n del pago",closeToEnd:"\xa1Falta poco!",BACK:"VOLVER",PAY:"PAGAR",NEXT:"SIGUIENTE",review:{title:"Resumen de la suscripci\xf3n",details:"Detalles del plan",users:"Usuarios",whatsapp:"Whatsapp",charges:"Cobro: Mensual",total:"Total"},form:{firstName:{label:"Nombre completo*",required:"El nombre completo es obligatorio"},lastName:{label:"Apellido*",required:"El apellido es obligatorio"},address1:{label:"Direcci\xf3n*",required:"La direcci\xf3n es obligatoria"},city:{label:"Ciudad*",required:"La ciudad es obligatoria"},state:{label:"Estado/Provincia*",required:"El estado/provincia es obligatorio"},zipcode:{label:"C\xf3digo Postal*",required:"El c\xf3digo postal es obligatorio",invalid:"Formato de c\xf3digo postal inv\xe1lido"},country:{label:"Pa\xeds*",required:"El pa\xeds es obligatorio"},useAddressForPaymentDetails:{label:"Usar esta direcci\xf3n para los detalles de pago"},invoiceId:{label:"Usar este ID de factura"},nameOnCard:{label:"Nombre en la tarjeta*",required:"El nombre en la tarjeta es obligatorio"},cardNumber:{label:"N\xfamero de tarjeta*",required:"El n\xfamero de tarjeta es obligatorio",invalid:"N\xfamero de tarjeta inv\xe1lido (ej: 4111111111111)"},expiryDate:{label:"Fecha de vencimiento*",required:"La fecha de vencimiento es obligatoria",invalid:"Fecha de vencimiento inv\xe1lida"},cvv:{label:"CVV*",required:"El CVV es obligatorio",invalid:"CVV inv\xe1lido (ej: 123)"}},pricing:{users:"Usuarios",connection:"Conexi\xf3n",queues:"Colas",SELECT:"SELECCIONAR",month:"mes"}},companies:{title:"Registrar Empresa",form:{name:"Nombre de la Empresa",plan:"Plan",token:"Token",submit:"Registrar",success:"\xa1Empresa creada con \xe9xito!"}},auth:{toasts:{success:"\xa1Inicio de sesi\xf3n realizado con \xe9xito!"},token:"Token"},connections:{title:"Conexiones",toasts:{deleted:"\xa1Conexi\xf3n con WhatsApp eliminada con \xe9xito!"},confirmationModal:{deleteTitle:"Eliminar",deleteMessage:"\xbfEst\xe1 seguro? Esta acci\xf3n no puede ser revertida.",disconnectTitle:"Desconectar",disconnectMessage:"\xbfEst\xe1 seguro? Necesitar\xe1 leer el c\xf3digo QR nuevamente."},buttons:{add:"Agregar WhatsApp",disconnect:"desconectar",tryAgain:"Intentar nuevamente",qrcode:"C\xd3DIGO QR",newQr:"Nuevo C\xd3DIGO QR",connecting:"Conectando"},toolTips:{disconnected:{title:"Error al iniciar sesi\xf3n de WhatsApp",content:"Aseg\xfarese de que su tel\xe9fono est\xe9 conectado a internet e intente nuevamente, o solicite un nuevo c\xf3digo QR"},qrcode:{title:"Esperando lectura del c\xf3digo QR",content:"Haga clic en el bot\xf3n 'C\xd3DIGO QR' y lea el c\xf3digo QR con su tel\xe9fono para iniciar la sesi\xf3n"},connected:{title:"\xa1Conexi\xf3n establecida!"},timeout:{title:"Se perdi\xf3 la conexi\xf3n con el tel\xe9fono",content:"Aseg\xfarese de que su tel\xe9fono est\xe9 conectado a internet y WhatsApp est\xe9 abierto, o haga clic en el bot\xf3n 'Desconectar' para obtener un nuevo c\xf3digo QR"}},table:{name:"Nombre",status:"Estado",lastUpdate:"\xdaltima actualizaci\xf3n",default:"Predeterminado",actions:"Acciones",session:"Sesi\xf3n"}},whatsappModal:{title:{add:"Agregar WhatsApp",edit:"Editar WhatsApp"},formErrors:{name:{required:"El nombre es obligatorio",short:"Nombre demasiado corto",long:"Nombre demasiado largo"}},tabs:{general:"General",messages:"Mensajes",assessments:"Evaluaciones",integrations:"Integraciones",schedules:"Horario laboral"},form:{name:"Nombre",default:"Predeterminado",sendIdQueue:"Cola",timeSendQueue:"Redirigir a cola en X minutos",queueRedirection:"Redirecci\xf3n de Cola",outOfHoursMessage:"Mensaje fuera de horario",queueRedirectionDesc:"Seleccione una cola para redirigir los contactos que no tienen cola asignada",prompt:"Prompt",queue:"Cola de Transferencia",timeToTransfer:"Transferir despu\xe9s de x (minutos)",expiresTicket:"Cerrar chats abiertos despu\xe9s de x minutos",expiresInactiveMessage:"Mensaje de cierre por inactividad",greetingMessage:"Mensaje de bienvenida",complationMessage:"Mensaje de conclusi\xf3n",integration:"Integraci\xf3n"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"WhatsApp guardado con \xe9xito."},qrCodeModal:{title:"Utilice su WhatsApp:",steps:{one:"1 - Abra WhatsApp en su tel\xe9fono",two:{partOne:"2 - Toque en M\xe1s opciones en Android",partTwo:"o en Configuraci\xf3n",partThree:"en iPhone"},three:"3 - Toque en Dispositivos vinculados y luego en Vincular un dispositivo",four:"4 - Apunte su tel\xe9fono a esta pantalla para capturar el c\xf3digo QR"},waiting:"Esperando lectura del c\xf3digo QR"},qrCode:{message:"Lea el c\xf3digo QR para iniciar la sesi\xf3n"},contacts:{title:"Contactos",toasts:{deleted:"\xa1Contacto eliminado con \xe9xito!",deletedAll:"\xa1Todos los contactos eliminados con \xe9xito!"},searchPlaceholder:"Buscar...",confirmationModal:{deleteTitle:"Eliminar ",deleteAllTitle:"Eliminar Todos",importTitle:"Importar contactos",deleteMessage:"\xbfEst\xe1 seguro que desea eliminar este contacto? Todos los tickets relacionados se perder\xe1n.",deleteAllMessage:"\xbfEst\xe1 seguro que desea eliminar todos los contactos? Todos los tickets relacionados se perder\xe1n.",importMessage:"\xbfDesea importar todos los contactos del tel\xe9fono?"},buttons:{import:"Importar Contactos",add:"Agregar Contacto",export:"Exportar Contactos",delete:"Eliminar Todos los Contactos"},table:{name:"Nombre",whatsapp:"WhatsApp",email:"Email",actions:"Acciones"}},contactImportModal:{title:"Planilla de contactos",labels:{import:"Importar contactos",result:"resultados",added:"Agregados",savedContact:"Contacto guardado",errors:"Errores"},buttons:{download:"Descargar planilla modelo",import:"Importar contactos"}},queueIntegrationModal:{title:{add:"Agregar proyecto",edit:"Editar proyecto"},form:{id:"ID",type:"Tipo",name:"Nombre",projectName:"Nombre del Proyecto",language:"Lenguaje",jsonContent:"JsonContent",urlN8N:"URL",typebotSlug:"Typebot - Slug",typebotExpires:"Tiempo en minutos para expirar una conversaci\xf3n",typebotKeywordFinish:"Palabra para finalizar el ticket",typebotKeywordRestart:"Palabra para reiniciar el flujo",typebotRestartMessage:"Mensaje al reiniciar la conversaci\xf3n",typebotUnknownMessage:"Mensaje de opci\xf3n inv\xe1lida",typebotDelayMessage:"Intervalo (ms) entre mensajes"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar",test:"Probar Bot"},messages:{testSuccess:"\xa1Integraci\xf3n probada con \xe9xito!",addSuccess:"Integraci\xf3n agregada con \xe9xito.",editSuccess:"Integraci\xf3n editada con \xe9xito."}},sideMenu:{name:"Men\xfa Lateral Inicial",note:"Si est\xe1 habilitado, el men\xfa lateral iniciar\xe1 cerrado",options:{enabled:"Abierto",disabled:"Cerrado"}},promptModal:{form:{name:"Nombre",prompt:"Prompt",model:"Modelo",max_tokens:"M\xe1ximo de Tokens en la respuesta",temperature:"Temperatura",apikey:"API Key",max_messages:"M\xe1ximo de mensajes en el Historial"},formErrors:{name:{short:"Nombre demasiado corto",long:"Nombre demasiado largo",required:"El nombre es obligatorio"},prompt:{short:"Prompt demasiado corto",required:"Describa el entrenamiento para la Inteligencia Artificial"},modal:{required:"Informe el modelo deseado para el Prompt"},maxTokens:{required:"Informe el n\xfamero m\xe1ximo de tokens en la respuesta"},temperature:{required:"Informe la temperatura"},apikey:{required:"Informe la API Key"},queueId:{required:"Informe la cola"},maxMessages:{required:"Informe el n\xfamero m\xe1ximo de mensajes en el historial"}},success:"\xa1Prompt guardado con \xe9xito!",setor:"Informe el sector",title:{add:"Agregar Prompt",edit:"Editar Prompt"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"}},prompts:{title:"Prompts",table:{name:"Nombre",queue:"Sector/Cola",max_tokens:"M\xe1ximo Tokens Respuesta",actions:"Acciones"},confirmationModal:{deleteTitle:"Eliminar",deleteMessage:"\xbfEst\xe1 seguro? \xa1Esta acci\xf3n no puede ser revertida!"},buttons:{add:"Agregar Prompt"}},contactModal:{title:{add:"Agregar contacto",edit:"Editar contacto"},form:{mainInfo:"Datos del contacto",extraInfo:"Informaci\xf3n adicional",name:"Nombre",number:"N\xfamero de WhatsApp",email:"Email",extraName:"Nombre del campo",extraValue:"Valor",whatsapp:"Conexi\xf3n Origen: "},formErrors:{name:{required:"El nombre es obligatorio",short:"Nombre demasiado corto",long:"Nombre demasiado largo"},phone:{short:"N\xfamero demasiado corto",long:"N\xfamero demasiado largo"},email:{invalid:"Email inv\xe1lido"}},buttons:{addExtraInfo:"Agregar informaci\xf3n",okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Contacto guardado con \xe9xito."},queueModal:{title:{add:"Agregar cola",edit:"Editar cola"},form:{name:"Nombre",nameShort:"Nombre corto",nameLong:"Nombre largo",nameRequired:"El nombre es obligatorio",color:"Color",colorShort:"Color corto",colorLong:"Color largo",greetingMessage:"Mensaje de bienvenida",complationMessage:"Mensaje de conclusi\xf3n",outOfHoursMessage:"Mensaje fuera de horario",ratingMessage:"Mensaje de evaluaci\xf3n",token:"Token",orderQueue:"Orden de la cola (Bot)",integrationId:"Integraci\xf3n"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},toasts:{success:"Cola guardada con \xe9xito.",info:"Haga clic en guardar para registrar los cambios"},tabs:{queueData:"Datos de la cola",attendanceTime:"Horarios de Atenci\xf3n"}},userModal:{title:{add:"Agregar usuario",edit:"Editar usuario"},form:{name:"Nombre",email:"Email",password:"Contrase\xf1a",profile:"Perfil",whatsapp:"Conexi\xf3n Predeterminada",allTicket:"Ticket Sin Cola [Invisible]",allTicketEnabled:"Habilitado",allTicketDesabled:"Deshabilitado"},formErrors:{name:{required:"El nombre es obligatorio",short:"Nombre demasiado corto",long:"Nombre demasiado largo"},password:{short:"Contrase\xf1a demasiado corta",long:"Contrase\xf1a demasiado larga"},email:{required:"El email es obligatorio",invalid:"Email inv\xe1lido"}},labels:{liberations:"Liberaciones"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Usuario guardado con \xe9xito."},scheduleModal:{title:{add:"Nueva Programaci\xf3n",edit:"Editar Programaci\xf3n"},form:{body:"Mensaje",contact:"Contacto",sendAt:"Fecha de Programaci\xf3n",sentAt:"Fecha de Env\xedo"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Programaci\xf3n guardada con \xe9xito."},tagModal:{title:{add:"Nueva Etiqueta",edit:"Editar Etiqueta"},form:{name:"Nombre",color:"Color"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Etiqueta guardada con \xe9xito."},chat:{toasts:{fillTitle:"Por favor, complete el t\xedtulo de la conversaci\xf3n.",fillUser:"Por favor, seleccione al menos un usuario."},modal:{title:"Conversaci\xf3n",titleField:"T\xedtulo"},confirm:{title:"Eliminar Conversaci\xf3n",message:"Esta acci\xf3n no puede ser revertida, \xbfconfirmar?"},chats:"Chats",messages:"Mensajes",noTicketMessage:"Seleccione un ticket para comenzar a chatear.",buttons:{close:"Cerrar",save:"Guardar",new:"Nueva",newChat:"Nuevo"}},uploads:{titles:{titleUploadMsgDragDrop:"ARRASTRE Y SUELTE ARCHIVOS EN EL CAMPO DE ABAJO",titleFileList:"Lista de archivo(s)"}},ticketsManager:{buttons:{newTicket:"Nuevo"}},ticketsQueueSelect:{placeholder:"Colas"},tickets:{toasts:{deleted:"La atenci\xf3n que estabas atendiendo fue eliminada.",unauthorized:"Acceso no permitido"},filters:{user:"Filtrar por usuarios",tags:"Filtrar por etiquetas"},notification:{message:"Mensaje de"},tabs:{open:{title:"Abiertos"},closed:{title:"Resueltos"},search:{title:"B\xfasqueda"}},search:{placeholder:"Buscar atenci\xf3n y mensajes"},buttons:{showAll:"Todos"}},transferTicketModal:{title:"Transferir Ticket",fieldLabel:"Escriba para buscar usuarios",fieldQueueLabel:"Transferir a cola",fieldQueuePlaceholder:"Seleccione una cola",noOptions:"Ning\xfan usuario encontrado con ese nombre",buttons:{ok:"Transferir",cancel:"Cancelar"}},ticketsList:{pendingHeader:"En espera",assignedHeader:"En atenci\xf3n",noTicketsTitle:"\xa1Nada aqu\xed!",noTicketsMessage:"Ninguna atenci\xf3n encontrada con ese estado o t\xe9rmino buscado",buttons:{accept:"Aceptar",closed:"Finalizar",reopen:"Reabrir"}},ticketsListItem:{tooltip:{chatbot:"Chatbot",peek:"Espiar Conversaci\xf3n"},noQueue:"SIN COLA"},ticketAdvanced:{selectTicket:"Seleccionar Ticket",ticketNav:"Ticket",attendanceNav:"Atenciones"},newTicketModal:{title:"Crear Ticket",fieldLabel:"Escriba para buscar el contacto",add:"Agregar",searchQueueError:"Ocurri\xf3 un error inesperado al intentar buscar las colas",selectQueue:"Seleccione una cola",selectConection:"Seleccione una conexi\xf3n",buttons:{ok:"Guardar",cancel:"Cancelar"}},locationPreview:{button:"Visualizar"},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Conexiones",tickets:"Atenciones",quickMessages:"Respuestas R\xe1pidas",tasks:"Tareas",contacts:"Contactos",queues:"Colas & Chatbot",tags:"Etiquetas",administration:"Administraci\xf3n",users:"Usuarios",settings:"Configuraciones",helps:"Ayuda",messagesAPI:"API",schedules:"Programaciones",campaigns:"Campa\xf1as",flows:"Flujos",annoucements:"Informativos",chats:"Chat Interno",financeiro:"Financiero",files:"Lista de archivos",prompts:"Open.AI",queueIntegration:"Integraciones"},appBar:{refresh:"Recargar p\xe1gina",notRegister:"Sin notificaciones",greeting:{hello:"Hola",welcome:"Bienvenido a",active:"Activo hasta"},user:{profile:"Perfil",logout:"Salir"}}},queueIntegration:{title:"Integraciones",table:{id:"ID",type:"Tipo",name:"Nombre",projectName:"Nombre del Proyecto",language:"Lenguaje",lastUpdate:"\xdaltima actualizaci\xf3n",actions:"Acciones"},buttons:{add:"Agregar Proyecto"},searchPlaceholder:"Buscar...",confirmationModal:{deleteTitle:"Eliminar",deleteMessage:"\xbfEst\xe1 seguro? \xa1Esta acci\xf3n no puede ser revertida! y ser\xe1 eliminada de las colas y conexiones vinculadas"}},files:{title:"Lista de archivos",table:{name:"Nombre",contacts:"Contactos",actions:"Acci\xf3n"},toasts:{deleted:"\xa1Lista eliminada con \xe9xito!",deletedAll:"\xa1Todas las listas fueron eliminadas con \xe9xito!"},buttons:{add:"Agregar",deleteAll:"Eliminar Todos"},confirmationModal:{deleteTitle:"Eliminar",deleteAllTitle:"Eliminar Todos",deleteMessage:"\xbfEst\xe1 seguro que desea eliminar esta lista?",deleteAllMessage:"\xbfEst\xe1 seguro que desea eliminar todas las listas?"}},messagesAPI:{title:"API",labels:{doc:"Documentaci\xf3n para env\xedo de mensajes",method:"M\xe9todos de Env\xedo",textMessage:"Mensaje de Texto",mediaMessage:"Mensaje Multimedia",instructions:"Instrucciones",observations:"Observaciones importantes",before1:"Antes de enviar mensajes, es necesario registrar el token vinculado a la conexi\xf3n que enviar\xe1 los mensajes.",before2:"Para realizar el registro acceda al men\xfa 'Conexiones', haga clic en el bot\xf3n editar de la conexi\xf3n e inserte el token en el campo correspondiente.",numberDescription:"El n\xfamero para env\xedo no debe tener m\xe1scara o caracteres especiales y debe estar compuesto por:",countryCode:"C\xf3digo del Pa\xeds",number:"N\xfamero",textMessage2:"1. Mensajes de Texto",textMessageInstructions:"A continuaci\xf3n la lista de informaci\xf3n necesaria para enviar mensajes de texto:",method2:"M\xe9todo",e:"y",tests:"Prueba de Env\xedo",mediaMessage2:"2. Mensajes Multimedia"},textMessage:{number:"N\xfamero",body:"Mensaje",token:"Token registrado"},mediaMessage:{number:"N\xfamero",body:"Nombre del archivo",media:"Archivo",token:"Token registrado"},toasts:{unauthorized:"\xa1Esta empresa no tiene permiso para acceder a esta p\xe1gina! Le estamos redirigiendo.",success:"\xa1Mensaje enviado con \xe9xito!"},buttons:{send:"Enviar"}},notifications:{noTickets:"Ninguna notificaci\xf3n."},quickMessages:{title:"Respuestas R\xe1pidas",searchPlaceholder:"Buscar...",noAttachment:"Sin adjunto",confirmationModal:{deleteTitle:"Eliminaci\xf3n",deleteMessage:"\xa1Esta acci\xf3n es irreversible! \xbfDesea continuar?"},buttons:{add:"Agregar",attach:"Adjuntar Archivo",cancel:"Cancelar",edit:"Editar"},toasts:{success:"\xa1Atajo agregado con \xe9xito!",deleted:"\xa1Atajo eliminado con \xe9xito!"},dialog:{title:"Mensaje R\xe1pido",shortcode:"Atajo",message:"Respuesta",save:"Guardar",cancel:"Cancelar",geral:"Permitir editar",add:"Agregar",edit:"Editar",visao:"Permitir visi\xf3n"},table:{shortcode:"Atajo",message:"Mensaje",actions:"Acciones",mediaName:"Nombre del Archivo",status:"Estado"}},messageVariablesPicker:{label:"Variables disponibles",vars:{contactFirstName:"Primer Nombre",contactName:"Nombre",greeting:"Saludo",protocolNumber:"Protocolo",date:"Fecha",hour:"Hora"}},contactLists:{title:"Listas de Contactos",table:{name:"Nombre",contacts:"Contactos",actions:"Acciones"},buttons:{add:"Nueva Lista"},dialog:{name:"Nombre",nameShort:"Nombre corto",nameLong:"Nombre largo",nameRequired:"El nombre es obligatorio",company:"Empresa",okEdit:"Editar",okAdd:"Agregar",add:"Agregar",edit:"Editar",cancel:"Cancelar"},confirmationModal:{deleteTitle:"Eliminar",deleteMessage:"Esta acci\xf3n no puede ser revertida."},toasts:{deleted:"Registro eliminado",success:"Operaci\xf3n realizada con \xe9xito"}},campaigns:{title:"Campa\xf1as",searchPlaceholder:"Buscar",report:{title:"Informe de",title2:"Campa\xf1a",of:"de",validContacts:"Contactos v\xe1lidos",delivered:"Entregados",connection:"Conexi\xf3n",contactList:"Lista de Contactos",schedule:"Programaci\xf3n",conclusion:"Conclusi\xf3n"},config:{interval:"Intervalos",randomInterval:"Intervalo Aleatorio de Env\xedo",biggerInterval:"Intervalo Mayor Despu\xe9s de",greaterInterval:"Intervalo de Env\xedo Mayor",noInterval:"Sin Intervalo",second:"segundo",seconds:"segundos",notDefined:"No definido",addVariable:"Agregar Variable",save:"Guardar Configuraci\xf3n",shortcut:"Atajo",content:"Contenido",close:"Cerrar",add:"Agregar"},buttons:{add:"Nueva Campa\xf1a",contactLists:"Listas de Contactos"},status:{inactive:"Inactiva",programmed:"Programada",inProgress:"En progreso",canceled:"Cancelada",finished:"Finalizada"},table:{name:"Nombre",whatsapp:"Conexi\xf3n",contactList:"Lista de Contactos",status:"Estado",scheduledAt:"Programaci\xf3n",completedAt:"Completada",confirmation:"Confirmaci\xf3n",actions:"Acciones",notDefined:"No definida",notDefined2:"No definido",notScheduled:"Sin programaci\xf3n",notConcluded:"No concluida",stopCampaign:"Detener Campa\xf1a"},dialog:{new:"Nueva Campa\xf1a",update:"Editar Campa\xf1a",readonly:"Solo Lectura",form:{name:"Nombre",nameShort:"Nombre corto",nameLong:"Nombre largo",helper:"Utilice variables como {nombre}, {numero}, {email} o defina variables personalizadas.",nameRequired:"El nombre es obligatorio",message1:"Mensaje 1",message2:"Mensaje 2",message3:"Mensaje 3",message4:"Mensaje 4",message5:"Mensaje 5",messagePlaceholder:"Contenido del mensaje",whatsapp:"Conexi\xf3n",status:"Estado",scheduledAt:"Programaci\xf3n",confirmation:"Confirmaci\xf3n",contactList:"Lista de Contactos",tagList:"Lista de Etiquetas",fileList:"Lista de Archivos"},buttons:{add:"Agregar",edit:"Actualizar",okadd:"Ok",cancel:"Cancelar Env\xedos",restart:"Reiniciar Env\xedos",close:"Cerrar",attach:"Adjuntar Archivo"}},confirmationModal:{deleteTitle:"Eliminar",deleteMessage:"Esta acci\xf3n no puede ser revertida."},toasts:{configSaved:"Configuraci\xf3n guardada",success:"Operaci\xf3n realizada con \xe9xito",cancel:"Campa\xf1a cancelada",restart:"Campa\xf1a reiniciada",deleted:"Registro eliminado"}},subscription:{title:"Suscripci\xf3n",testPeriod:"Per\xedodo de Prueba",remainingTest:"Su per\xedodo de prueba termina en",remainingTest2:"d\xedas!",chargeEmail:"Email de facturaci\xf3n",signNow:"\xa1Suscribirse ahora!"},announcements:{active:"Activo",inactive:"Inactivo",title:"Informativos",searchPlaceholder:"Buscar",high:"Alta",medium:"Media",low:"Baja",buttons:{add:"Nuevo Informativo",contactLists:"Listas de Informativos"},table:{priority:"Prioridad",title:"T\xedtulo",text:"Texto",mediaName:"Archivo",status:"Estado",actions:"Acciones"},dialog:{edit:"Edici\xf3n de Informativo",add:"Nuevo Informativo",update:"Editar Informativo",readonly:"Solo Lectura",form:{priority:"Prioridad",required:"Campo obligatorio",title:"T\xedtulo",text:"Texto",mediaPath:"Archivo",status:"Estado"},buttons:{add:"Agregar",edit:"Actualizar",okadd:"Ok",cancel:"Cancelar",close:"Cerrar",attach:"Adjuntar Archivo"}},confirmationModal:{deleteTitle:"Eliminar",deleteMessage:"Esta acci\xf3n no puede ser revertida."},toasts:{success:"Operaci\xf3n realizada con \xe9xito",deleted:"Registro eliminado",info:"\xa1Esta empresa no tiene permiso para acceder a esta p\xe1gina! Le estamos redirigiendo."}},campaignsConfig:{title:"Configuraci\xf3n de Campa\xf1as"},queues:{title:"Colas & Chatbot",table:{id:"ID",name:"Nombre",color:"Color",greeting:"Mensaje de bienvenida",actions:"Acciones",orderQueue:"Ordenaci\xf3n de la cola (bot)"},buttons:{add:"Agregar cola"},toasts:{success:"Cola eliminada con \xe9xito."},confirmationModal:{deleteTitle:"Eliminar",deleteMessage:"\xbfEst\xe1 seguro? \xa1Esta acci\xf3n no puede ser revertida! Las atenciones de esta cola seguir\xe1n existiendo, pero no tendr\xe1n ninguna cola asignada."}},queueSelect:{inputLabel:"Colas"},users:{title:"Usuarios",table:{id:"ID",name:"Nombre",email:"Email",profile:"Perfil",actions:"Acciones"},buttons:{add:"Agregar usuario"},toasts:{deleted:"Usuario eliminado con \xe9xito."},confirmationModal:{deleteTitle:"Eliminar",deleteMessage:"Todos los datos del usuario se perder\xe1n. Las atenciones abiertas de este usuario ser\xe1n movidas a la cola."}},todolist:{input:"Nueva tarea",buttons:{add:"Agregar",save:"Guardar"}},helps:{title:"Centro de Ayuda"},schedules:{title:"Programaciones",confirmationModal:{deleteTitle:"\xbfEst\xe1 seguro que desea eliminar esta Programaci\xf3n?",deleteMessage:"Esta acci\xf3n no puede ser revertida."},table:{contact:"Contacto",body:"Mensaje",sendAt:"Fecha de Programaci\xf3n",sentAt:"Fecha de Env\xedo",status:"Estado",actions:"Acciones"},messages:{date:"Fecha",time:"Hora",event:"Evento",allDay:"Todo el D\xeda",week:"Semana",work_week:"Programaciones",day:"D\xeda",month:"Mes",previous:"Anterior",next:"Siguiente",yesterday:"Ayer",tomorrow:"Ma\xf1ana",today:"Hoy",agenda:"Agenda",noEventsInRange:"No hay programaciones en el per\xedodo.",showMore:"m\xe1s"},buttons:{add:"Nueva Programaci\xf3n"},toasts:{deleted:"Programaci\xf3n eliminada con \xe9xito."}},tags:{title:"Etiquetas",confirmationModal:{deleteTitle:"\xbfEst\xe1 seguro que desea eliminar esta Etiqueta?",deleteMessage:"Esta acci\xf3n no puede ser revertida.",deleteAllMessage:"\xbfEst\xe1 seguro que desea eliminar todas las Etiquetas?",deleteAllTitle:"Eliminar Todas"},table:{name:"Nombre",color:"Color",tickets:"Registros Etiquetados",actions:"Acciones"},buttons:{add:"Nueva Etiqueta",deleteAll:"Eliminar Todas"},toasts:{deletedAll:"\xa1Todas las Etiquetas eliminadas con \xe9xito!",deleted:"Etiqueta eliminada con \xe9xito."}},settings:{schedulesUpdated:"Horarios actualizados con \xe9xito.",success:"Configuraci\xf3n guardada con \xe9xito.",title:"Configuraci\xf3n",tabs:{options:"Opciones",schedules:"Horarios",companies:"Empresas",plans:"Planes",helps:"Ayuda"},options:{toasts:{success:"Operaci\xf3n actualizada con \xe9xito."},fields:{ratings:{title:"Evaluaciones",disabled:"Deshabilitadas",enabled:"Habilitadas"},expedientManager:{title:"Gesti\xf3n de Horario Laboral",queue:"Cola",company:"Empresa"},ignoreMessages:{title:"Ignorar Mensajes de Grupos"},acceptCall:{title:"Aceptar Llamada",disabled:"No aceptar",enabled:"Aceptar"},chatbotType:{title:"Tipo Chatbot",text:"Texto"},sendGreetingAccepted:{title:"Enviar saludo al aceptar el ticket"},sendMsgTransfTicket:{title:"Enviar mensaje de transferencia de Cola/agente"},sendGreetingMessageOneQueues:{title:"Enviar saludo cuando haya solo 1 cola"},disabled:"Deshabilitado",active:"Activo",enabled:"Habilitado"},updating:"Actualizando...",tabs:{integrations:"INTEGRACIONES"}},helps:{toasts:{errorList:"No fue posible cargar la lista de registros",errorOperation:"No fue posible realizar la operaci\xf3n",error:"No fue posible realizar la operaci\xf3n. Verifique si ya existe una ayuda con el mismo nombre o si los campos fueron completados correctamente",success:"\xa1Operaci\xf3n realizada con \xe9xito!"},buttons:{clean:"Limpiar",delete:"Eliminar",save:"Guardar"},grid:{title:"T\xedtulo",description:"Descripci\xf3n",video:"Video"},confirmModal:{title:"Eliminaci\xf3n de Registro",confirm:"\xbfDesea realmente eliminar este registro?"}},company:{toasts:{errorList:"No fue posible cargar la lista de registros",errorOperation:"No fue posible realizar la operaci\xf3n",error:"No fue posible realizar la operaci\xf3n. Verifique si ya existe una empresa con el mismo nombre o si los campos fueron completados correctamente",success:"\xa1Operaci\xf3n realizada con \xe9xito!"},confirmModal:{title:"Eliminaci\xf3n de Registro",confirm:"\xbfDesea realmente eliminar este registro?"},form:{name:"Nombre",email:"Email",phone:"Tel\xe9fono",plan:"Plan",status:"Estado",yes:"S\xed",no:"No",campanhas:"Campa\xf1as",enabled:"Habilitadas",disabled:"Deshabilitadas",dueDate:"Fecha de vencimiento",recurrence:"Recurrencia",monthly:"Mensual",expire:"Vencimiento",createdAt:"Creada En"},buttons:{clear:"Limpiar",delete:"Eliminar",expire:"+ Vencimiento",user:"Usuario",save:"Guardar"}},schedules:{form:{weekday:"D\xeda de la Semana",initialHour:"Hora Inicial",finalHour:"Hora Final",save:"Guardar"}},settings:{userCreation:{name:"Creaci\xf3n de usuario",options:{enabled:"Activado",disabled:"Desactivado"}}}},messagesList:{header:{assignedTo:"Asignado a:",buttons:{return:"Regresar",resolve:"Resolver",reopen:"Reabrir",accept:"Aceptar",download:"Descargar"}},lostCall:"Llamada de voz/video perdida a las",deletedMessage:"Este mensaje fue borrado por el contacto",edited:"Editado",saudation:"\xa1Saluda a tu nuevo contacto!"},messagesInput:{placeholderOpen:"Escribe un mensaje",placeholderClosed:"Reabre o acepta este ticket para enviar un mensaje.",signMessage:"Firmar"},contactDrawer:{header:"Datos del contacto",buttons:{edit:"Editar contacto"},extraInfo:"Otra informaci\xf3n"},fileModal:{title:{add:"Agregar lista de archivos",edit:"Editar lista de archivos"},buttons:{okAdd:"Guardar",okEdit:"Editar",cancel:"Cancelar",fileOptions:"Agregar archivo"},form:{name:"Nombre de la lista de archivos",message:"Detalles de la lista",fileOptions:"Lista de archivos",extraName:"Mensaje para enviar con archivo",extraValue:"Valor de la opci\xf3n"},formErrors:{name:{required:"El nombre es obligatorio",short:"Nombre muy corto"},message:{required:"El mensaje es obligatorio"}},success:"\xa1Lista de archivos guardada con \xe9xito!"},ticketOptionsMenu:{schedule:"Programaci\xf3n",delete:"Eliminar",transfer:"Transferir",registerAppointment:"Observaciones del Contacto",appointmentsModal:{title:"Observaciones del Contacto",textarea:"Observaci\xf3n",placeholder:"Ingrese aqu\xed la informaci\xf3n que desea registrar"},confirmationModal:{title:"Eliminar el ticket",titleFrom:"del contacto ",message:"\xa1Atenci\xf3n! Todos los mensajes relacionados al ticket se perder\xe1n."},buttons:{delete:"Eliminar",cancel:"Cancelar"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancelar"}},messageOptionsMenu:{delete:"Eliminar",reply:"Responder",confirmationModal:{title:"\xbfBorrar mensaje?",message:"Esta acci\xf3n no puede ser revertida."}},backendErrors:{ERR_INTERNAL_SERVER_ERROR:"Ocurri\xf3 un error inesperado. Por favor, intente nuevamente m\xe1s tarde",ERR_NO_OTHER_WHATSAPP:"Debe haber al menos un WhatsApp predeterminado.",ERR_NO_DEF_WAPP_FOUND:"No se encontr\xf3 WhatsApp predeterminado. Verifique la p\xe1gina de conexiones.",ERR_WAPP_NOT_INITIALIZED:"Esta sesi\xf3n de WhatsApp no fue inicializada. Verifique la p\xe1gina de conexiones.",ERR_WAPP_CHECK_CONTACT:"No fue posible verificar el contacto de WhatsApp. Verifique la p\xe1gina de conexiones",ERR_WAPP_INVALID_CONTACT:"Este no es un n\xfamero de WhatsApp v\xe1lido.",ERR_WAPP_DOWNLOAD_MEDIA:"No fue posible descargar el archivo multimedia de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_INVALID_CREDENTIALS:"Error de autenticaci\xf3n. Por favor, intente nuevamente.",ERR_USER_DONT_EXISTS:"Usuario no encontrado. Verifique el email proporcionado.",ERR_SENDING_WAPP_MSG:"Error al enviar mensaje de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_DELETE_WAPP_MSG:"No fue posible eliminar el mensaje de WhatsApp.",ERR_OTHER_OPEN_TICKET:"Ya existe un ticket abierto para este contacto.",ERR_SESSION_EXPIRED:"Sesi\xf3n expirada. Por favor inicie sesi\xf3n.",ERR_USER_CREATION_DISABLED:"La creaci\xf3n de usuarios fue deshabilitada por el administrador.",ERR_NO_PERMISSION:"No tiene permiso para acceder a este recurso.",ERR_DUPLICATED_CONTACT:"Ya existe un contacto con este n\xfamero.",ERR_NO_SETTING_FOUND:"No se encontr\xf3 ninguna configuraci\xf3n con este ID.",ERR_NO_CONTACT_FOUND:"No se encontr\xf3 ning\xfan contacto con este ID.",ERR_NO_TICKET_FOUND:"No se encontr\xf3 ning\xfan ticket con este ID.",ERR_NO_USER_FOUND:"No se encontr\xf3 ning\xfan usuario con este ID.",ERR_NO_WAPP_FOUND:"No se encontr\xf3 ning\xfan WhatsApp con este ID.",ERR_CREATING_MESSAGE:"Error al crear mensaje en la base de datos.",ERR_CREATING_TICKET:"Error al crear ticket en la base de datos.",ERR_FETCH_WAPP_MSG:"Error al buscar el mensaje en WhatsApp, tal vez sea muy antiguo.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"Este color ya est\xe1 en uso, elija otro.",ERR_WAPP_GREETING_REQUIRED:"El mensaje de saludo es obligatorio cuando hay m\xe1s de una cola."}}}},Be=localStorage.getItem("i18nextLng")||"en";Le.a.init({debug:!0,defaultNS:["translations"],fallbackLng:"pt",ns:["translations"],resources:We,lng:Be});var ze=a(30);var He=e=>{var t,a;const n=null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error;return n?Le.a.exists("backendErrors.".concat(n))?(console.error("Error: ".concat(Le.a.t("backendErrors.".concat(n)))),void C.b.error(Le.a.t("backendErrors.".concat(n)),{toastId:n,autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})):void C.b.error(n,{toastId:n,autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"}):Object(ze.isString)(e)?void console.error("Error: ".concat(e)):void console.error("An error occurred!")},Ue=a(260),Ve=a.n(Ue);const Qe=Ve.a.create({baseURL:"https://api.zettabot.com.br",withCredentials:!0}),Ke=Ve.a.create({baseURL:"https://api.zettabot.com.br"});var Ge=Qe;const Ye=(e,t)=>{if("LOAD_WHATSAPPS"===t.type){return[...t.payload]}if("UPDATE_WHATSAPPS"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a.id);return-1!==n?(e[n]=a,[...e]):[a,...e]}if("UPDATE_SESSION"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a.id);return-1!==n?(e[n].status=a.status,e[n].updatedAt=a.updatedAt,e[n].qrcode=a.qrcode,e[n].retries=a.retries,[...e]):[...e]}if("DELETE_WHATSAPPS"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===t.type)return[]};var Xe=()=>{const[e,t]=Object(n.useReducer)(Ye,[]),[a,o]=Object(n.useState)(!0),r=Object(n.useContext)(y);return Object(n.useEffect)(()=>{o(!0);(async()=>{try{const{data:e}=await Ge.get("/whatsapp/?session=0");t({type:"LOAD_WHATSAPPS",payload:e}),o(!1)}catch(e){o(!1),He(e)}})()},[]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),a=r.getSocket(e);return a.on("company-".concat(e,"-whatsapp"),e=>{"update"===e.action&&t({type:"UPDATE_WHATSAPPS",payload:e.whatsapp})}),a.on("company-".concat(e,"-whatsapp"),e=>{"delete"===e.action&&t({type:"DELETE_WHATSAPPS",payload:e.whatsappId})}),a.on("company-".concat(e,"-whatsappSession"),e=>{"update"===e.action&&t({type:"UPDATE_SESSION",payload:e.session})}),()=>{a.disconnect()}},[r]),{whatsApps:e,loading:a}};const _e=Object(n.createContext)(),Ze=e=>{let{children:t}=e;const{loading:a,whatsApps:n}=Xe();return o.a.createElement(_e.Provider,{value:{whatsApps:n,loading:a}},t)};var Je=()=>{const e=Object(x.useHistory)(),[t,a]=Object(n.useState)(!1),[o,r]=Object(n.useState)(!0),[l,i]=Object(n.useState)({});Ge.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(JSON.parse(t)),a(!0)),e},e=>{Promise.reject(e)});let s=!1,c=[];Ge.interceptors.response.use(e=>e,async e=>{var t,n,o;const r=e.config;if(403===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&!r._retry){if(s)return new Promise((e,t)=>{c.push({resolve:e,reject:t})}).then(e=>(r.headers.Authorization="Bearer ".concat(e),Ge(r))).catch(e=>Promise.reject(e));r._retry=!0,s=!0;try{const{data:e}=await Ge.post("/auth/refresh_token");return e&&(localStorage.setItem("token",JSON.stringify(e.token)),Ge.defaults.headers.Authorization="Bearer ".concat(e.token),c.forEach(t=>{t.resolve(e.token)}),c=[]),Ge(r)}catch(l){return c.forEach(e=>{e.reject(l)}),c=[],localStorage.removeItem("token"),localStorage.removeItem("companyId"),Ge.defaults.headers.Authorization=void 0,a(!1),Promise.reject(l)}finally{s=!1}}return(401===(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)||403===(null===e||void 0===e||null===(o=e.response)||void 0===o?void 0:o.status)&&r._retry)&&(localStorage.removeItem("token"),localStorage.removeItem("companyId"),Ge.defaults.headers.Authorization=void 0,a(!1)),Promise.reject(e)});const d=Object(n.useContext)(y);Object(n.useEffect)(()=>{const e=localStorage.getItem("token");(async()=>{if(e)try{const{data:e}=await Ge.post("/auth/refresh_token");Ge.defaults.headers.Authorization="Bearer ".concat(e.token),a(!0),i(e.user)}catch(t){He(t)}r(!1)})()},[]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId");if(e){const t=d.getSocket(e);return t.on("company-".concat(e,"-user"),e=>{"update"===e.action&&e.user.id===l.id&&i(e.user)}),()=>{t.disconnect()}}},[d,l]);return{isAuth:t,user:l,loading:o,handleLogin:async t=>{r(!0);try{const{data:s}=await Ge.post("/auth/login",t),{user:{companyId:c,id:d,company:m}}=s;if(Object(ze.has)(m,"settings")&&Object(ze.isArray)(m.settings)){const e=m.settings.find(e=>"campaignsEnabled"===e.key);e&&"true"===e.value&&localStorage.setItem("cshow",null)}O.a.locale("pt-br");const u=s.user.company.dueDate,p=(O()(O()()).format("DD/MM/yyyy"),O()(u).format("DD/MM/yyyy"));var n=O()(u).diff(O()(O()()).format()),o=O()(O()().format()).isBefore(u),l=O.a.duration(n).asDays();!0===o?(localStorage.setItem("token",JSON.stringify(s.token)),localStorage.setItem("companyId",c),localStorage.setItem("userId",d),localStorage.setItem("companyDueDate",p),Ge.defaults.headers.Authorization="Bearer ".concat(s.token),i(s.user),a(!0),C.b.success(Le.a.t("auth.toasts.success")),Math.round(l)<5&&C.b.warn("Sua assinatura vence em ".concat(Math.round(l)," ").concat(1===Math.round(l)?"dia":"dias"," ")),e.push("/tickets"),r(!1)):(He("Opss! Sua assinatura venceu ".concat(p,".\nEntre em contato com o Suporte para mais informa\xe7\xf5es! ")),r(!1))}catch(s){He(s),r(!1)}},handleLogout:async()=>{r(!0);try{await Ge.delete("/auth/logout"),a(!1),i({}),localStorage.removeItem("token"),localStorage.removeItem("companyId"),localStorage.removeItem("userId"),localStorage.removeItem("cshow"),Ge.defaults.headers.Authorization=void 0,r(!1),e.push("/login")}catch(t){He(t),r(!1)}},getCurrentUserInfo:async()=>{try{const{data:e}=await Ge.get("/auth/me");return e}catch(e){He(e)}}}};const $e=Object(n.createContext)(),et=e=>{let{children:t}=e;const{loading:a,user:n,isAuth:r,handleLogin:l,handleLogout:i}=Je();return o.a.createElement($e.Provider,{value:{loading:a,user:n,isAuth:r,handleLogin:l,handleLogout:i}},t)};var tt={user:{static:[]},admin:{static:["dashboard:view","drawer-admin-items:view","tickets-manager:showall","user-modal:editProfile","user-modal:editQueues","ticket-options:deleteTicket","contacts-page:deleteContact","connections-page:actionButtons","connections-page:addConnection","connections-page:editOrDeleteConnection"]}};const at=e=>{let{role:t,perform:a,data:n,yes:o,no:r}=e;return((e,t,a)=>{const n=tt[e];if(!n)return!1;const o=n.static;if(o&&o.includes(t))return!0;const r=n.dynamic;if(r){const e=r[t];return!!e&&e(a)}return!1})(t,a,n)?o():r()};at.defaultProps={yes:()=>null,no:()=>null};var nt=a(811),ot=a.n(nt),rt=a(813),lt=a.n(rt),it=a(1353),st=a(922),ct=a(1494),dt=a(311),mt=a.n(dt),ut=a(76),pt=a.n(ut);const gt=Object(k.a)({root:{display:"flex",flexDirection:"column",alignItems:"center",margin:"2rem"},inputContainer:{display:"flex",width:"100%",marginBottom:"1rem"},input:{flexGrow:1,marginRight:"1rem"},listContainer:{width:"100%",height:"100%",marginTop:"1rem",backgroundColor:"#f5f5f5",borderRadius:"5px"},list:{marginBottom:"5px"}});var bt=()=>{const e=gt(),[t,a]=Object(n.useState)(""),[r,l]=Object(n.useState)([]),[i,s]=Object(n.useState)(-1);Object(n.useEffect)(()=>{const e=localStorage.getItem("tasks");e&&l(JSON.parse(e))},[]),Object(n.useEffect)(()=>{localStorage.setItem("tasks",JSON.stringify(r))},[r]);return o.a.createElement("div",{className:e.root},o.a.createElement("div",{className:e.inputContainer},o.a.createElement(it.a,{className:e.input,label:Le.a.t("todolist.input"),value:t,onChange:e=>{a(e.target.value)},variant:"outlined"}),o.a.createElement(st.a,{variant:"contained",color:"primary",onClick:()=>{if(!t.trim())return;const e=new Date;if(i>=0){const n=[...r];n[i]={text:t,updatedAt:e,createdAt:n[i].createdAt},l(n),a(""),s(-1)}else l([...r,{text:t,createdAt:e,updatedAt:e}]),a("")}},i>=0?Le.a.t("todolist.buttons.save"):Le.a.t("todolist.buttons.add"))),o.a.createElement("div",{className:e.listContainer},o.a.createElement(M.a,null,r.map((t,n)=>o.a.createElement(K.a,{key:n,className:e.list},o.a.createElement(Y.a,{primary:t.text,secondary:t.updatedAt.toLocaleString()}),o.a.createElement(ct.a,null,o.a.createElement(I.a,{onClick:()=>(e=>{a(r[e].text),s(e)})(n)},o.a.createElement(pt.a,null)),o.a.createElement(I.a,{onClick:()=>(e=>{const t=[...r];t.splice(e,1),l(t)})(n)},o.a.createElement(mt.a,null))))))))},Et=a(1498),ft=a(1501),At=a(1502),ht=a(1503);var yt=()=>({getPlanList:async e=>{const{data:t}=await Ke.request({url:"/plans/list",method:"GET",params:e});return t},list:async e=>{const{data:t}=await Ge.request({url:"/plans/all",method:"GET",params:e});return t},save:async e=>{const{data:t}=await Ge.request({url:"/plans",method:"POST",data:e});return t},update:async e=>{const{data:t}=await Ge.request({url:"/plans/".concat(e.id),method:"PUT",data:e});return t},finder:async e=>{const{data:t}=await Ge.request({url:"/plans/".concat(e),method:"GET"});return t},remove:async e=>{const{data:t}=await Ge.request({url:"/plans/".concat(e),method:"DELETE"});return t},getPlanCompany:async(e,t)=>{const{data:a}=await Ge.request({url:"/companies/listPlan/".concat(t),method:"GET",params:e});return a}}),vt=a(1499);const xt=Object(k.a)(e=>({ListSubheader:{height:26,marginTop:"-15px",marginBottom:"-10px"}}));function Ct(e){const{icon:t,primary:a,to:n,className:r}=e,l=o.a.useMemo(()=>o.a.forwardRef((e,t)=>o.a.createElement(v.b,Object.assign({to:n,ref:t},e))),[n]);return o.a.createElement("li",null,o.a.createElement(K.a,{button:!0,dense:!0,component:l,className:r},t?o.a.createElement(G.a,null,t):null,o.a.createElement(Y.a,{primary:a})))}const wt=(e,t)=>{if("LOAD_CHATS"===t.type){const a=t.payload,n=[];return Object(ze.isArray)(a)&&a.forEach(t=>{const a=e.findIndex(e=>e.id===t.id);-1!==a?e[a]=t:n.push(t)}),[...e,...n]}if("UPDATE_CHATS"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a.id);return-1!==n?(e[n]=a,[...e]):[a,...e]}if("DELETE_CHAT"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===t.type)return[];if("CHANGE_CHAT"===t.type){return e.map(e=>e.id===t.payload.chat.id?t.payload.chat:e)}};var St=e=>{xt();const{drawerClose:t,collapsed:a}=e,{whatsApps:r}=Object(n.useContext)(_e),{user:l,handleLogout:i}=Object(n.useContext)($e),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(!1),[g,b]=Object(n.useState)(!1),[E,f]=Object(n.useState)(!1),[A,h]=Object(n.useState)(!1),v=Object(x.useHistory)(),[C,w]=Object(n.useState)(!1),[S,O]=Object(n.useState)(!1),[k,T]=Object(n.useState)(!1),[j,I]=Object(n.useState)(!0),[P,R]=Object(n.useState)(1),[q]=Object(n.useState)(""),[F,L]=Object(n.useReducer)(wt,[]),{getPlanCompany:W}=yt(),[B,z]=Object(n.useState)(!1),H=Object(n.useContext)(y);Object(n.useEffect)(()=>{},[]),Object(n.useEffect)(()=>{L({type:"RESET"}),R(1)},[q]),Object(n.useEffect)(()=>{!async function(){const e=l.companyId,t=await W(void 0,e);p(t.plan.useCampaigns),b(t.plan.useKanban),f(t.plan.useOpenAi),h(t.plan.useIntegrations),w(t.plan.useSchedules),O(t.plan.useInternalChat),T(t.plan.useExternalApi)}()},[]),Object(n.useEffect)(()=>{const e=setTimeout(()=>{U()},500);return()=>clearTimeout(e)},[q,P]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),t=H.getSocket(e);return t.on("company-".concat(e,"-chat"),e=>{"new-message"===e.action&&L({type:"CHANGE_CHAT",payload:e}),"update"===e.action&&L({type:"CHANGE_CHAT",payload:e})}),()=>{t.disconnect()}},[H]),Object(n.useEffect)(()=>{let e=0;if(F.length>0)for(let t of F)for(let a of t.users)a.userId===l.id&&(e+=a.unreads);I(!(e>0))},[F,l.id]),Object(n.useEffect)(()=>{localStorage.getItem("cshow")&&p(!0)},[]),Object(n.useEffect)(()=>{const e=setTimeout(()=>{if(r.length>0){r.filter(e=>"qrcode"===e.status||"PAIRING"===e.status||"DISCONNECTED"===e.status||"TIMEOUT"===e.status||"OPENING"===e.status).length>0?c(!0):c(!1)}},2e3);return()=>clearTimeout(e)},[r]);const U=async()=>{try{const{data:e}=await Ge.get("/chats/",{params:{searchParam:q,pageNumber:P}});L({type:"LOAD_CHATS",payload:e.records})}catch(e){He(e)}};return o.a.createElement("div",{onClick:t},o.a.createElement(at,{role:l.profile,perform:"dashboard:view",yes:()=>o.a.createElement(Ct,{to:"/",primary:"Dashboard",icon:o.a.createElement($.a,null)})}),o.a.createElement(Ct,{to:"/tickets",primary:Le.a.t("mainDrawer.listItems.tickets"),icon:o.a.createElement(te.a,null)}),g&&o.a.createElement(Ct,{to:"/kanban",primary:"Kanban",icon:o.a.createElement(ot.a,null)}),o.a.createElement(Ct,{to:"/quick-messages",primary:Le.a.t("mainDrawer.listItems.quickMessages"),icon:o.a.createElement(pe.a,null)}),o.a.createElement(Ct,{to:"/todolist",primary:Le.a.t("mainDrawer.listItems.tasks"),icon:o.a.createElement(lt.a,null)}),o.a.createElement(Ct,{to:"/contacts",primary:Le.a.t("mainDrawer.listItems.contacts"),icon:o.a.createElement(ce.a,null)}),o.a.createElement(Ct,{to:"/schedules",primary:Le.a.t("mainDrawer.listItems.schedules"),icon:o.a.createElement(he.a,null)}),o.a.createElement(Ct,{to:"/tags",primary:Le.a.t("mainDrawer.listItems.tags"),icon:o.a.createElement(ve.a,null)}),o.a.createElement(Ct,{to:"/chats",primary:Le.a.t("mainDrawer.listItems.chats"),icon:o.a.createElement(_.a,{color:"secondary",variant:"dot",invisible:j},o.a.createElement(De.a,null))}),o.a.createElement(Ct,{to:"/helps",primary:Le.a.t("mainDrawer.listItems.helps"),icon:o.a.createElement(be.a,null)}),o.a.createElement(at,{role:l.profile,perform:"drawer-admin-items:view",yes:()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(N.a,null),o.a.createElement(X.a,{hidden:a,style:{position:"relative",fontSize:"17px",textAlign:"left",paddingLeft:20},inset:!0,color:"inherit"},Le.a.t("mainDrawer.listItems.administration")),u&&o.a.createElement(o.a.Fragment,null,o.a.createElement(K.a,{button:!0,onClick:()=>m(e=>!e)},o.a.createElement(G.a,null,o.a.createElement(Ce.a,null)),o.a.createElement(Y.a,{primary:Le.a.t("mainDrawer.listItems.campaigns")}),d?o.a.createElement(Se.a,null):o.a.createElement(ke.a,null)),o.a.createElement(Z.a,{style:{paddingLeft:15},in:d,timeout:"auto",unmountOnExit:!0},o.a.createElement(M.a,{component:"div",disablePadding:!0},o.a.createElement(K.a,{onClick:()=>v.push("/campaigns"),button:!0},o.a.createElement(G.a,null,o.a.createElement(Ne.a,null)),o.a.createElement(Y.a,{primary:"Listagem"})),o.a.createElement(K.a,{onClick:()=>v.push("/contact-lists"),button:!0},o.a.createElement(G.a,null,o.a.createElement(je.a,null)),o.a.createElement(Y.a,{primary:"Listas de Contatos"})),o.a.createElement(K.a,{onClick:()=>v.push("/campaigns-config"),button:!0},o.a.createElement(G.a,null,o.a.createElement(re.a,null)),o.a.createElement(Y.a,{primary:"Configura\xe7\xf5es"})))),o.a.createElement(K.a,{button:!0,onClick:()=>z(e=>!e)},o.a.createElement(G.a,null,o.a.createElement(Et.a,null)),o.a.createElement(Y.a,{primary:Le.a.t("mainDrawer.listItems.flows")}),d?o.a.createElement(Se.a,null):o.a.createElement(ke.a,null)),o.a.createElement(Z.a,{style:{paddingLeft:15},in:B,timeout:"auto",unmountOnExit:!0},o.a.createElement(M.a,{component:"div",disablePadding:!0},o.a.createElement(K.a,{onClick:()=>v.push("/phrase-lists"),button:!0},o.a.createElement(G.a,null,o.a.createElement(Ce.a,null)),o.a.createElement(Y.a,{primary:"Campanha"})),o.a.createElement(K.a,{onClick:()=>v.push("/flowbuilders"),button:!0},o.a.createElement(G.a,null,o.a.createElement(vt.a,null)),o.a.createElement(Y.a,{primary:"Conversa"}))))),l.super&&o.a.createElement(Ct,{to:"/announcements",primary:Le.a.t("mainDrawer.listItems.annoucements"),icon:o.a.createElement(Pe.a,null)}),E&&o.a.createElement(Ct,{to:"/prompts",primary:Le.a.t("mainDrawer.listItems.prompts"),icon:o.a.createElement(ft.a,null)}),A&&o.a.createElement(Ct,{to:"/queue-integration",primary:Le.a.t("mainDrawer.listItems.queueIntegration"),icon:o.a.createElement(At.a,null)}),o.a.createElement(Ct,{to:"/connections",primary:Le.a.t("mainDrawer.listItems.connections"),icon:o.a.createElement(_.a,{badgeContent:s?"!":0,color:"error"},o.a.createElement(ne.a,null))}),o.a.createElement(Ct,{to:"/files",primary:Le.a.t("mainDrawer.listItems.files"),icon:o.a.createElement(ht.a,null)}),o.a.createElement(Ct,{to:"/queues",primary:Le.a.t("mainDrawer.listItems.queues"),icon:o.a.createElement(me.a,null)}),o.a.createElement(Ct,{to:"/users",primary:Le.a.t("mainDrawer.listItems.users"),icon:o.a.createElement(ie.a,null)}),k&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Ct,{to:"/messages-api",primary:Le.a.t("mainDrawer.listItems.messagesAPI"),icon:o.a.createElement(fe.a,null)})),o.a.createElement(Ct,{to:"/financeiro",primary:Le.a.t("mainDrawer.listItems.financeiro"),icon:o.a.createElement(Fe.a,null)}),o.a.createElement(Ct,{to:"/settings",primary:Le.a.t("mainDrawer.listItems.settings"),icon:o.a.createElement(re.a,null)}),!a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(N.a,null),o.a.createElement(D.a,{style:{fontSize:"12px",padding:"10px",textAlign:"right",fontWeight:"bold"}},"8.0.1")))}))},Ot=a(541),kt=a(463),Tt=a(1355),jt=a(470),It=a.n(jt),Nt=a(469),Mt=a(468),Pt=a(558),Rt=a(555),Dt=a(557),qt=a(1519),Ft=a(1619),Lt=a(926),Wt=a(1504);const Bt=Object(k.a)(e=>({button:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var zt=e=>{let{loading:t,children:a,...n}=e;const r=Bt();return o.a.createElement(st.a,Object.assign({className:r.button,disabled:t},n),a,t&&o.a.createElement(Wt.a,{size:24,className:r.buttonProgress}))},Ht=a(824);const Ut=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Vt=["a","b","strong","em","u","code","del"],Qt=e=>{let{children:t,...a}=e;return o.a.createElement("a",Object.assign({},a,{target:"_blank",rel:"noopener noreferrer"}),t)};var Kt=e=>{let{children:t}=e;const a=/\*(.*?)\*/g,n=/~(.*?)~/g;t&&a.test(t)&&(t=t.replace(a,"**$1**")),t&&n.test(t)&&(t=t.replace(n,"~~$1~~"));const r=o.a.useMemo(()=>{const e={disableParsingRawHTML:!0,forceInline:!0,overrides:{a:{component:Qt}}};return Ut.forEach(t=>{Vt.includes(t)||(e.overrides[t]=e=>e.children||null)}),e},[]);return t?o.a.createElement(Ht.a,{options:r},t):null},Gt=a(1364);const Yt=Object(n.createContext)(),Xt=e=>{let{children:t}=e;const[a,r]=Object(n.useState)({id:null,code:null}),l=Object(x.useHistory)();return Object(n.useEffect)(()=>{null!==a.id&&l.push("/tickets/".concat(a.uuid))},[a]),o.a.createElement(Yt.Provider,{value:{currentTicket:a,setCurrentTicket:r}},t)};var _t=a(1604),Zt=a(652),Jt=a.n(Zt),$t=a(389),ea=a.n($t),ta=a(1505),aa=a(1508),na=a(1510),oa=a(1511),ra=a(1512),la=a(1513),ia=a(1514),sa=a(1515),ca=a(910);const da=Object(k.a)(e=>({messageMedia:{objectFit:"cover",width:250,height:200,borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8}}));var ma=e=>{let{imageUrl:t}=e;const a=da(),[r,l]=Object(n.useState)(!0),[i,s]=Object(n.useState)("");return Object(n.useEffect)(()=>{if(!t)return;(async()=>{const{data:e,headers:a}=await Ge.get(t,{responseType:"blob"}),n=window.URL.createObjectURL(new Blob([e],{type:a["content-type"]}));s(n),l(!1)})()},[t]),o.a.createElement(ca.a,{className:a.messageMedia,smallSrcSet:r?t:i,medium:r?t:i,large:r?t:i,alt:"image"})},ua=a(1507),pa=a(1506);var ga=e=>{let{title:t,children:a,open:n,onClose:r,onConfirm:l}=e;return o.a.createElement(ta.a,{open:n,onClose:()=>r(!1),"aria-labelledby":"confirm-dialog"},o.a.createElement(pa.a,{id:"confirm-dialog"},t),o.a.createElement(ua.a,{dividers:!0},o.a.createElement(D.a,null,a)),o.a.createElement(aa.a,null,o.a.createElement(st.a,{variant:"contained",onClick:()=>r(!1),color:"default"},Le.a.t("confirmationModal.buttons.cancel")),o.a.createElement(st.a,{variant:"contained",onClick:()=>{r(!1),l()},color:"secondary"},Le.a.t("confirmationModal.buttons.confirm"))))};const ba=Object(n.createContext)(),Ea=e=>{let{children:t}=e;const[a,r]=Object(n.useState)(null);return o.a.createElement(ba.Provider,{value:{replyingMessage:a,setReplyingMessage:r}},t)};var fa=e=>{let{message:t,menuOpen:a,handleClose:r,anchorEl:l}=e;const{setReplyingMessage:i}=Object(n.useContext)(ba),[s,c]=Object(n.useState)(!1);return o.a.createElement(o.a.Fragment,null,o.a.createElement(ga,{title:Le.a.t("messageOptionsMenu.confirmationModal.title"),open:s,onClose:c,onConfirm:async()=>{try{await Ge.delete("/messages/".concat(t.id))}catch(e){He(e)}}},Le.a.t("messageOptionsMenu.confirmationModal.message")),o.a.createElement(q.a,{anchorEl:l,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:a,onClose:r},t.fromMe&&o.a.createElement(F.a,{onClick:e=>{c(!0),r()}},Le.a.t("messageOptionsMenu.delete")),o.a.createElement(F.a,{onClick:()=>{i(t),r()}},Le.a.t("messageOptionsMenu.reply"))))},Aa=a(825),ha=a.n(Aa);var ya=e=>{let{image:t,link:a,description:r}=e;Object(n.useEffect)(()=>{},[t,a,r]);const l=async()=>{try{window.open(a)}catch(e){He(e)}};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{minWidth:"250px"}},o.a.createElement("div",null,o.a.createElement("div",{style:{float:"left"}},o.a.createElement("img",{src:t,alt:"loc",onClick:l,style:{width:"100px"}})),r&&o.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},o.a.createElement(D.a,{style:{marginTop:"12px",marginLeft:"15px",marginRight:"15px",float:"left"},variant:"subtitle1",color:"primary",gutterBottom:!0},o.a.createElement("div",{dangerouslySetInnerHTML:{__html:r.replace("\\n","<br />")}}))),o.a.createElement("div",{style:{display:"block",content:"",clear:"both"}}),o.a.createElement("div",null,o.a.createElement(N.a,null),o.a.createElement(st.a,{fullWidth:!0,color:"primary",onClick:l,disabled:!a},Le.a.t("locationPreview.button"))))))},va=a(826),xa=a.n(va);const Ca=Object(k.a)(e=>({messagesListWrapper:{overflow:"hidden",position:"relative",display:"flex",flexDirection:"column",flexGrow:1,width:"100%",minWidth:300,minHeight:200},messagesList:{backgroundImage:"light"===e.mode?"url(".concat(ha.a,")"):"url(".concat(xa.a,")"),display:"flex",flexDirection:"column",flexGrow:1,padding:"20px 20px 20px 20px",overflowY:"scroll",...e.scrollbarStyles},circleLoading:{color:Pt.a[500],position:"absolute",opacity:"70%",top:0,left:"50%",marginTop:12},messageLeft:{marginRight:20,marginTop:2,minWidth:100,maxWidth:600,height:"auto",display:"block",position:"relative","&:hover #messageActionsButton":{display:"flex",position:"absolute",top:0,right:0},whiteSpace:"pre-wrap",backgroundColor:"#ffffff",color:"#303030",alignSelf:"flex-start",borderTopLeftRadius:0,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"0 1px 1px #b3b3b3"},quotedContainerLeft:{margin:"-3px -80px 6px -6px",overflow:"hidden",backgroundColor:"#f0f0f0",borderRadius:"7.5px",display:"flex",position:"relative"},quotedMsg:{padding:10,maxWidth:300,height:"auto",display:"block",whiteSpace:"pre-wrap",overflow:"hidden"},quotedSideColorLeft:{flex:"none",width:"4px",backgroundColor:"#6bcbef"},messageRight:{marginLeft:20,marginTop:2,minWidth:100,maxWidth:600,height:"auto",display:"block",position:"relative","&:hover #messageActionsButton":{display:"flex",position:"absolute",top:0,right:0},whiteSpace:"pre-wrap",backgroundColor:"#dcf8c6",color:"#303030",alignSelf:"flex-end",borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:0,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"0 1px 1px #b3b3b3"},quotedContainerRight:{margin:"-3px -80px 6px -6px",overflowY:"hidden",backgroundColor:"#cfe9ba",borderRadius:"7.5px",display:"flex",position:"relative"},quotedMsgRight:{padding:10,maxWidth:300,height:"auto",whiteSpace:"pre-wrap"},quotedSideColorRight:{flex:"none",width:"4px",backgroundColor:"#35cd96"},messageActionsButton:{display:"none",position:"relative",color:"#999",zIndex:1,backgroundColor:"inherit",opacity:"90%","&:hover, &.Mui-focusVisible":{backgroundColor:"inherit"}},messageContactName:{display:"flex",color:"#6bcbef",fontWeight:500},textContentItem:{overflowWrap:"break-word",padding:"3px 80px 6px 6px"},textContentItemEdited:{overflowWrap:"break-word",padding:"3px 120px 6px 6px"},textContentItemDeleted:{fontStyle:"italic",color:"rgba(0, 0, 0, 0.36)",overflowWrap:"break-word",padding:"3px 80px 6px 6px"},messageMedia:{objectFit:"cover",width:250,height:200,borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8},timestamp:{fontSize:11,position:"absolute",bottom:0,right:5,color:"#999"},dailyTimestamp:{alignItems:"center",textAlign:"center",alignSelf:"center",width:"110px",backgroundColor:"#e1f3fb",margin:"10px",borderRadius:"10px",boxShadow:"0 1px 1px #b3b3b3"},dailyTimestampText:{color:"#808888",padding:8,alignSelf:"center",marginLeft:"0px"},ackIcons:{fontSize:18,verticalAlign:"middle",marginLeft:4},deletedIcon:{fontSize:18,verticalAlign:"middle",marginRight:4},ackDoneAllIcon:{color:Pt.a[500],fontSize:18,verticalAlign:"middle",marginLeft:4},downloadMedia:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"inherit",padding:10}})),wa=(e,t)=>{if("LOAD_MESSAGES"===t.type){const a=t.payload,n=[];return a.forEach(t=>{const a=e.findIndex(e=>e.id===t.id);-1!==a?e[a]=t:n.push(t)}),[...n,...e]}if("ADD_MESSAGE"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a.id);return-1!==n?e[n]=a:e.push(a),[...e]}if("UPDATE_MESSAGE"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a.id);return-1!==n&&(e[n]=a),[...e]}if("RESET"===t.type)return[]};var Sa=e=>{let{ticket:t,ticketId:a,isGroup:r}=e;const l=Ca(),[i,s]=Object(n.useReducer)(wa,[]),[c,d]=Object(n.useState)(1),[m,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)(!1),b=Object(n.useRef)(),[E,f]=Object(n.useState)({}),[A,h]=Object(n.useState)(null),v=Boolean(A),x=Object(n.useRef)(a),C=Object(n.useContext)(y);Object(n.useEffect)(()=>{s({type:"RESET"}),d(1),x.current=a},[a]),Object(n.useEffect)(()=>{g(!0);const e=setTimeout(()=>{(async()=>{if(void 0!==a)try{const{data:e}=await Ge.get("/messages/"+a,{params:{pageNumber:c}});x.current===a&&(s({type:"LOAD_MESSAGES",payload:e.messages}),u(e.hasMore),g(!1)),1===c&&e.messages.length>1&&S()}catch(e){g(!1),He(e)}})()},500);return()=>{clearTimeout(e)}},[c,a]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),a=C.getSocket(e);return a.on("ready",()=>a.emit("joinChatBox","".concat(t.id))),a.on("company-".concat(e,"-appMessage"),e=>{"create"===e.action&&e.message.ticketId===x.current&&(s({type:"ADD_MESSAGE",payload:e.message}),S()),"update"===e.action&&e.message.ticketId===x.current&&s({type:"UPDATE_MESSAGE",payload:e.message})}),()=>{a.disconnect()}},[a,t,C]);const S=()=>{b.current&&b.current.scrollIntoView({})},O=(e,t)=>{h(e.currentTarget),f(t)},k=e=>{if("locationMessage"===e.mediaType&&e.body.split("|").length>=2){let t=e.body.split("|"),a=t[0],n=t[1],r=null;return t.length>2&&(r=e.body.split("|")[2]),o.a.createElement(ya,{image:a,link:n,description:r})}return"image"===e.mediaType?o.a.createElement(ma,{imageUrl:e.mediaUrl}):"audio"===e.mediaType?o.a.createElement("audio",{controls:!0},o.a.createElement("source",{src:e.mediaUrl,type:"audio/ogg"})):"video"===e.mediaType?o.a.createElement("video",{className:l.messageMedia,src:e.mediaUrl,controls:!0}):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:l.downloadMedia},o.a.createElement(st.a,{startIcon:o.a.createElement(na.a,null),color:"primary",variant:"outlined",target:"_blank",href:e.mediaUrl},Le.a.t("messagesList.header.buttons.download"))),o.a.createElement("div",{style:{marginBottom:""===e.body?8:0}},o.a.createElement(N.a,null)))},T=(e,t)=>{if(0===t)return o.a.createElement("span",{className:l.dailyTimestamp,key:"timestamp-".concat(e.id)},o.a.createElement("div",{className:l.dailyTimestampText},Object(Ot.a)(Object(Mt.a)(i[t].createdAt),"dd/MM/yyyy")));if(t<i.length-1){let a=Object(Mt.a)(i[t].createdAt),n=Object(Mt.a)(i[t-1].createdAt);if(!Object(Nt.a)(a,n))return o.a.createElement("span",{className:l.dailyTimestamp,key:"timestamp-".concat(e.id)},o.a.createElement("div",{className:l.dailyTimestampText},Object(Ot.a)(Object(Mt.a)(i[t].createdAt),"dd/MM/yyyy")))}return t===i.length-1?o.a.createElement("div",{key:"ref-".concat(e.createdAt),ref:b,style:{float:"left",clear:"both"}}):void 0},j=(e,t)=>{if(t<i.length&&t>0){var a,n;let r=e.ticketId;null===(a=e.ticket)||void 0===a||null===(n=a.whatsapp)||void 0===n||n.name;if(r!==i[t-1].ticketId)return o.a.createElement("center",null,o.a.createElement("div",{className:l.ticketNunberClosed},"Conversa encerrada: ",Object(Ot.a)(Object(Mt.a)(i[t-1].createdAt),"dd/MM/yyyy HH:mm:ss")),o.a.createElement("div",{className:l.ticketNunberOpen},"Conversa iniciada: ",Object(Ot.a)(Object(Mt.a)(e.createdAt),"dd/MM/yyyy HH:mm:ss")))}},M=(e,t)=>{if(t<i.length&&t>0){if(i[t].fromMe!==i[t-1].fromMe)return o.a.createElement("span",{style:{marginTop:16},key:"divider-".concat(e.id)})}},P=e=>{var t,a,n,r;return o.a.createElement("div",{className:Object(w.a)(l.quotedContainerLeft,{[l.quotedContainerRight]:e.fromMe})},o.a.createElement("span",{className:Object(w.a)(l.quotedSideColorLeft,{[l.quotedSideColorRight]:null===(t=e.quotedMsg)||void 0===t?void 0:t.fromMe})}),o.a.createElement("div",{className:l.quotedMsg},!(null===(a=e.quotedMsg)||void 0===a?void 0:a.fromMe)&&o.a.createElement("span",{className:l.messageContactName},null===(n=e.quotedMsg)||void 0===n||null===(r=n.contact)||void 0===r?void 0:r.name),"audio"===e.quotedMsg.mediaType&&o.a.createElement("div",{className:l.downloadMedia},o.a.createElement("audio",{controls:!0},o.a.createElement("source",{src:e.quotedMsg.mediaUrl,type:"audio/ogg"}))),"video"===e.quotedMsg.mediaType&&o.a.createElement("video",{className:l.messageMedia,src:e.quotedMsg.mediaUrl,controls:!0}),"application"===e.quotedMsg.mediaType&&o.a.createElement("div",{className:l.downloadMedia},o.a.createElement(st.a,{startIcon:o.a.createElement(na.a,null),color:"primary",variant:"outlined",target:"_blank",href:e.quotedMsg.mediaUrl},Le.a.t("messagesList.header.buttons.download"))),"image"===e.quotedMsg.mediaType&&o.a.createElement(ma,{imageUrl:e.quotedMsg.mediaUrl}),"contactMessage"===e.quotedMsg.mediaType&&o.a.createElement("span",null,e.quotedMsg.body)))};return o.a.createElement("div",{className:l.messagesListWrapper},o.a.createElement(fa,{message:E,anchorEl:A,menuOpen:v,handleClose:e=>{h(null)}}),o.a.createElement("div",{id:"messagesList",className:l.messagesList,onScroll:e=>{if(!m)return;const{scrollTop:t}=e.currentTarget;0===t&&(document.getElementById("messagesList").scrollTop=1),p||t<50&&d(e=>e+1)}},i.length>0?(()=>{if(i.length>0){return i.map((e,t)=>{var a,n;return"call_log"===e.mediaType?o.a.createElement(o.a.Fragment,{key:e.id},T(e,t),j(e,t),M(e,t),o.a.createElement("div",{className:l.messageCenter},o.a.createElement(I.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:e.isDeleted,className:l.messageActionsButton,onClick:t=>O(t,e)},o.a.createElement(ia.a,null)),r&&o.a.createElement("span",{className:l.messageContactName},null===(a=e.contact)||void 0===a?void 0:a.name),o.a.createElement("div",null,o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 17",width:"20",height:"17"},o.a.createElement("path",{fill:"#df3333",d:"M18.2 12.1c-1.5-1.8-5-2.7-8.2-2.7s-6.7 1-8.2 2.7c-.7.8-.3 2.3.2 2.8.2.2.3.3.5.3 1.4 0 3.6-.7 3.6-.7.5-.2.8-.5.8-1v-1.3c.7-1.2 5.4-1.2 6.4-.1l.1.1v1.3c0 .2.1.4.2.6.1.2.3.3.5.4 0 0 2.2.7 3.6.7.2 0 1.4-2 .5-3.1zM5.4 3.2l4.7 4.6 5.8-5.7-.9-.8L10.1 6 6.4 2.3h2.5V1H4.1v4.8h1.3V3.2z"}))," ",o.a.createElement("span",null,Le.a.t("messagesList.lostCall")," ",Object(Ot.a)(Object(Mt.a)(e.createdAt),"HH:mm"))))):e.fromMe?o.a.createElement(o.a.Fragment,{key:e.id},T(e,t),j(e,t),M(e,t),o.a.createElement("div",{className:l.messageRight},o.a.createElement(I.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:e.isDeleted,className:l.messageActionsButton,onClick:t=>O(t,e)},o.a.createElement(ia.a,null)),(e.mediaUrl||"locationMessage"===e.mediaType||"vcard"===e.mediaType)&&k(e),o.a.createElement("div",{className:Object(w.a)(l.textContentItem,{[l.textContentItemDeleted]:e.isDeleted,[l.textContentItemEdited]:e.isEdited})},e.isDeleted&&o.a.createElement(sa.a,{color:"disabled",fontSize:"small",className:l.deletedIcon}),e.quotedMsg&&P(e),o.a.createElement(Kt,null,"locationMessage"===e.mediaType?null:e.body),o.a.createElement("span",{className:l.timestamp},e.isEdited&&o.a.createElement("span",null,Le.a.t("messagesList.edited")),Object(Ot.a)(Object(Mt.a)(e.createdAt),"HH:mm"),(e=>1===e.ack?o.a.createElement(oa.a,{fontSize:"small",className:l.ackIcons}):2===e.ack?o.a.createElement(ra.a,{fontSize:"small",className:l.ackIcons}):3===e.ack?o.a.createElement(la.a,{fontSize:"small",className:l.ackIcons}):4===e.ack||5===e.ack?o.a.createElement(la.a,{fontSize:"small",className:l.ackDoneAllIcon}):void 0)(e))))):o.a.createElement(o.a.Fragment,{key:e.id},T(e,t),j(e,t),M(e,t),o.a.createElement("div",{className:l.messageLeft},o.a.createElement(I.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:e.isDeleted,className:l.messageActionsButton,onClick:t=>O(t,e)},o.a.createElement(ia.a,null)),r&&o.a.createElement("span",{className:l.messageContactName},null===(n=e.contact)||void 0===n?void 0:n.name),e.isDeleted&&o.a.createElement("div",null,o.a.createElement("span",{className:"message-deleted"},Le.a.t("messagesList.deletedMessage")," \xa0",o.a.createElement(sa.a,{color:"error",fontSize:"small",className:l.deletedIcon}))),(e.mediaUrl||"locationMessage"===e.mediaType||"vcard"===e.mediaType)&&k(e),o.a.createElement("div",{className:l.textContentItem},e.quotedMsg&&P(e),o.a.createElement(Kt,null,"locationMessage"===e.mediaType?null:e.body),o.a.createElement("span",{className:l.timestamp},e.isEdited&&o.a.createElement("span",null,"Editada "),Object(Ot.a)(Object(Mt.a)(e.createdAt),"HH:mm")))))})}return o.a.createElement("div",null,Le.a.t("messagesList.saudation"))})():[]),p&&o.a.createElement("div",null,o.a.createElement(Wt.a,{className:l.circleLoading})))},Oa=a(1516),ka=a(1517),Ta=a(1518);const ja=Object(k.a)(e=>({ticketHeader:{display:"flex",backgroundColor:"#eee",flex:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)"}}));var Ia=()=>{const e=ja();return o.a.createElement(Oa.a,{square:!0,className:e.ticketHeader},o.a.createElement(ka.a,{titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:o.a.createElement(Ta.a,{animation:"wave",variant:"circle"},o.a.createElement(Ft.a,{alt:"contact_image"})),title:o.a.createElement(Ta.a,{animation:"wave",width:80}),subheader:o.a.createElement(Ta.a,{animation:"wave",width:140})}))};const Na=Object(k.a)(e=>({ticketHeader:{display:"flex",backgroundColor:e.palette.tabHeaderBackground,flex:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",[e.breakpoints.down("sm")]:{flexWrap:"wrap"}}}));var Ma=e=>{let{loading:t,children:a}=e;const n=Na();return o.a.createElement(o.a.Fragment,null,t?o.a.createElement(Ia,null):o.a.createElement(Oa.a,{square:!0,className:n.ticketHeader},a))};var Pa=e=>{let{contact:t,ticket:a,onClick:r}=e;const{user:l}=a,[i,s]=Object(n.useState)(""),[c,d]=Object(n.useState)("");return Object(n.useEffect)(()=>{if(t&&(d(t.name),document.body.offsetWidth<600&&t.name.length>10)){const e=t.name.substring(0,10)+"...";d(e)}l&&t&&(s("".concat(Le.a.t("messagesList.header.assignedTo")," ").concat(l.name)),document.body.offsetWidth<600&&s("".concat(l.name)))},[]),o.a.createElement(ka.a,{onClick:r,style:{cursor:"pointer"},titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:o.a.createElement(Ft.a,{src:t.profilePicUrl,alt:"contact_image"}),title:"".concat(c," #").concat(a.id),subheader:a.user&&"".concat(i)})};const Ra=Object(k.a)(e=>({root:{display:"flex",height:"100%",position:"relative",overflow:"hidden"},mainWrapper:{flex:1,height:"100%",display:"flex",flexDirection:"column",overflow:"hidden",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"0",marginRight:-320,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},mainWrapperShift:{borderTopRightRadius:0,borderBottomRightRadius:0,transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}));function Da(e){let{open:t,handleClose:a,ticketId:r}=e;const l=Object(x.useHistory)(),i=Ra(),{user:s}=Object(n.useContext)($e),[,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(!0),[u,p]=Object(n.useState)({}),[g,b]=Object(n.useState)({}),E=Object(n.useContext)(y);Object(n.useEffect)(()=>{let e=null;return t&&(m(!0),e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ge.get("/tickets/"+r),{queueId:t}=e,{queues:a,profile:n}=s;if(void 0===a.find(e=>e.id===t)&&"admin"!==n)return C.b.error("Acesso n\xe3o permitido"),void l.push("/tickets");p(e.contact),b(e),m(!1)}catch(e){m(!1),He(e)}})()},500)),()=>{null!==e&&clearTimeout(e)}},[r,s,l,t]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId");if(t){const t=E.getSocket(e);t.on("ready",()=>t.emit("joinChatBox","".concat(g.id))),t.on("company-".concat(e,"-ticket"),e=>{"update"===e.action&&e.ticket.id===g.id&&b(e.ticket),"delete"===e.action&&e.ticketId===g.id&&l.push("/tickets")}),t.on("company-".concat(e,"-contact"),e=>{"update"===e.action&&p(t=>{var a;return t.id===(null===(a=e.contact)||void 0===a?void 0:a.id)?{...t,...e.contact}:t})})}return()=>{0}},[r,g,l,t,E]);const f=()=>{c(!0)};return o.a.createElement(ta.a,{maxWidth:"md",onClose:a,open:t},o.a.createElement(Ma,{loading:d},(()=>{if(void 0!==g.user)return o.a.createElement(Pa,{contact:u,ticket:g,onClick:f})})()),o.a.createElement(Ea,null,o.a.createElement(Lt.a,{className:i.root},o.a.createElement(Sa,{ticket:g,ticketId:g.id,isGroup:g.isGroup}))),o.a.createElement(aa.a,null,o.a.createElement(st.a,{onClick:a,color:"primary"},"Fechar")))}var qa=a(1379);const Fa=Object(qa.a)(e=>({tag:{padding:"1px 5px",borderRadius:"3px",fontSize:"0.8em",fontWeight:"bold",color:"#FFF",marginRight:"5px",whiteSpace:"nowrap"}}));var La=e=>{let{tag:t}=e;const a=Fa();return o.a.createElement("div",{className:a.tag,style:{backgroundColor:t.color,marginTop:"2px"}},t.name.toUpperCase())};const Wa=Object(k.a)(e=>({ticket:{position:"relative"},pendingTicket:{cursor:"unset"},queueTag:{background:"#FCFCFC",color:"#000",marginRight:1,padding:1,fontWeight:"bold",paddingLeft:5,paddingRight:5,borderRadius:3,fontSize:"0.8em",whiteSpace:"nowrap"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"},newMessagesCount:{position:"absolute",alignSelf:"center",marginRight:8,marginLeft:"auto",top:"10px",left:"20px",borderRadius:0},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},connectionTag:{background:"green",color:"#FFF",marginRight:1,padding:1,fontWeight:"bold",paddingLeft:5,paddingRight:5,borderRadius:3,fontSize:"0.8em",whiteSpace:"nowrap"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},contactNameWrapper:{display:"flex",justifyContent:"space-between",marginLeft:"5px"},lastMessageTime:{justifySelf:"flex-end",textAlign:"right",position:"relative",top:-21},closedBadge:{alignSelf:"center",justifySelf:"flex-end",marginRight:32,marginLeft:"auto"},contactLastMessage:{paddingRight:"0%",marginLeft:"5px"},badgeStyle:{color:"white",backgroundColor:Pt.a[500]},acceptButton:{position:"absolute",right:"108px"},acceptButton:{position:"absolute",left:"50%"},ticketQueueColor:{flex:"none",width:"8px",height:"100%",position:"absolute",top:"0%",left:"0%"},ticketInfo:{position:"relative",top:-13},secondaryContentSecond:{display:"flex",alignItems:"flex-start",flexWrap:"wrap",flexDirection:"row",alignContent:"flex-start"},ticketInfo1:{position:"relative",top:13,right:0},Radiusdot:{"& .MuiBadge-badge":{borderRadius:2,position:"inherit",height:16,margin:2,padding:3},"& .MuiBadge-anchorOriginTopRightRectangle":{transform:"scale(1) translate(0%, -40%)"}}}));var Ba=e=>{var t,a,r,l,i,s,c,d,m,u,p;let{ticket:g}=e;const b=Wa(),E=Object(x.useHistory)(),[f,A]=Object(n.useState)(!1),[h,y]=Object(n.useState)(null),[v,C]=Object(n.useState)(null),[S,O]=Object(n.useState)(null),[k,T]=Object(n.useState)([]),[j,I]=Object(n.useState)(null),[M,P]=Object(n.useState)(!1),{ticketId:R}=Object(x.useParams)(),q=Object(n.useRef)(!0),{setCurrentTicket:F}=Object(n.useContext)(Yt),{user:L}=Object(n.useContext)($e),{profile:W}=L;Object(n.useEffect)(()=>{var e,t,a,n,o,r;g.userId&&g.user&&y(null===(n=g.user)||void 0===n||null===(o=n.name)||void 0===o?void 0:o.toUpperCase());(C(null===(e=g.queue)||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toUpperCase()),O(null===(a=g.queue)||void 0===a?void 0:a.color),g.whatsappId&&g.whatsapp)&&I(null===(r=g.whatsapp.name)||void 0===r?void 0:r.toUpperCase());return T(null===g||void 0===g?void 0:g.tags),()=>{q.current=!1}},[]);const B=async e=>{const t="{{ms}} *{{name}}*, meu nome \xe9 *".concat(null===L||void 0===L?void 0:L.name,"* e agora vou prosseguir com seu\xa0atendimento!"),a={read:1,fromMe:!0,mediaUrl:"",body:"*Mensagem Autom\xe1tica:*\n".concat(t.trim())};try{await Ge.post("/messages/".concat(e),a)}catch(n){He(n)}};return o.a.createElement(o.a.Fragment,{key:g.id},o.a.createElement(Da,{open:M,handleClose:()=>P(!1),ticketId:g.id}),o.a.createElement(K.a,{dense:!0,button:!0,onClick:e=>{"pending"!==g.status&&(e=>{const t=Object(_t.a)(),{id:a,uuid:n}=e;F({id:a,uuid:n,code:t})})(g)},selected:R&&+R===g.id,className:Object(w.a)(b.ticket,{[b.pendingTicket]:"pending"===g.status})},o.a.createElement(Gt.a,{arrow:!0,placement:"right",title:(null===(t=g.queue)||void 0===t||null===(a=t.name)||void 0===a?void 0:a.toUpperCase())||Le.a.t("ticketsListItem.noQueue")},o.a.createElement("span",{style:{backgroundColor:(null===(r=g.queue)||void 0===r?void 0:r.color)||"#7C7C7C"},className:b.ticketQueueColor})),o.a.createElement(qt.a,null,"pending"!==g.status?o.a.createElement(Ft.a,{style:{marginTop:"-20px",marginLeft:"-3px",width:"55px",height:"55px",borderRadius:"10%"},src:null===g||void 0===g||null===(l=g.contact)||void 0===l?void 0:l.profilePicUrl}):o.a.createElement(Ft.a,{style:{marginTop:"-30px",marginLeft:"0px",width:"50px",height:"50px",borderRadius:"10%"},src:null===g||void 0===g||null===(i=g.contact)||void 0===i?void 0:i.profilePicUrl})),o.a.createElement(Y.a,{disableTypography:!0,primary:o.a.createElement("span",{className:b.contactNameWrapper},o.a.createElement(D.a,{noWrap:!0,component:"span",variant:"body2",color:"textPrimary"},g.contact.name,"admin"===W&&o.a.createElement(Gt.a,{title:Le.a.t("ticketsListItem.tooltip.peek")},o.a.createElement(ea.a,{onClick:()=>P(!0),fontSize:"small",style:{color:Dt.a[700],cursor:"pointer",marginLeft:10,verticalAlign:"middle"}}))),o.a.createElement(ct.a,null,o.a.createElement(Lt.a,{className:b.ticketInfo1},o.a.createElement(o.a.Fragment,null,g.chatbot&&o.a.createElement(Gt.a,{title:Le.a.t("ticketsListItem.tooltip.chatbot")},o.a.createElement(Jt.a,{fontSize:"small",style:{color:Rt.a[700],marginRight:5}})))))),secondary:o.a.createElement("span",{className:b.contactNameWrapper},o.a.createElement(D.a,{className:b.contactLastMessage,noWrap:!0,component:"span",variant:"body2",color:"textSecondary"}," ",g.lastMessage.includes("data:image/png;base64")?o.a.createElement(Kt,null," Localiza\xe7\xe3o"):o.a.createElement(Kt,null,g.lastMessage),o.a.createElement("span",{className:b.secondaryContentSecond},(null===g||void 0===g||null===(s=g.whatsapp)||void 0===s?void 0:s.name)?o.a.createElement(_.a,{className:b.connectionTag},null===g||void 0===g||null===(c=g.whatsapp)||void 0===c||null===(d=c.name)||void 0===d?void 0:d.toUpperCase()):o.a.createElement("br",null),h?o.a.createElement(_.a,{style:{backgroundColor:"#000000"},className:b.connectionTag},h):o.a.createElement("br",null),o.a.createElement(_.a,{style:{backgroundColor:(null===(m=g.queue)||void 0===m?void 0:m.color)||"#7c7c7c"},className:b.connectionTag},(null===(u=g.queue)||void 0===u||null===(p=u.name)||void 0===p?void 0:p.toUpperCase())||Le.a.t("ticketsListItem.noQueue"))),o.a.createElement("span",{style:{paddingTop:"2px"},className:b.secondaryContentSecond},null===k||void 0===k?void 0:k.map(e=>o.a.createElement(La,{tag:e,key:"ticket-contact-tag-".concat(g.id,"-").concat(e.id)})))),o.a.createElement(_.a,{className:b.newMessagesCount,badgeContent:g.unreadMessages,classes:{badge:b.badgeStyle}}))}),o.a.createElement(ct.a,null,g.lastMessage&&o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{className:b.lastMessageTime,component:"span",variant:"body2",color:"textSecondary"},Object(Nt.a)(Object(Mt.a)(g.updatedAt),new Date)?o.a.createElement(o.a.Fragment,null,Object(Ot.a)(Object(Mt.a)(g.updatedAt),"HH:mm")):o.a.createElement(o.a.Fragment,null,Object(Ot.a)(Object(Mt.a)(g.updatedAt),"dd/MM/yyyy"))),o.a.createElement("br",null))),o.a.createElement("span",{className:b.secondaryContentSecond},"pending"===g.status&&o.a.createElement(zt,{style:{backgroundColor:"green",color:"white",padding:"0px",bottom:"17px",borderRadius:"0px",left:"8px",fontSize:"0.6rem"},variant:"contained",className:b.acceptButton,size:"small",loading:f,onClick:e=>(async e=>{A(!0);try{let a;await Ge.put("/tickets/".concat(e),{status:"open",userId:null===L||void 0===L?void 0:L.id});try{const{data:e}=await Ge.get("/settings/");a=e.filter(e=>"sendGreetingAccepted"===e.key)}catch(t){He(t)}"enabled"!==a[0].value||g.isGroup||B(g.id)}catch(t){A(!1),He(t)}q.current&&A(!1),E.push("/tickets/".concat(g.uuid))})(g.id)},Le.a.t("ticketsList.buttons.accept")),"closed"!==g.status&&o.a.createElement(zt,{style:{backgroundColor:"red",color:"white",padding:"0px",bottom:"0px",borderRadius:"0px",left:"8px",fontSize:"0.6rem"},variant:"contained",className:b.acceptButton,size:"small",loading:f,onClick:e=>(async e=>{T(null===g||void 0===g?void 0:g.tags),A(!0);try{var t;await Ge.put("/tickets/".concat(e),{status:"closed",userId:null===L||void 0===L?void 0:L.id,queueId:null===g||void 0===g||null===(t=g.queue)||void 0===t?void 0:t.id,useIntegration:!1,promptId:null,integrationId:null})}catch(a){A(!1),He(a)}q.current&&A(!1),E.push("/tickets/")})(g.id)},Le.a.t("ticketsList.buttons.closed")),"closed"===g.status&&o.a.createElement(zt,{style:{backgroundColor:"red",color:"white",padding:"0px",bottom:"0px",borderRadius:"0px",left:"8px",fontSize:"0.6rem"},variant:"contained",className:b.acceptButton,size:"small",loading:f,onClick:e=>(async e=>{A(!0);try{var t;await Ge.put("/tickets/".concat(e),{status:"open",userId:null===L||void 0===L?void 0:L.id,queueId:null===g||void 0===g||null===(t=g.queue)||void 0===t?void 0:t.id})}catch(a){A(!1),He(a)}q.current&&A(!1),E.push("/tickets/".concat(g.uuid))})(g.id)},Le.a.t("ticketsList.buttons.reopen")))),o.a.createElement(N.a,{variant:"inset",component:"li"}))};var za=e=>{let{searchParam:t,tags:a,users:o,pageNumber:r,status:l,date:i,updatedAt:s,showAll:c,queueIds:d,withUnreadMessages:m}=e;const[u,p]=Object(n.useState)(!0),[g,b]=Object(n.useState)(!1),[E,f]=Object(n.useState)([]);return Object(n.useEffect)(()=>{p(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ge.get("/tickets",{params:{searchParam:t,pageNumber:r,tags:a,users:o,status:l,date:i,updatedAt:s,showAll:c,queueIds:d,withUnreadMessages:m}});f(e.tickets),b(e.hasMore),p(!1)}catch(e){p(!1),He(e)}})()},500);return()=>clearTimeout(e)},[t,a,o,r,l,i,s,c,d,m]),{tickets:E,loading:u,hasMore:g}},Ha=a(828),Ua=a.n(Ha);const Va=Object(k.a)(e=>({tabContainer:{overflowY:"auto",maxHeight:350,...e.scrollbarStyles},popoverPaper:{width:"100%",maxWidth:350,marginLeft:e.spacing(2),marginRight:e.spacing(1),[e.breakpoints.down("sm")]:{maxWidth:270}},noShadow:{boxShadow:"none !important"}}));var Qa=e=>{const t=Va(),a=Object(x.useHistory)(),{user:r}=Object(n.useContext)($e),l=+a.location.pathname.split("/")[2],i=Object(n.useRef)(l),s=Object(n.useRef)(),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)([]),[p,g]=Object(n.useState)(!1),[,b]=Object(n.useState)([]),{tickets:E}=za({withUnreadMessages:"true"}),[f]=Object(kt.a)(Ua.a,e),A=Object(n.useRef)(),h=Object(n.useRef)(a),v=Object(n.useContext)(y);Object(n.useEffect)(()=>{(async()=>{try{"enable"===r.allTicket&&g(!0)}catch(e){He(e)}})()},[]),Object(n.useEffect)(()=>{A.current=f,"Notification"in window?Notification.requestPermission():console.log("This browser doesn't support notifications")},[f]),Object(n.useEffect)(()=>{(()=>{if(p)u(E);else{const e=E.filter(e=>"pending"!==e.status);u(e)}})()},[E]),Object(n.useEffect)(()=>{i.current=l},[l]),Object(n.useEffect)(()=>{const e=v.getSocket(r.companyId);return e.on("ready",()=>e.emit("joinNotification")),e.on("company-".concat(r.companyId,"-ticket"),e=>{"updateUnread"!==e.action&&"delete"!==e.action||(u(t=>{const a=t.findIndex(t=>t.id===e.ticketId);return-1!==a?(t.splice(a,1),[...t]):t}),b(t=>{const a=t.findIndex(t=>t.tag===String(e.ticketId));return-1!==a?(t[a].close(),t.splice(a,1),[...t]):t}))}),e.on("company-".concat(r.companyId,"-appMessage"),e=>{var t;if("create"===e.action&&!e.message.fromMe&&"pending"!==e.ticket.status&&(!e.message.read||"pending"===e.ticket.status)&&(e.ticket.userId===(null===r||void 0===r?void 0:r.id)||!e.ticket.userId)&&((null===r||void 0===r||null===(t=r.queues)||void 0===t?void 0:t.some(t=>t.id===e.ticket.queueId))||!e.ticket.queueId)){u(t=>{const a=t.findIndex(t=>t.id===e.ticket.id);return-1!==a?(t[a]=e.ticket,[...t]):[e.ticket,...t]});if(e.message.ticketId===i.current&&"visible"===document.visibilityState||e.ticket.userId&&e.ticket.userId!==(null===r||void 0===r?void 0:r.id)||e.ticket.isGroup)return;C(e)}}),()=>{e.disconnect()}},[r,p,v]);const C=e=>{const{message:t,contact:a,ticket:n}=e,o={body:"".concat(t.body," - ").concat(Object(Ot.a)(new Date,"HH:mm")),icon:a.urlPicture,tag:n.id,renotify:!0},r=new Notification("".concat(Le.a.t("tickets.notification.message")," ").concat(a.name),o);r.onclick=e=>{e.preventDefault(),window.focus(),h.current.push("/tickets/".concat(n.uuid))},b(e=>{const t=e.findIndex(e=>e.tag===r.tag);return-1!==t?(e[t]=r,[...e]):[r,...e]}),A.current()},w=()=>{d(!1)},S=e=>{let{children:t}=e;return o.a.createElement("div",{onClick:w},t)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(I.a,{onClick:()=>{d(e=>!e)},ref:s,"aria-label":"Open Notifications",color:"inherit",style:{color:"white"}},o.a.createElement(_.a,{overlap:"rectangular",badgeContent:m.length,color:"secondary"},o.a.createElement(It.a,null))),o.a.createElement(Tt.a,{disableScrollLock:!0,open:c,anchorEl:s.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},classes:{paper:t.popoverPaper},onClose:w},o.a.createElement(M.a,{dense:!0,className:t.tabContainer},0===m.length?o.a.createElement(K.a,null,o.a.createElement(Y.a,null,Le.a.t("notifications.noTickets"))):m.map(e=>o.a.createElement(S,{key:e.id},o.a.createElement(Ba,{ticket:e}))))))},Ka=a(653),Ga=a.n(Ka),Ya=a(829),Xa=a.n(Ya),_a=a(1520),Za=a(930);const Ja=Object(k.a)(e=>({tabContainer:{padding:e.spacing(2)},popoverPaper:{width:"100%",maxWidth:350,marginLeft:e.spacing(2),marginRight:e.spacing(1),[e.breakpoints.down("sm")]:{maxWidth:270}},noShadow:{boxShadow:"none !important"},icons:{color:"#fff"},customBadge:{backgroundColor:"#f44336",color:"#fff"}}));var $a=e=>{let{volume:t,setVolume:a}=e;const r=Ja(),l=Object(n.useRef)(),[i,s]=Object(n.useState)(!1);return o.a.createElement(o.a.Fragment,null,o.a.createElement(I.a,{className:r.icons,onClick:()=>{s(e=>!e)},ref:l,"aria-label":"Open Notifications"},o.a.createElement(Ga.a,{color:"inherit"})),o.a.createElement(Tt.a,{disableScrollLock:!0,open:i,anchorEl:l.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},classes:{paper:r.popoverPaper},onClose:()=>{s(!1)}},o.a.createElement(M.a,{dense:!0,className:r.tabContainer},o.a.createElement(_a.a,{container:!0,spacing:2},o.a.createElement(_a.a,{item:!0},o.a.createElement(Xa.a,null)),o.a.createElement(_a.a,{item:!0,xs:!0},o.a.createElement(Za.a,{value:t,"aria-labelledby":"continuous-slider",step:.1,min:0,max:1,onChange:(e,t)=>(e=>{a(e),localStorage.setItem("volume",e)})(t)})),o.a.createElement(_a.a,{item:!0},o.a.createElement(Ga.a,null))))))},en=a(17),tn=a(7),an=a(1378),nn=a(929),on=a(663),rn=a(1620);const ln=Object(k.a)(e=>({chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}));var sn=e=>{let{selectedQueueIds:t,onChange:a,multiple:r=!0,title:l=Le.a.t("queueSelect.inputLabel")}=e;const i=ln(),[s,c]=Object(n.useState)([]);Object(n.useEffect)(()=>{d()},[]);const d=async()=>{try{const{data:e}=await Ge.get("/queue");c(e)}catch(e){He(e)}};return o.a.createElement("div",null,o.a.createElement(on.a,{fullWidth:!0,margin:"dense",variant:"outlined"},o.a.createElement(nn.a,{shrink:!!t},l),o.a.createElement(an.a,{label:l,multiple:r,labelWidth:60,value:t,onChange:e=>{a(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:e=>{var t,a;return o.a.createElement("div",{className:i.chips},(null===e||void 0===e?void 0:e.length)>0&&r?e.map(e=>{const t=s.find(t=>t.id===e);return t?o.a.createElement(rn.a,{key:e,style:{backgroundColor:t.color},variant:"outlined",label:t.name,className:i.chip}):null}):o.a.createElement(rn.a,{key:e,variant:"outlined",style:{backgroundColor:null===(t=s.find(t=>t.id===e))||void 0===t?void 0:t.color},label:null===(a=s.find(t=>t.id===e))||void 0===a?void 0:a.name,className:i.chip}))}},!r&&o.a.createElement(F.a,{value:null},"Nenhum"),s.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name)))))};const cn=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}})),dn=en.b().shape({name:en.d().min(2,Le.a.t("userModal.formErrors.name.short")).max(50,Le.a.t("userModal.formErrors.name.long")).required(Le.a.t("userModal.formErrors.name.required")),password:en.d().min(5,Le.a.t("userModal.formErrors.password.short")).max(50,Le.a.t("userModal.formErrors.password.long")),email:en.d().email(Le.a.t("userModal.formErrors.email.invalid")).required(Le.a.t("userModal.formErrors.email.required"))});var mn=e=>{let{open:t,onClose:a,userId:r}=e;const l=cn(),i={name:"",email:"",password:"",profile:"user",allTicket:"desabled"},{user:s}=Object(n.useContext)($e),[c,d]=Object(n.useState)(i),[m,u]=Object(n.useState)([]),[p,g]=Object(n.useState)(!1),{loading:b,whatsApps:E}=Xe();Object(n.useEffect)(()=>{(async()=>{if(r)try{var e;const{data:t}=await Ge.get("/users/".concat(r));d(e=>({...e,...t}));const a=null===(e=t.queues)||void 0===e?void 0:e.map(e=>e.id);u(a),g(t.whatsappId?t.whatsappId:"")}catch(t){He(t)}})()},[r,t]);const f=()=>{a(),d(i)};return o.a.createElement("div",{className:l.root},o.a.createElement(ta.a,{open:t,onClose:f,maxWidth:"xs",fullWidth:!0,scroll:"paper"},o.a.createElement(pa.a,{id:"form-dialog-title"},"".concat(r?Le.a.t("userModal.title.edit"):Le.a.t("userModal.title.add"))),o.a.createElement(tn.e,{initialValues:c,enableReinitialize:!0,validationSchema:dn,onSubmit:(e,t)=>{setTimeout(()=>{(async e=>{const t={...e,whatsappId:p,queueIds:m,allTicket:e.allTicket};try{r?await Ge.put("/users/".concat(r),t):await Ge.post("/users",t),C.b.success(Le.a.t("userModal.success"))}catch(a){He(a)}f()})(e),t.setSubmitting(!1)},400)}},e=>{let{touched:t,errors:a,isSubmitting:n}=e;return o.a.createElement(tn.d,null,o.a.createElement(ua.a,{dividers:!0},o.a.createElement("div",{className:l.multFieldLine},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("userModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(a.name),helperText:t.name&&a.name,variant:"outlined",margin:"dense",fullWidth:!0}),o.a.createElement(tn.b,{as:it.a,label:Le.a.t("userModal.form.password"),type:"password",name:"password",error:t.password&&Boolean(a.password),helperText:t.password&&a.password,variant:"outlined",margin:"dense",fullWidth:!0})),o.a.createElement("div",{className:l.multFieldLine},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("userModal.form.email"),name:"email",error:t.email&&Boolean(a.email),helperText:t.email&&a.email,variant:"outlined",margin:"dense",fullWidth:!0}),o.a.createElement(on.a,{variant:"outlined",className:l.formControl,margin:"dense"},o.a.createElement(at,{role:s.profile,perform:"user-modal:editProfile",yes:()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(nn.a,{id:"profile-selection-input-label"},Le.a.t("userModal.form.profile")),o.a.createElement(tn.b,{as:an.a,label:Le.a.t("userModal.form.profile"),name:"profile",labelId:"profile-selection-label",id:"profile-selection",required:!0},o.a.createElement(F.a,{value:"admin"},"Admin"),o.a.createElement(F.a,{value:"user"},"User")))}))),o.a.createElement(at,{role:s.profile,perform:"user-modal:editQueues",yes:()=>o.a.createElement(sn,{selectedQueueIds:m,onChange:e=>u(e)})}),o.a.createElement(at,{role:s.profile,perform:"user-modal:editProfile",yes:()=>o.a.createElement(on.a,{variant:"outlined",margin:"dense",className:l.maxWidth,fullWidth:!0},o.a.createElement(nn.a,null,Le.a.t("userModal.form.whatsapp")),o.a.createElement(tn.b,{as:an.a,value:p,onChange:e=>g(e.target.value),label:Le.a.t("userModal.form.whatsapp")},o.a.createElement(F.a,{value:""},"\xa0"),E.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name))))}),o.a.createElement("div",{className:l.divider},o.a.createElement("span",{className:l.dividerText},Le.a.t("userModal.labels.liberations"))),o.a.createElement(at,{role:s.profile,perform:"user-modal:editProfile",yes:()=>!b&&o.a.createElement("div",{className:l.textField},o.a.createElement(on.a,{variant:"outlined",className:l.maxWidth,margin:"dense",fullWidth:!0},o.a.createElement(o.a.Fragment,null,o.a.createElement(nn.a,{id:"profile-selection-input-label"},Le.a.t("userModal.form.allTicket")),o.a.createElement(tn.b,{as:an.a,label:Le.a.t("allTicket.form.viewTags"),name:"allTicket",labelId:"allTicket-selection-label",id:"allTicket-selection",required:!0},o.a.createElement(F.a,{value:"enabled"},Le.a.t("userModal.form.allTicketEnabled")),o.a.createElement(F.a,{value:"desabled"},Le.a.t("userModal.form.allTicketDesabled"))))))})),o.a.createElement(aa.a,null,o.a.createElement(st.a,{onClick:f,color:"secondary",disabled:n,variant:"outlined"},Le.a.t("userModal.buttons.cancel")),o.a.createElement(st.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:l.btnWrapper},"".concat(r?Le.a.t("userModal.buttons.okEdit"):Le.a.t("userModal.buttons.okAdd")),n&&o.a.createElement(Wt.a,{size:24,className:l.buttonProgress}))))})))},un=a(1363);const pn=Object(k.a)(e=>({backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}));var gn=()=>{const e=pn();return o.a.createElement(un.a,{className:e.backdrop,open:!0},o.a.createElement(Wt.a,{color:"inherit"}))},bn=a(480),En=a.n(bn),fn=a(481),An=a.n(fn);Object(k.a)(e=>({icons:{color:"#fff"},switch:{color:"#fff"},visible:{display:"none"},btnHeader:{color:"#fff"}}));var hn=a(834),yn=a.n(hn),vn=a(1522),xn=a(562);const Cn=Object(k.a)(e=>({mainPaper:{flex:1,maxHeight:3e3,maxWidth:5e3,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));function wn(e){let{announcement:t,open:a,handleClose:n}=e;return o.a.createElement(ta.a,{open:a,onClose:()=>n(),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(pa.a,{id:"alert-dialog-title"},t.title),o.a.createElement(ua.a,null,t.mediaPath&&o.a.createElement("div",{style:{border:"1px solid #f1f1f1",margin:"0 auto 20px",textAlign:"center",width:"400px",height:300,backgroundImage:"url(".concat((r=t.mediaPath,"".concat("https://api.zettabot.com.br","/public/").concat(r)),")"),backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center"}}),o.a.createElement(vn.a,{id:"alert-dialog-description"},t.text)),o.a.createElement(aa.a,null,o.a.createElement(st.a,{onClick:()=>n(),color:"primary",autoFocus:!0},"Fechar")));var r}const Sn=(e,t)=>{if("LOAD_ANNOUNCEMENTS"===t.type){const a=t.payload,n=[];return Object(ze.isArray)(a)&&a.forEach(t=>{const a=e.findIndex(e=>e.id===t.id);-1!==a?e[a]=t:n.push(t)}),[...e,...n]}if("UPDATE_ANNOUNCEMENTS"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a.id);return-1!==n?(e[n]=a,[...e]):[a,...e]}if("DELETE_ANNOUNCEMENT"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===t.type)return[]};function On(){const e=Cn(),[t,a]=Object(n.useState)(!1),[r,l]=Object(n.useState)(null),[i,s]=Object(n.useState)(1),[c,d]=Object(n.useState)(!1),[m]=Object(n.useState)(""),[u,p]=Object(n.useReducer)(Sn,[]),[g,b]=Object(n.useState)(!1),[E,f]=Object(n.useState)({}),[A,h]=Object(n.useState)(!1),v=Object(n.useContext)(y);Object(n.useEffect)(()=>{p({type:"RESET"}),s(1)},[m]),Object(n.useEffect)(()=>{a(!0);const e=setTimeout(()=>{x()},500);return()=>clearTimeout(e)},[m,i]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),t=v.getSocket(e);return t?(t.on("company-announcement",e=>{"update"!==e.action&&"create"!==e.action||(p({type:"UPDATE_ANNOUNCEMENTS",payload:e.record}),b(!1)),"delete"===e.action&&p({type:"DELETE_ANNOUNCEMENT",payload:+e.id})}),()=>{t.disconnect()}):()=>{}},[v]);const x=async()=>{try{const{data:e}=await Ge.get("/announcements/",{params:{searchParam:m,pageNumber:i}});p({type:"LOAD_ANNOUNCEMENTS",payload:e.records}),d(e.hasMore),a(!1)}catch(e){He(e)}},C=Boolean(r),w=C?"simple-popover":void 0;return o.a.createElement("div",null,o.a.createElement(wn,{announcement:E,open:A,handleClose:()=>h(!1)}),o.a.createElement(I.a,{variant:"contained","aria-describedby":w,onClick:e=>{l(e.currentTarget),b(!0)},style:{color:"white"}},o.a.createElement(_.a,{color:"secondary",variant:"dot",invisible:g||u.length<1},o.a.createElement(yn.a,null))),o.a.createElement(Tt.a,{id:w,open:C,anchorEl:r,onClose:()=>{l(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(xn.a,{variant:"outlined",onScroll:e=>{if(!c||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(a+100)<o&&s(e=>e+1)},className:e.mainPaper},o.a.createElement(M.a,{component:"nav","aria-label":"main mailbox folders",style:{minWidth:300}},Object(ze.isArray)(u)&&u.map((e,t)=>{return o.a.createElement(K.a,{key:t,style:{border:"1px solid #eee",borderLeft:(n=e.priority,1===n?"4px solid #b81111":2===n?"4px solid orange":3===n?"4px solid grey":void 0),cursor:"pointer"},onClick:()=>(f(e),h(!0),void l(null))},e.mediaPath&&o.a.createElement(qt.a,null,o.a.createElement(Ft.a,{alt:e.mediaName,src:(a=e.mediaPath,"".concat("https://api.zettabot.com.br","/public/").concat(a))})),o.a.createElement(Y.a,{primary:e.title,secondary:o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{component:"span",style:{fontSize:12}},O()(e.createdAt).format("DD/MM/YYYY")),o.a.createElement("span",{style:{marginTop:5,display:"block"}}),o.a.createElement(D.a,{component:"span",variant:"body2"},e.text))}));var a,n}),Object(ze.isArray)(u)&&0===u.length&&o.a.createElement(Y.a,{primary:"Nenhum registro"})))))}var kn=a(166),Tn=a.n(kn);function jn(){return{dateToClient:function(e){return O()(e).isValid()?O()(e).format("DD/MM/YYYY"):e},datetimeToClient:function(e){return O()(e).isValid()?O()(e).format("DD/MM/YYYY HH:mm"):e},dateToDatabase:function(e){return O()(e,"DD/MM/YYYY").isValid()?O()(e).format("YYYY-MM-DD HH:mm:ss"):e}}}var In=a(835),Nn=a.n(In);const Mn=Object(k.a)(e=>({mainPaper:{flex:1,maxHeight:300,maxWidth:500,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}})),Pn=(e,t)=>{if("LOAD_CHATS"===t.type){const a=t.payload,n=[];return Object(ze.isArray)(a)&&a.forEach(t=>{const a=e.findIndex(e=>e.id===t.id);-1!==a?e[a]=t:n.push(t)}),[...e,...n]}if("UPDATE_CHATS"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a.id);return-1!==n?(e[n]=a,[...e]):[a,...e]}if("DELETE_CHAT"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===t.type)return[];if("CHANGE_CHAT"===t.type){return e.map(e=>e.id===t.payload.chat.id?t.payload.chat:e)}};function Rn(){const e=Mn(),{user:t}=Object(n.useContext)($e),[a,r]=Object(n.useState)(!1),[l,i]=Object(n.useState)(null),[s,c]=Object(n.useState)(1),[d,m]=Object(n.useState)(!1),[u]=Object(n.useState)(""),[p,g]=Object(n.useReducer)(Pn,[]),[b,E]=Object(n.useState)(!0),{datetimeToClient:f}=jn(),[A]=Object(kt.a)(Nn.a),h=Object(n.useRef)(),v=Object(n.useContext)(y);Object(n.useEffect)(()=>{h.current=A,"Notification"in window?Notification.requestPermission():console.log("This browser doesn't support notifications")},[A]),Object(n.useEffect)(()=>{g({type:"RESET"}),c(1)},[u]),Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{x()},500);return()=>clearTimeout(e)},[u,s]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),a=v.getSocket(e);return a?(a.on("company-".concat(e,"-chat"),e=>{if("new-message"===e.action){g({type:"CHANGE_CHAT",payload:e});e.newMessage.chat.users.map(e=>e.userId).includes(t.id)&&e.newMessage.senderId!==t.id&&h.current()}"update"===e.action&&g({type:"CHANGE_CHAT",payload:e})}),()=>{a.disconnect()}):()=>{}},[v,t.id]),Object(n.useEffect)(()=>{let e=0;if(p.length>0)for(let a of p)for(let n of a.users)n.userId===t.id&&(e+=n.unreads);E(!(e>0))},[p,t.id]);const x=async()=>{try{const{data:e}=await Ge.get("/chats/",{params:{searchParam:u,pageNumber:s}});g({type:"LOAD_CHATS",payload:e.records}),m(e.hasMore),r(!1)}catch(e){He(e)}},C=Boolean(l),w=C?"simple-popover":void 0;return o.a.createElement("div",null,o.a.createElement(I.a,{"aria-describedby":w,variant:"contained",color:b?"default":"inherit",onClick:e=>{i(e.currentTarget),E(!0)},style:{color:"white"}},o.a.createElement(_.a,{color:"secondary",variant:"dot",invisible:b},o.a.createElement(De.a,null))),o.a.createElement(Tt.a,{id:w,open:C,anchorEl:l,onClose:()=>{i(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(xn.a,{variant:"outlined",onScroll:e=>{if(!d||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(t+100)<o&&c(e=>e+1)},className:e.mainPaper},o.a.createElement(M.a,{component:"nav","aria-label":"main mailbox folders",style:{minWidth:300}},Object(ze.isArray)(p)&&p.map((e,t)=>o.a.createElement(K.a,{key:t,style:{background:t%2===0?"#ededed":"white",border:"1px solid #eee",cursor:"pointer"},onClick:()=>{return t=e,void(window.location.href="/chats/".concat(t.uuid));var t},button:!0},o.a.createElement(Y.a,{primary:e.lastMessage,secondary:o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{component:"span",style:{fontSize:12}},f(e.updatedAt)),o.a.createElement("span",{style:{marginTop:5,display:"block"}}))}))),Object(ze.isArray)(p)&&0===p.length&&o.a.createElement(Y.a,{primary:Le.a.t("mainDrawer.appBar.notRegister")})))))}var Dn=a(1621),qn=a(1523),Fn=a(1598);var Ln=()=>{const[e,t]=Object(n.useState)("en");return Object(n.useEffect)(()=>{const e=localStorage.getItem("i18nextLng");t(e)},[]),o.a.createElement("div",null,o.a.createElement("label",{htmlFor:"language-select"},Le.a.t("selectLanguage")),o.a.createElement(Dn.a,{"aria-label":"language",name:"language-radio-group",value:e,onChange:async e=>{const a=e.target.value;var n;t(a),n=a,Le.a.changeLanguage(n),localStorage.setItem("i18nextLng",n);try{await Ge.post("/users/set-language/".concat(a))}catch(o){console.error(o)}},row:!0},o.a.createElement(qn.a,{value:"pt",control:o.a.createElement(Fn.a,null),label:"Portugu\xeas (BR)"}),o.a.createElement(qn.a,{value:"en",control:o.a.createElement(Fn.a,null),label:"English"}),o.a.createElement(qn.a,{value:"es",control:o.a.createElement(Fn.a,null),label:"Espa\xf1ol"})))},Wn=a(1526);const Bn=Object(k.a)(e=>({root:{display:"flex",height:"100vh",[e.breakpoints.down("sm")]:{height:"calc(100vh - 56px)"},backgroundColor:e.palette.fancyBackground,"& .MuiButton-outlinedPrimary":{color:(e.mode,"#FFF"),backgroundColor:"light"===e.mode?e.palette.primary.main:"#1c1c1c"},"& .MuiTab-textColorPrimary.Mui-selected":{color:"light"===e.mode?"Primary":"#FFF"}},avatar:{width:"100%"},toolbar:{paddingRight:24,color:e.palette.dark.main,background:e.palette.barraSuperior},toolbarIcon:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 8px",minHeight:"48px",[e.breakpoints.down("sm")]:{height:"48px"}},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),[e.breakpoints.down("sm")]:{display:"none"}},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1,fontSize:14,color:"white"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),[e.breakpoints.down("sm")]:{width:"100%"},...e.scrollbarStylesSoft},drawerPaperClose:{overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7),[e.breakpoints.up("sm")]:{width:e.spacing(9)},[e.breakpoints.down("sm")]:{width:"100%"}},appBarSpacer:{minHeight:"48px"},content:{flex:1,overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},containerWithScroll:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles},NotificationsPopOver:{},logo:{width:"80%",height:"auto",maxWidth:180,[e.breakpoints.down("sm")]:{width:"auto",height:"80%",maxWidth:180},logo:e.logo}}));var zn=e=>{var t,a,r,l;let{children:i,themeToggle:s}=e;const c=Bn(),[d,m]=Object(n.useState)(!1),[g,b]=Object(n.useState)(null),[E,f]=Object(n.useState)(!1),{handleLogout:A,loading:h}=Object(n.useContext)($e),[v,x]=Object(n.useState)(!1),[C,S]=Object(n.useState)("permanent"),{user:O}=Object(n.useContext)($e),k=Object(T.a)(),{colorMode:L}=Object(n.useContext)(p),B=Object(u.a)(k.breakpoints.up("sm")),[H,V]=Object(n.useState)(localStorage.getItem("volume")||1),{dateToClient:K}=jn(),[G,Y]=Object(n.useState)(null),[X,_]=Object(n.useState)(!1),Z=Object(n.useContext)(y);Object(n.useEffect)(()=>{document.body.offsetWidth>1200&&x(!0)},[]),Object(n.useEffect)(()=>{document.body.offsetWidth<600?S("temporary"):S("permanent")},[v]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),t=localStorage.getItem("userId"),a=Z.getSocket(e);a.on("company-".concat(e,"-auth"),e=>{e.user.id===+t&&(He("Sua conta foi acessada em outro computador."),setTimeout(()=>{localStorage.clear(),window.location.reload()},1e3))}),a.emit("userStatus");const n=setInterval(()=>{a.emit("userStatus")},3e5);return()=>{a.disconnect(),clearInterval(n)}},[Z]);const J=()=>{b(null),f(!1)};return h?o.a.createElement(gn,null):o.a.createElement("div",{className:c.root},o.a.createElement(j.a,{variant:C,className:v?c.drawerPaper:c.drawerPaperClose,classes:{paper:Object(w.a)(c.drawerPaper,!v&&c.drawerPaperClose)},open:v},o.a.createElement("div",{className:c.toolbarIcon},o.a.createElement("img",{src:Tn.a,className:c.logo,alt:"logo"}),o.a.createElement(I.a,{onClick:()=>x(!v)},o.a.createElement(z.a,null))),o.a.createElement(N.a,null),o.a.createElement(M.a,{className:c.containerWithScroll},o.a.createElement(St,{drawerClose:()=>{document.body.offsetWidth<600&&x(!1)},collapsed:!v})),o.a.createElement(N.a,null)),o.a.createElement(mn,{open:d,onClose:()=>m(!1),userId:null===O||void 0===O?void 0:O.id}),o.a.createElement(P.a,{position:"absolute",className:Object(w.a)(c.appBar,v&&c.appBarShift),color:"primary"},o.a.createElement(R.a,{variant:"dense",className:c.toolbar},o.a.createElement(I.a,{edge:"start",variant:"contained","aria-label":"open drawer",onClick:()=>x(!v),className:Object(w.a)(c.menuButton,v&&c.menuButtonHidden)},o.a.createElement(W.a,null)),o.a.createElement(D.a,{component:"h2",variant:"h6",color:"inherit",noWrap:!0,className:c.title},B&&"admin"===(null===O||void 0===O?void 0:O.profile)&&(null===O||void 0===O||null===(t=O.company)||void 0===t?void 0:t.dueDate)?o.a.createElement(o.a.Fragment,null,Le.a.t("mainDrawer.appBar.greeting.hello")," ",o.a.createElement("b",null,O.name),", ",Le.a.t("mainDrawer.appBar.greeting.welcome")," ",o.a.createElement("b",null,null===O||void 0===O||null===(a=O.company)||void 0===a?void 0:a.name),"! (",Le.a.t("mainDrawer.appBar.greeting.active")," ",K(null===O||void 0===O||null===(r=O.company)||void 0===r?void 0:r.dueDate),")"):o.a.createElement(o.a.Fragment,null,Le.a.t("mainDrawer.appBar.greeting.hello")," ",o.a.createElement("b",null,O.name),", ",Le.a.t("mainDrawer.appBar.greeting.welcome")," ",o.a.createElement("b",null,null===O||void 0===O||null===(l=O.company)||void 0===l?void 0:l.name),"!")),o.a.createElement("div",null,o.a.createElement(I.a,{edge:"start"},o.a.createElement(Wn.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:e=>{Y(e.currentTarget),_(!0)},variant:"contained",style:{color:"white",marginRight:10}})),o.a.createElement(q.a,{id:"menu-appbar-language",anchorEl:G,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:X,onClose:()=>{Y(null),_(!1)}},o.a.createElement(F.a,null,o.a.createElement(Ln,null)))),o.a.createElement(I.a,{edge:"start",onClick:()=>{L.toggleColorMode()}},"dark"===k.mode?o.a.createElement(An.a,{style:{color:"white"}}):o.a.createElement(En.a,{style:{color:"white"}})),o.a.createElement($a,{setVolume:V,volume:H}),o.a.createElement(I.a,{onClick:()=>{window.location.reload(!1)},"aria-label":Le.a.t("mainDrawer.appBar.refresh"),color:"inherit"},o.a.createElement(Q.a,{style:{color:"white"}})),O.id&&o.a.createElement(Qa,{volume:H}),o.a.createElement(On,null),o.a.createElement(Rn,null),o.a.createElement("div",null,o.a.createElement(I.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:e=>{b(e.currentTarget),f(!0)},variant:"contained",style:{color:"white"}},o.a.createElement(U.a,null)),o.a.createElement(q.a,{id:"menu-appbar",anchorEl:g,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:E,onClose:J},o.a.createElement(F.a,{onClick:()=>{m(!0),J()}},Le.a.t("mainDrawer.appBar.user.profile")),o.a.createElement(F.a,{onClick:()=>{J(),A()}},Le.a.t("mainDrawer.appBar.user.logout")))))),o.a.createElement("main",{className:c.content},o.a.createElement("div",{className:c.appBarSpacer}),i||null))},Hn=a(1544),Un=a(921),Vn=a(844),Qn=a.n(Vn),Kn=a(846),Gn=a.n(Kn),Yn=a(845),Xn=a.n(Yn),_n=a(185),Zn=a.n(_n),Jn=a(847),$n=a.n(Jn),eo=a(848),to=a.n(eo),ao=a(1530),no=a(1532),oo=a(1528),ro=a(1529),lo=a(1531),io=a(1527),so=a(556),co=a(840),mo=a.n(co),uo=a(1626);const po=Object(k.a)(e=>({on:{color:Pt.a[600],fontSize:"20px"},off:{color:so.a[600],fontSize:"20px"},pointer:{cursor:"pointer"}}));function go(e){let{rating:t}=e;const a=null===t?0:Math.trunc(t);return o.a.createElement(uo.a,{defaultValue:a,max:3,readOnly:!0})}function bo(e){const{loading:t,attendants:a}=e,n=po();return t?o.a.createElement(Ta.a,{variant:"rect",height:150}):o.a.createElement(ro.a,{component:xn.a},o.a.createElement(ao.a,null,o.a.createElement(lo.a,null,o.a.createElement(io.a,null,o.a.createElement(oo.a,null,Le.a.t("dashboard.onlineTable.name")),o.a.createElement(oo.a,{align:"center"},Le.a.t("dashboard.onlineTable.ratings")),o.a.createElement(oo.a,{align:"center"},Le.a.t("dashboard.onlineTable.avgSupportTime")),o.a.createElement(oo.a,{align:"center"},Le.a.t("dashboard.onlineTable.status")))),o.a.createElement(no.a,null,a.map((e,t)=>{return o.a.createElement(io.a,{key:t},o.a.createElement(oo.a,null,e.name),o.a.createElement(oo.a,{align:"center",title:Le.a.t("dashboard.onlineTable.ratingLabel"),className:n.pointer},o.a.createElement(go,{rating:e.rating})),o.a.createElement(oo.a,{align:"center"},(a=e.avgSupportTime,O()().startOf("day").add(a,"minutes").format("HH[h] mm[m]"))),o.a.createElement(oo.a,{align:"center"},e.online?o.a.createElement(Zn.a,{className:n.on}):o.a.createElement(mo.a,{className:n.off})));var a}))))}var Eo=()=>({find:async e=>{const{data:t}=await Ge.request({url:"/dashboard",method:"GET",params:e});return t}});var fo=e=>{let{searchParam:t,pageNumber:a,date:o,dateStart:r,dateEnd:l}=e;const[i,s]=Object(n.useState)(!0),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)([]),[p,g]=Object(n.useState)(0);return Object(n.useEffect)(()=>{s(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ge.get("/contacts",{params:{searchParam:t,pageNumber:a,date:o,dateStart:r,dateEnd:l}});u(e.contacts),d(e.hasMore),g(e.count),s(!1)}catch(e){s(!1),He(e)}})()},500);return()=>clearTimeout(e)},[t,a,o,r,l]),{contacts:m,loading:i,hasMore:c,count:p}},Ao=a(67),ho=a(528),yo=a(911),vo=a(1594),xo=a(351),Co=a(842),wo=a(1591),So=a(1599),Oo=a(1608),ko=a(1611);a(769);Object(k.a)(e=>({container:{paddingTop:e.spacing(1),paddingBottom:e.padding,paddingLeft:e.spacing(1),paddingRight:e.spacing(2)}}));Ao.f.register(Ao.e,Ao.j,Ao.c,Ao.p,Ao.q,Ao.h,yo.a);const To={responsive:!0,plugins:{legend:{position:"top",display:!1},title:{display:!0,text:Le.a.t("dashboard.charts.user.label"),position:"left"},datalabels:{display:!0,anchor:"start",offset:-30,align:"start",color:"#fff",textStrokeColor:"#000",textStrokeWidth:2,font:{size:20,weight:"bold"}}}},jo=()=>{const[e,t]=Object(n.useState)(new Date),[a,r]=Object(n.useState)(new Date),[l,i]=Object(n.useState)({data:[]}),s=localStorage.getItem("companyId");Object(n.useEffect)(()=>{d()},[]);const c={labels:l&&(null===l||void 0===l?void 0:l.data.length)>0&&(null===l||void 0===l?void 0:l.data.map(e=>e.nome)),datasets:[{data:(null===l||void 0===l?void 0:l.data.length)>0&&(null===l||void 0===l?void 0:l.data.map((e,t)=>e.quantidade)),backgroundColor:"#2DDD7F"}]},d=async()=>{try{const{data:t}=await Ge.get("/dashboard/ticketsUsers?initialDate=".concat(Object(Ot.a)(e,"yyyy-MM-dd"),"&finalDate=").concat(Object(Ot.a)(a,"yyyy-MM-dd"),"&companyId=").concat(s));i(t)}catch(t){C.b.error(Le.a.t("dashboard.toasts.userChartError"))}};return o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},Le.a.t("dashboard.charts.user.title")),o.a.createElement(So.a,{direction:"row",spacing:2,alignItems:"center",sx:{my:2}},o.a.createElement(Co.a,{dateAdapter:vo.a,adapterLocale:xo.a},o.a.createElement(wo.a,{value:e,onChange:e=>{t(e)},label:Le.a.t("dashboard.charts.user.start"),renderInput:e=>o.a.createElement(Oo.a,Object.assign({fullWidth:!0},e,{sx:{width:"20ch"}}))})),o.a.createElement(Co.a,{dateAdapter:vo.a,adapterLocale:xo.a},o.a.createElement(wo.a,{value:a,onChange:e=>{r(e)},label:Le.a.t("dashboard.charts.user.end"),renderInput:e=>o.a.createElement(Oo.a,Object.assign({fullWidth:!0},e,{sx:{width:"20ch"}}))})),o.a.createElement(ko.a,{className:"buttonHover",onClick:d,variant:"contained"},Le.a.t("dashboard.charts.user.filter"))),o.a.createElement(ho.a,{options:To,data:c,style:{maxWidth:"100%",maxHeight:"280px"}}))};Ao.f.register(Ao.e,Ao.j,Ao.c,Ao.p,Ao.q,Ao.h);const Io={responsive:!0,plugins:{legend:{position:"top",display:!1},title:{display:!0,text:Le.a.t("dashboard.charts.date.label"),position:"left"},datalabels:{display:!0,anchor:"start",offset:-30,align:"start",color:"#fff",textStrokeColor:"#000",textStrokeWidth:2,font:{size:20,weight:"bold"}}}},No=()=>{const[e,t]=Object(n.useState)(new Date),[a,r]=Object(n.useState)(new Date),[l,i]=Object(n.useState)({data:[],count:0}),s=localStorage.getItem("companyId");Object(n.useEffect)(()=>{d()},[]);const c={labels:l&&(null===l||void 0===l?void 0:l.data.length)>0&&(null===l||void 0===l?void 0:l.data.map(e=>e.hasOwnProperty("horario")?"Das ".concat(e.horario,":00 as ").concat(e.horario,":59"):e.data)),datasets:[{data:(null===l||void 0===l?void 0:l.data.length)>0&&(null===l||void 0===l?void 0:l.data.map((e,t)=>e.total)),backgroundColor:"#2DDD7F"}]},d=async()=>{try{const{data:t}=await Ge.get("/dashboard/ticketsDay?initialDate=".concat(Object(Ot.a)(e,"yyyy-MM-dd"),"&finalDate=").concat(Object(Ot.a)(a,"yyyy-MM-dd"),"&companyId=").concat(s));i(t)}catch(t){C.b.error(Le.a.t("dashboard.toasts.dateChartError"))}};return o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},Le.a.t("dashboard.charts.date.title")," (",null===l||void 0===l?void 0:l.count,")"),o.a.createElement(So.a,{direction:"row",spacing:2,alignItems:"center",sx:{my:2}},o.a.createElement(Co.a,{dateAdapter:vo.a,adapterLocale:xo.a},o.a.createElement(wo.a,{value:e,onChange:e=>{t(e)},label:Le.a.t("dashboard.charts.date.start"),renderInput:e=>o.a.createElement(Oo.a,Object.assign({fullWidth:!0},e,{sx:{width:"20ch"}}))})),o.a.createElement(Co.a,{dateAdapter:vo.a,adapterLocale:xo.a},o.a.createElement(wo.a,{value:a,onChange:e=>{r(e)},label:Le.a.t("dashboard.charts.date.end"),renderInput:e=>o.a.createElement(Oo.a,Object.assign({fullWidth:!0},e,{sx:{width:"20ch"}}))})),o.a.createElement(ko.a,{className:"buttonHover",onClick:d,variant:"contained"},Le.a.t("dashboard.charts.date.filter"))),o.a.createElement(ho.a,{options:Io,data:c,style:{maxWidth:"100%",maxHeight:"280px"}}))},Mo=Object(k.a)(e=>({container:{paddingTop:e.spacing(1),paddingBottom:e.padding,paddingLeft:e.spacing(1),paddingRight:e.spacing(2)},fixedHeightPaper:{padding:e.spacing(2),display:"flex",flexDirection:"column",height:240,overflowY:"auto",...e.scrollbarStyles},cardAvatar:{fontSize:"55px",color:Rt.a[500],backgroundColor:"#ffffff",width:e.spacing(7),height:e.spacing(7)},cardTitle:{fontSize:"18px",color:Dt.a[700]},cardSubtitle:{color:Rt.a[600],fontSize:"14px"},alignRight:{textAlign:"right"},fullWidth:{width:"100%"},selectContainer:{width:"100%",textAlign:"left"},iframeDashboard:{width:"100%",height:"calc(100vh - 64px)",border:"none"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},fixedHeightPaper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:240},customFixedHeightPaper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:120},customFixedHeightPaperLg:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"100%"},card1:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"100%",backgroundColor:"dark"===e.palette.type?e.palette.boxticket.main:e.palette.primary.main,color:"#eee"},card2:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"100%",backgroundColor:"dark"===e.palette.type?e.palette.boxticket.main:e.palette.primary.main,color:"#eee"},card3:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"100%",backgroundColor:"dark"===e.palette.type?e.palette.boxticket.main:e.palette.primary.main,color:"#eee"},card4:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"100%",backgroundColor:"dark"===e.palette.type?e.palette.boxticket.main:e.palette.primary.main,color:"#eee"},card5:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"100%",backgroundColor:"dark"===e.palette.type?e.palette.boxticket.main:e.palette.primary.main,color:"#eee"},card6:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"100%",backgroundColor:"dark"===e.palette.type?e.palette.boxticket.main:e.palette.primary.main,color:"#eee"},card7:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"100%",backgroundColor:"dark"===e.palette.type?e.palette.boxticket.main:e.palette.primary.main,color:"#eee"},card8:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"100%",backgroundColor:"dark"===e.palette.type?e.palette.boxticket.main:e.palette.primary.main,color:"#eee"},card9:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"100%",backgroundColor:"dark"===e.palette.type?e.palette.boxticket.main:e.palette.primary.main,color:"#eee"},fixedHeightPaper2:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}));var Po=()=>{const e=Mo(),[t,a]=Object(n.useState)({}),[r,l]=Object(n.useState)([]),[i,s]=Object(n.useState)(0),[c,d]=Object(n.useState)(1),[m,u]=Object(n.useState)(O()("1","D").format("YYYY-MM-DD")),[p,g]=Object(n.useState)(O()().format("YYYY-MM-DD")),[b,E]=Object(n.useState)(!1),{find:f}=Eo();async function A(){E(!0);let e={};if(i>0&&(e={days:i}),!Object(ze.isEmpty)(m)&&O()(m).isValid()&&(e={...e,date_from:O()(m).format("YYYY-MM-DD")}),!Object(ze.isEmpty)(p)&&O()(p).isValid()&&(e={...e,date_to:O()(p).format("YYYY-MM-DD")}),0===Object.keys(e).length)return C.b.error(Le.a.t("dashboard.toasts.selectFilterError")),void E(!1);const t=await f(e);a(t.counters),Object(ze.isArray)(t.attendants)?l(t.attendants):l([]),E(!1)}function h(e){return O()().startOf("day").add(e,"minutes").format("HH[h] mm[m]")}Object(n.useEffect)(()=>{setTimeout(()=>{!async function(){await A()}()},1e3)},[]);return o.a.createElement("div",null,o.a.createElement(Hn.a,{maxWidth:"lg",className:e.container},o.a.createElement(_a.a,{container:!0,spacing:3,justifyContent:"flex-end"},o.a.createElement(_a.a,{item:!0,xs:12,sm:6,md:4},o.a.createElement(xn.a,{className:e.card1,style:{overflow:"hidden"},elevation:4},o.a.createElement(_a.a,{container:!0,spacing:3},o.a.createElement(_a.a,{item:!0,xs:8},o.a.createElement(D.a,{component:"h3",variant:"h6",paragraph:!0},Le.a.t("dashboard.counters.inTalk")),o.a.createElement(_a.a,{item:!0},o.a.createElement(D.a,{component:"h1",variant:"h4"},t.supportHappening))),o.a.createElement(_a.a,{item:!0,xs:2},o.a.createElement(Qn.a,{style:{fontSize:100,color:"#FFFFFF"}}))))),o.a.createElement(_a.a,{item:!0,xs:12,sm:6,md:4},o.a.createElement(xn.a,{className:e.card2,style:{overflow:"hidden"},elevation:6},o.a.createElement(_a.a,{container:!0,spacing:3},o.a.createElement(_a.a,{item:!0,xs:8},o.a.createElement(D.a,{component:"h3",variant:"h6",paragraph:!0},Le.a.t("dashboard.counters.waiting")),o.a.createElement(_a.a,{item:!0},o.a.createElement(D.a,{component:"h1",variant:"h4"},t.supportPending))),o.a.createElement(_a.a,{item:!0,xs:4},o.a.createElement(Xn.a,{style:{fontSize:100,color:"#FFFFFF"}}))))),o.a.createElement(_a.a,{item:!0,xs:12,sm:6,md:4},o.a.createElement(xn.a,{className:e.card3,style:{overflow:"hidden"},elevation:6},o.a.createElement(_a.a,{container:!0,spacing:3},o.a.createElement(_a.a,{item:!0,xs:8},o.a.createElement(D.a,{component:"h3",variant:"h6",paragraph:!0},Le.a.t("dashboard.counters.finished")),o.a.createElement(_a.a,{item:!0},o.a.createElement(D.a,{component:"h1",variant:"h4"},t.supportFinished))),o.a.createElement(_a.a,{item:!0,xs:4},o.a.createElement(Zn.a,{style:{fontSize:100,color:"#FFFFFF"}}))))),o.a.createElement(_a.a,{item:!0,xs:12,sm:6,md:4},o.a.createElement(xn.a,{className:e.card4,style:{overflow:"hidden"},elevation:6},o.a.createElement(_a.a,{container:!0,spacing:3},o.a.createElement(_a.a,{item:!0,xs:8},o.a.createElement(D.a,{component:"h3",variant:"h6",paragraph:!0},Le.a.t("dashboard.counters.newContacts")),o.a.createElement(_a.a,{item:!0},o.a.createElement(D.a,{component:"h1",variant:"h4"},(e=>{let t={};e&&(t={});const{count:a}=fo(t);return a})(!0)))),o.a.createElement(_a.a,{item:!0,xs:4},o.a.createElement(Gn.a,{style:{fontSize:100,color:"#FFFFFF"}}))))),o.a.createElement(_a.a,{item:!0,xs:12,sm:6,md:4},o.a.createElement(xn.a,{className:e.card8,style:{overflow:"hidden"},elevation:6},o.a.createElement(_a.a,{container:!0,spacing:3},o.a.createElement(_a.a,{item:!0,xs:8},o.a.createElement(D.a,{component:"h3",variant:"h6",paragraph:!0},Le.a.t("dashboard.counters.averageTalkTime")),o.a.createElement(_a.a,{item:!0},o.a.createElement(D.a,{component:"h1",variant:"h4"},h(t.avgSupportTime)))),o.a.createElement(_a.a,{item:!0,xs:4},o.a.createElement($n.a,{style:{fontSize:100,color:"#FFFFFF"}}))))),o.a.createElement(_a.a,{item:!0,xs:12,sm:6,md:4},o.a.createElement(xn.a,{className:e.card9,style:{overflow:"hidden"},elevation:6},o.a.createElement(_a.a,{container:!0,spacing:3},o.a.createElement(_a.a,{item:!0,xs:8},o.a.createElement(D.a,{component:"h3",variant:"h6",paragraph:!0},Le.a.t("dashboard.counters.averageWaitTime")),o.a.createElement(_a.a,{item:!0},o.a.createElement(D.a,{component:"h1",variant:"h4"},h(t.avgWaitTime)))),o.a.createElement(_a.a,{item:!0,xs:4},o.a.createElement(to.a,{style:{fontSize:100,color:"#FFFFFF"}}))))),o.a.createElement(_a.a,{item:!0,xs:12,sm:6,md:4},o.a.createElement(on.a,{className:e.selectContainer},o.a.createElement(nn.a,{id:"period-selector-label"},Le.a.t("dashboard.filters.filterType.title")),o.a.createElement(an.a,{labelId:"period-selector-label",value:c,onChange:e=>async function(e){d(e),1===e?s(0):(u(""),g(""))}(e.target.value)},o.a.createElement(F.a,{value:1},Le.a.t("dashboard.filters.filterType.options.perDate")),o.a.createElement(F.a,{value:2},Le.a.t("dashboard.filters.filterType.options.perPeriod"))),o.a.createElement(Un.a,null,Le.a.t("dashboard.filters.filterType.helper")))),1===c?o.a.createElement(o.a.Fragment,null,o.a.createElement(_a.a,{item:!0,xs:12,sm:6,md:4},o.a.createElement(it.a,{label:Le.a.t("dashboard.filters.initialDate"),type:"date",value:m,onChange:e=>u(e.target.value),className:e.fullWidth,InputLabelProps:{shrink:!0}})),o.a.createElement(_a.a,{item:!0,xs:12,sm:6,md:4},o.a.createElement(it.a,{label:Le.a.t("dashboard.filters.finalDate"),type:"date",value:p,onChange:e=>g(e.target.value),className:e.fullWidth,InputLabelProps:{shrink:!0}}))):o.a.createElement(_a.a,{item:!0,xs:12,sm:6,md:4},o.a.createElement(on.a,{className:e.selectContainer},o.a.createElement(nn.a,{id:"period-selector-label"},Le.a.t("dashboard.periodSelect.title")),o.a.createElement(an.a,{labelId:"period-selector-label",id:"period-selector",value:i,onChange:e=>async function(e){s(e)}(e.target.value)},o.a.createElement(F.a,{value:0},Le.a.t("dashboard.periodSelect.options.none")),o.a.createElement(F.a,{value:3},Le.a.t("dashboard.periodSelect.options.last3")),o.a.createElement(F.a,{value:7},Le.a.t("dashboard.periodSelect.options.last7")),o.a.createElement(F.a,{value:15},Le.a.t("dashboard.periodSelect.options.last15")),o.a.createElement(F.a,{value:30},Le.a.t("dashboard.periodSelect.options.last30")),o.a.createElement(F.a,{value:60},Le.a.t("dashboard.periodSelect.options.last60")),o.a.createElement(F.a,{value:90},Le.a.t("dashboard.periodSelect.options.last90"))),o.a.createElement(Un.a,null,Le.a.t("dashboard.periodSelect.helper")))),o.a.createElement(_a.a,{item:!0,xs:12,className:e.alignRight},o.a.createElement(zt,{loading:b,onClick:()=>A(),variant:"contained",color:"primary"},Le.a.t("dashboard.buttons.filter"))),o.a.createElement(_a.a,{item:!0,xs:12},r.length?o.a.createElement(bo,{attendants:r,loading:b}):null),o.a.createElement(_a.a,{item:!0,xs:12},o.a.createElement(xn.a,{className:e.fixedHeightPaper2},o.a.createElement(jo,null))),o.a.createElement(_a.a,{item:!0,xs:12},o.a.createElement(xn.a,{className:e.fixedHeightPaper2},o.a.createElement(No,null))))))},Ro=a(1549),Do=a(77),qo=a.n(Do),Fo=a(928),Lo=a(1593),Wo=a(1546),Bo=a(849),zo=a.n(Bo),Ho=a(850),Uo=a.n(Ho),Vo=a(1547),Qo=a(1545),Ko=a(1615),Go=a(47),Yo=a.n(Go),Xo=a(529),_o=a.n(Xo);const Zo=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),Jo=en.b().shape({name:en.d().min(2,Le.a.t("contactModal.formErrors.name.short")).max(50,Le.a.t("contactModal.formErrors.name.long")).required(Le.a.t("contactModal.formErrors.name.required")),number:en.d().min(8,Le.a.t("contactModal.formErrors.phone.short")).max(50,Le.a.t("contactModal.formErrors.phone.long")),email:en.d().email(Le.a.t("contactModal.formErrors.email.invalid"))});var $o=e=>{let{open:t,onClose:a,contactId:r,initialValues:l,onSave:i}=e;const s=Zo(),c=Object(n.useRef)(!0),d={name:"",number:"",email:""},[m,u]=Object(n.useState)(d);Object(n.useEffect)(()=>()=>{c.current=!1},[]),Object(n.useEffect)(()=>{(async()=>{if(l&&u(e=>({...e,...l})),r)try{const{data:e}=await Ge.get("/contacts/".concat(r));c.current&&(console.log(e),u({...e,number:e.number}))}catch(e){He(e)}})()},[r,t,l]);const p=()=>{a(),u(d)};return o.a.createElement("div",{className:s.root},o.a.createElement(ta.a,{open:t,onClose:p,maxWidth:"lg",scroll:"paper"},o.a.createElement(pa.a,{id:"form-dialog-title"},"".concat(r?Le.a.t("contactModal.title.edit"):Le.a.t("contactModal.title.add"))),o.a.createElement(tn.e,{initialValues:m,enableReinitialize:!0,validationSchema:Jo,onSubmit:(e,t)=>{setTimeout(()=>{(async e=>{try{if(r)await Ge.put("/contacts/".concat(r),e),p();else{const{data:t}=await Ge.post("/contacts",e);i&&i(t),p()}C.b.success(Le.a.t("contactModal.success"))}catch(t){He(t)}})(e),t.setSubmitting(!1)},400)}},e=>{let{values:t,errors:a,touched:n,isSubmitting:l}=e;return o.a.createElement(tn.d,null,o.a.createElement(ua.a,{dividers:!0},o.a.createElement(D.a,{variant:"subtitle1",gutterBottom:!0},Le.a.t("contactModal.form.mainInfo")),o.a.createElement(tn.b,{as:it.a,label:Le.a.t("contactModal.form.name"),name:"name",autoFocus:!0,error:n.name&&Boolean(a.name),helperText:n.name&&a.name,variant:"outlined",margin:"dense",className:s.textField}),o.a.createElement(tn.b,{as:it.a,name:"number",label:Le.a.t("contactModal.form.number"),error:n.number&&Boolean(a.number),helperText:n.number&&a.number,placeholder:"",variant:"outlined",margin:"dense"}),o.a.createElement("div",null,o.a.createElement(tn.b,{as:it.a,label:Le.a.t("contactModal.form.email"),name:"email",error:n.email&&Boolean(a.email),helperText:n.email&&a.email,placeholder:"Email address",fullWidth:!0,margin:"dense",variant:"outlined"})),o.a.createElement(D.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},Le.a.t("contactModal.form.whatsapp")," ",(null===m||void 0===m?void 0:m.whatsapp)?null===m||void 0===m?void 0:m.whatsapp.name:""),o.a.createElement(D.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},Le.a.t("contactModal.form.extraInfo")),o.a.createElement(tn.c,{name:"extraInfo"},e=>{let{push:a,remove:n}=e;return o.a.createElement(o.a.Fragment,null,t.extraInfo&&t.extraInfo.length>0&&t.extraInfo.map((e,t)=>o.a.createElement("div",{className:s.extraAttr,key:"".concat(t,"-info")},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("contactModal.form.extraName"),name:"extraInfo[".concat(t,"].name"),variant:"outlined",margin:"dense",className:s.textField}),o.a.createElement(tn.b,{as:it.a,label:Le.a.t("contactModal.form.extraValue"),name:"extraInfo[".concat(t,"].value"),variant:"outlined",margin:"dense",className:s.textField}),o.a.createElement(I.a,{size:"small",onClick:()=>n(t)},o.a.createElement(Yo.a,null)))),o.a.createElement("div",{className:s.extraAttr},o.a.createElement(st.a,{style:{flex:1,marginTop:8},variant:"outlined",color:"primary",onClick:()=>a({name:"",value:""})},"+ ".concat(Le.a.t("contactModal.buttons.addExtraInfo")))))})),o.a.createElement(aa.a,null,o.a.createElement(st.a,{onClick:p,color:"secondary",disabled:l,variant:"outlined"},Le.a.t("contactModal.buttons.cancel")),o.a.createElement(st.a,{type:"submit",color:"primary",disabled:l,variant:"contained",className:s.btnWrapper},"".concat(r?Le.a.t("contactModal.buttons.okEdit"):Le.a.t("contactModal.buttons.okAdd")),l&&o.a.createElement(Wt.a,{size:24,className:s.buttonProgress}))))})))};const er=Object(k.a)(e=>({online:{fontSize:11,color:"#25d366"},offline:{fontSize:11,color:"#e1306c"}})),tr=Object(Qo.a)({trim:!0});var ar=e=>{let{modalOpen:t,onClose:a,initialContact:r}=e;const l=er(),[i,s]=Object(n.useState)([]),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)(""),[p,g]=Object(n.useState)(null),[b,E]=Object(n.useState)(""),[f,A]=Object(n.useState)(""),[h,y]=Object(n.useState)({}),[v,x]=Object(n.useState)([]),[w,S]=Object(n.useState)([]),[O,k]=Object(n.useState)(!1),{user:T}=Object(n.useContext)($e),{companyId:j,whatsappId:I}=T,[N,M]=Object(n.useState)(!1),[P,R]=Object(n.useState)(""),[q,L]=Object(n.useState)("");Object(n.useEffect)(()=>{void 0!==(null===r||void 0===r?void 0:r.id)&&(s([r]),g(r))},[r]),Object(n.useEffect)(()=>{d(!0);const e=setTimeout(()=>{null!==I&&void 0!==I&&A(I);(async()=>{if("admin"!==T.profile)return S(T.queues),void(1===T.queues.length&&E(T.queues[0].id));try{const{data:e}=await Ge.get("/queue");S(e),1===e.length&&E(e[0].id)}catch(e){He(Le.a.t("newTicketModal.searchQueueError"))}})(),(async()=>{Ge.get("/whatsapp",{params:{companyId:j,session:0}}).then(e=>{let{data:t}=e;return x(t)})})(),d(!1)},500);return()=>clearTimeout(e)},[]),Object(n.useEffect)(()=>{if(!t||m.length<3)return void d(!1);d(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ge.get("contacts",{params:{searchParam:m}});s(e.contacts),d(!1)}catch(e){d(!1),He(e)}})()},500);return()=>clearTimeout(e)},[m,t]);const W=()=>{a(),u(""),M(!1),R(""),L(""),g(null)},B=async e=>{if(e)if(""!==b||"admin"===T.profile){d(!0);try{const t=""!==b?b:null,n=""!==f?f:null,{data:o}=await Ge.post("/tickets",{contactId:e,queueId:t,whatsappId:n,userId:T.id,status:"open"});a(o)}catch(t){console.log(t);const e=t.response.data.error;console.log(e),"ERR_OTHER_OPEN_TICKET"===e&&He(t),"ERR_OTHER_OPEN_TICKET"!==e&&e.userId!==(null===T||void 0===T?void 0:T.id)?(M(!0),R(e.user.name),L(e.queue.name)):(M(!1),R(""),L(""),d(!1),a(e))}d(!1)}else C.b.error(Le.a.t("newTicketModal.selectQueue"))},z=(e,t)=>{const a=tr(e,t);return""!==t.inputValue&&!c&&m.length>=3&&a.push({name:"".concat(t.inputValue)}),a},H=e=>e.number?o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{component:"span",style:{fontSize:14,marginLeft:"10px",display:"inline-flex",alignItems:"center",lineHeight:"2"}},e.name," - ",e.number)):"".concat(Le.a.t("newTicketModal.add")," ").concat(e.name),U=e=>e.number?"".concat(e.name," - ").concat(e.number):"".concat(e.name);return o.a.createElement(o.a.Fragment,null,o.a.createElement($o,{open:O,initialValues:h,onClose:()=>{k(!1)},onSave:e=>{B(e.id)}}),o.a.createElement(ta.a,{open:t,onClose:W},o.a.createElement(pa.a,{id:"form-dialog-title"},Le.a.t("newTicketModal.title")),o.a.createElement(ua.a,{dividers:!0},o.a.createElement(_a.a,{style:{width:300},container:!0,spacing:2},void 0===r||void 0===r.id?o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(Ko.a,{fullWidth:!0,options:i,loading:c,clearOnBlur:!0,autoHighlight:!0,freeSolo:!0,clearOnEscape:!0,getOptionLabel:U,renderOption:H,filterOptions:z,onChange:(e,t)=>((e,t)=>{(null===t||void 0===t?void 0:t.number)?g(t):(null===t||void 0===t?void 0:t.name)&&(y({name:t.name}),k(!0))})(0,t),renderInput:e=>o.a.createElement(it.a,Object.assign({},e,{label:Le.a.t("newTicketModal.fieldLabel"),variant:"outlined",autoFocus:!0,onChange:e=>u(e.target.value),onKeyPress:e=>{!c&&p&&"Enter"===e.key&&B(p.id)},InputProps:{...e.InputProps,endAdornment:o.a.createElement(o.a.Fragment,null,c?o.a.createElement(Wt.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}}))})):null,o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(an.a,{required:!0,fullWidth:!0,displayEmpty:!0,variant:"outlined",value:b,onChange:e=>{E(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:()=>{if(""===b)return Le.a.t("newTicketModal.selectQueue");return w.find(e=>e.id===b).name}},(null===w||void 0===w?void 0:w.length)>0&&w.map((e,t)=>o.a.createElement(F.a,{dense:!0,key:t,value:e.id},o.a.createElement(Y.a,{primary:e.name}))))),o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(an.a,{required:!0,fullWidth:!0,displayEmpty:!0,variant:"outlined",value:f,onChange:e=>{A(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:()=>{if(""===f)return Le.a.t("newTicketModal.selectConection");return v.find(e=>e.id===f).name}},(null===v||void 0===v?void 0:v.length)>0&&v.map((e,t)=>o.a.createElement(F.a,{dense:!0,key:t,value:e.id},o.a.createElement(Y.a,{primary:o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{component:"span",style:{fontSize:14,marginLeft:"10px",display:"inline-flex",alignItems:"center",lineHeight:"2"}},e.name," \xa0 ",o.a.createElement("p",{className:"CONNECTED"===e.status?l.online:l.offline},"(",e.status,")")))}))))))),o.a.createElement(aa.a,null,o.a.createElement(st.a,{onClick:W,color:"secondary",disabled:c,variant:"outlined"},Le.a.t("newTicketModal.buttons.cancel")),o.a.createElement(zt,{variant:"contained",type:"button",disabled:!p,onClick:()=>B(p.id),color:"primary",loading:c},Le.a.t("newTicketModal.buttons.ok")))))};var nr=()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(K.a,{dense:!0},o.a.createElement(qt.a,null,o.a.createElement(Ta.a,{animation:"wave",variant:"circle",width:40,height:40})),o.a.createElement(Y.a,{primary:o.a.createElement(Ta.a,{animation:"wave",height:20,width:60}),secondary:o.a.createElement(Ta.a,{animation:"wave",height:20,width:90})})),o.a.createElement(N.a,{variant:"inset"}),o.a.createElement(K.a,{dense:!0},o.a.createElement(qt.a,null,o.a.createElement(Ta.a,{animation:"wave",variant:"circle",width:40,height:40})),o.a.createElement(Y.a,{primary:o.a.createElement(Ta.a,{animation:"wave",height:20,width:70}),secondary:o.a.createElement(Ta.a,{animation:"wave",height:20,width:120})})),o.a.createElement(N.a,{variant:"inset"}),o.a.createElement(K.a,{dense:!0},o.a.createElement(qt.a,null,o.a.createElement(Ta.a,{animation:"wave",variant:"circle",width:40,height:40})),o.a.createElement(Y.a,{primary:o.a.createElement(Ta.a,{animation:"wave",height:20,width:60}),secondary:o.a.createElement(Ta.a,{animation:"wave",height:20,width:90})})),o.a.createElement(N.a,{variant:"inset"}));const or=Object(k.a)(e=>({ticketsListWrapper:{position:"relative",display:"flex",height:"100%",flexDirection:"column",overflow:"hidden",borderTopRightRadius:0,borderBottomRightRadius:0},ticketsList:{flex:1,maxHeight:"100%",overflowY:"scroll",...e.scrollbarStyles,borderTop:"2px solid rgba(0, 0, 0, 0.12)"},ticketsListHeader:{color:"rgb(67, 83, 105)",zIndex:2,backgroundColor:"white",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",display:"flex",alignItems:"center",justifyContent:"space-between"},ticketsCount:{fontWeight:"normal",color:"rgb(104, 121, 146)",marginLeft:"8px",fontSize:"14px"},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"}})),rr=(e,t)=>{if("LOAD_TICKETS"===t.type){return t.payload.forEach(t=>{const a=e.findIndex(e=>e.id===t.id);-1!==a?(e[a]=t,t.unreadMessages>0&&e.unshift(e.splice(a,1)[0])):e.push(t)}),[...e]}if("RESET_UNREAD"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a);return-1!==n&&(e[n].unreadMessages=0),[...e]}if("UPDATE_TICKET"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a.id);return-1!==n?e[n]=a:e.unshift(a),[...e]}if("UPDATE_TICKET_UNREAD_MESSAGES"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a.id);return-1!==n?(e[n]=a,e.unshift(e.splice(n,1)[0])):e.unshift(a),[...e]}if("UPDATE_TICKET_CONTACT"===t.type){const a=t.payload,n=e.findIndex(e=>e.contactId===a.id);return-1!==n&&(e[n].contact=a),[...e]}if("DELETE_TICKET"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===t.type)return[]};var lr=e=>{const{status:t,searchParam:a,tags:r,users:l,showAll:i,selectedQueueIds:s,updateCount:c,style:d}=e,m=or(),[u,p]=Object(n.useState)(1),[g,b]=Object(n.useReducer)(rr,[]),{user:E}=Object(n.useContext)($e),{profile:f,queues:A}=E,h=Object(n.useContext)(y);Object(n.useEffect)(()=>{b({type:"RESET"}),p(1)},[t,a,b,i,r,l,s]);const{tickets:v,hasMore:x,loading:C}=za({pageNumber:u,searchParam:a,status:t,showAll:i,tags:JSON.stringify(r),users:JSON.stringify(l),queueIds:JSON.stringify(s)});Object(n.useEffect)(()=>{const e=A.map(e=>e.id),t=v.filter(t=>e.indexOf(t.queueId)>-1);b("user"===f?{type:"LOAD_TICKETS",payload:t}:{type:"LOAD_TICKETS",payload:v})},[v,t,a,A,f]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),a=h.getSocket(e),n=e=>(!e.userId||e.userId===(null===E||void 0===E?void 0:E.id)||i)&&(!e.queueId||s.indexOf(e.queueId)>-1);return a.on("ready",()=>{t?a.emit("joinTickets",t):a.emit("joinNotification")}),a.on("company-".concat(e,"-ticket"),e=>{var a;"updateUnread"===e.action&&b({type:"RESET_UNREAD",payload:e.ticketId}),"update"===e.action&&n(e.ticket)&&e.ticket.status===t&&b({type:"UPDATE_TICKET",payload:e.ticket}),"update"===e.action&&((a=e.ticket).queueId&&-1===s.indexOf(a.queueId))&&b({type:"DELETE_TICKET",payload:e.ticket.id}),"delete"===e.action&&b({type:"DELETE_TICKET",payload:e.ticketId})}),a.on("company-".concat(e,"-appMessage"),e=>{var a,o;const r=A.map(e=>e.id);("user"!==f||-1!==r.indexOf(null===(a=e.ticket)||void 0===a||null===(o=a.queue)||void 0===o?void 0:o.id)&&null!==e.ticket.queue)&&("create"!==e.action||!n(e.ticket)||void 0!==t&&e.ticket.status!==t||b({type:"UPDATE_TICKET_UNREAD_MESSAGES",payload:e.ticket}))}),a.on("company-".concat(e,"-contact"),e=>{"update"===e.action&&b({type:"UPDATE_TICKET_CONTACT",payload:e.contact})}),()=>{a.disconnect()}},[t,i,E,s,r,l,f,A,h]),Object(n.useEffect)(()=>{"function"===typeof c&&c(g.length)},[g]);return o.a.createElement(xn.a,{className:m.ticketsListWrapper,style:d},o.a.createElement(xn.a,{square:!0,name:"closed",elevation:0,className:m.ticketsList,onScroll:e=>{if(!x||C)return;const{scrollTop:t,scrollHeight:a,clientHeight:n}=e.currentTarget;a-(t+100)<n&&p(e=>e+1)}},o.a.createElement(M.a,{style:{paddingTop:0}},0!==g.length||C?o.a.createElement(o.a.Fragment,null,g.map(e=>o.a.createElement(Ba,{ticket:e,key:e.id}))):o.a.createElement("div",{className:m.noTicketsDiv},o.a.createElement("span",{className:m.noTicketsTitle},Le.a.t("ticketsList.noTicketsTitle")),o.a.createElement("p",{className:m.noTicketsText},Le.a.t("ticketsList.noTicketsMessage"))),C&&o.a.createElement(nr,null))))};var ir=e=>{let{children:t,value:a,name:n,...r}=e;return a===n?o.a.createElement("div",Object.assign({role:"tabpanel",id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),o.a.createElement(o.a.Fragment,null,t)):null},sr=a(1606);var cr=e=>{let{userQueues:t,selectedQueueIds:a=[],onChange:n}=e;return o.a.createElement("div",{style:{width:120,marginTop:-4}},o.a.createElement(on.a,{fullWidth:!0,margin:"dense"},o.a.createElement(an.a,{multiple:!0,displayEmpty:!0,variant:"outlined",value:a,onChange:e=>{n(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:()=>Le.a.t("ticketsQueueSelect.placeholder")},(null===t||void 0===t?void 0:t.length)>0&&t.map(e=>o.a.createElement(F.a,{dense:!0,key:e.id,value:e.id},o.a.createElement(sr.a,{style:{color:e.color},size:"small",color:"primary",checked:a.indexOf(e.id)>-1}),o.a.createElement(Y.a,{primary:e.name}))))))};function dr(e){let{onFiltered:t}=e;const[a,r]=Object(n.useState)([]),[l,i]=Object(n.useState)([]);Object(n.useEffect)(()=>{!async function(){await s()}()},[]);const s=async()=>{try{const{data:e}=await Ge.get("/tags/list");r(e)}catch(e){He(e)}};return o.a.createElement(Lt.a,{style:{padding:10}},o.a.createElement(Ko.a,{multiple:!0,size:"small",options:a,value:l,onChange:(e,a,n)=>(async e=>{i(e),t(e)})(a),getOptionLabel:e=>e.name,renderTags:(e,t)=>e.map((e,a)=>o.a.createElement(rn.a,Object.assign({variant:"outlined",style:{backgroundColor:e.color||"#eee",textShadow:"1px 1px 1px #000",color:"white"},label:e.name},t({index:a}),{size:"small"}))),renderInput:e=>o.a.createElement(it.a,Object.assign({},e,{variant:"outlined",placeholder:Le.a.t("tickets.filters.tags")}))}))}function mr(e){let{onFiltered:t,initialUsers:a}=e;const[r,l]=Object(n.useState)([]),[i,s]=Object(n.useState)([]);Object(n.useEffect)(()=>{!async function(){await c()}()},[]),Object(n.useEffect)(()=>{s([]),Array.isArray(a)&&Array.isArray(r)&&r.length>0&&d(a)},[a,r]);const c=async()=>{try{const{data:e}=await Ge.get("/users/list"),t=e.map(e=>({id:e.id,name:e.name}));l(t)}catch(e){He(e)}},d=async e=>{s(e),t(e)};return o.a.createElement(Lt.a,{style:{padding:"0px 10px 10px"}},o.a.createElement(Ko.a,{multiple:!0,size:"small",options:r,value:i,onChange:(e,t,a)=>d(t),getOptionLabel:e=>e.name,getOptionSelected:(e,t)=>(null===e||void 0===e?void 0:e.id)===(null===t||void 0===t?void 0:t.id)||(null===e||void 0===e?void 0:e.name.toLowerCase())===(null===t||void 0===t?void 0:t.name.toLowerCase()),renderTags:(e,t)=>e.map((e,a)=>o.a.createElement(rn.a,Object.assign({variant:"outlined",style:{backgroundColor:"#bfbfbf",textShadow:"1px 1px 1px #000",color:"white"},label:e.name},t({index:a}),{size:"small"}))),renderInput:e=>o.a.createElement(it.a,Object.assign({},e,{variant:"outlined",placeholder:Le.a.t("tickets.filters.user")}))}))}const ur=Object(k.a)(e=>({ticketsWrapper:{position:"relative",display:"flex",height:"100%",flexDirection:"column",overflow:"hidden",borderTopRightRadius:0,borderBottomRightRadius:0,borderRadius:0},tabsHeader:{flex:"none",backgroundColor:e.palette.tabHeaderBackground},tabsInternal:{flex:"none",backgroundColor:e.palette.tabHeaderBackground},settingsIcon:{alignSelf:"center",marginLeft:"auto",padding:8},tab:{minWidth:120,width:120},internalTab:{minWidth:120,width:120,padding:5},ticketOptionsBox:{display:"flex",justifyContent:"space-between",alignItems:"center",background:e.palette.optionsBackground,padding:e.spacing(1)},ticketSearchLine:{padding:e.spacing(1)},serachInputWrapper:{flex:1,background:e.palette.total,display:"flex",borderRadius:40,padding:4,marginRight:e.spacing(1)},searchIcon:{color:"grey",marginLeft:6,marginRight:6,alignSelf:"center"},searchInput:{flex:1,border:"none",borderRadius:30},insiderTabPanel:{height:"100%",marginTop:"-72px",paddingTop:"72px"},insiderDoubleTabPanel:{display:"flex",flexDirection:"column",marginTop:"-72px",paddingTop:"72px",height:"100%"},labelContainer:{width:"auto",padding:0},iconLabelWrapper:{flexDirection:"row","& > *:first-child":{marginBottom:"3px !important",marginRight:16}},insiderTabLabel:{[e.breakpoints.down(1600)]:{display:"none"}},smallFormControl:{"& .MuiOutlinedInput-input":{padding:"12px 10px"},"& .MuiInputLabel-outlined":{marginTop:"-6px"}}}));var pr=()=>{const e=ur(),t=Object(x.useHistory)(),[a,r]=Object(n.useState)(""),[l,i]=Object(n.useState)("open"),[s,c]=Object(n.useState)("open"),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(!1),g=Object(n.useRef)(),{user:b}=Object(n.useContext)($e),{profile:E}=b,[f,A]=Object(n.useState)(0),[h,y]=Object(n.useState)(0),v=b.queues.map(e=>e.id),[C,w]=Object(n.useState)(v||[]),[S,O]=Object(n.useState)([]),[k,T]=Object(n.useState)([]);let j;Object(n.useEffect)(()=>{"ADMIN"===b.profile.toUpperCase()&&p(!0)},[]),Object(n.useEffect)(()=>{"search"===l&&g.current.focus()},[l]);const I=e=>{if(s!==e)return{width:0,height:0}};return o.a.createElement(xn.a,{elevation:0,variant:"outlined",className:e.ticketsWrapper},o.a.createElement(ar,{modalOpen:d,onClose:e=>{(e=>{m(!1),void 0!==e&&void 0!==e.uuid&&t.push("/tickets/".concat(e.uuid))})(e)}}),o.a.createElement(xn.a,{elevation:0,square:!0,className:e.tabsHeader},o.a.createElement(Lo.a,{value:l,onChange:(e,t)=>{i(t)},variant:"fullWidth",indicatorColor:"primary",textColor:"primary","aria-label":"icon label tabs example"},o.a.createElement(Wo.a,{value:"open",icon:o.a.createElement(zo.a,null),label:Le.a.t("tickets.tabs.open.title"),classes:{root:e.tab}}),o.a.createElement(Wo.a,{value:"closed",icon:o.a.createElement(Uo.a,null),label:Le.a.t("tickets.tabs.closed.title"),classes:{root:e.tab}}),o.a.createElement(Wo.a,{value:"search",icon:o.a.createElement(qo.a,null),label:Le.a.t("tickets.tabs.search.title"),classes:{root:e.tab}}))),o.a.createElement(xn.a,{square:!0,elevation:0,className:e.ticketOptionsBox},"search"===l?o.a.createElement("div",{className:e.serachInputWrapper},o.a.createElement(qo.a,{className:e.searchIcon}),o.a.createElement(Fo.a,{className:e.searchInput,inputRef:g,placeholder:Le.a.t("tickets.search.placeholder"),type:"search",onChange:e=>{const t=e.target.value.toLowerCase();if(clearTimeout(j),""===t)return r(t),void i("open");j=setTimeout(()=>{r(t)},500)}})):o.a.createElement(o.a.Fragment,null,o.a.createElement(st.a,{variant:"outlined",color:"primary",onClick:()=>m(!0)},Le.a.t("ticketsManager.buttons.newTicket")),o.a.createElement(at,{role:b.profile,perform:"tickets-manager:showall",yes:()=>o.a.createElement(qn.a,{label:Le.a.t("tickets.buttons.showAll"),labelPlacement:"start",control:o.a.createElement(Vo.a,{size:"small",checked:u,onChange:()=>p(e=>!e),name:"showAllTickets",color:"primary"})})})),o.a.createElement(cr,{style:{marginLeft:6},selectedQueueIds:C,userQueues:null===b||void 0===b?void 0:b.queues,onChange:e=>w(e)})),o.a.createElement(ir,{value:l,name:"open",className:e.ticketsWrapper},o.a.createElement(Lo.a,{value:s,onChange:(e,t)=>{c(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},o.a.createElement(Wo.a,{label:o.a.createElement(_.a,{className:e.badge,badgeContent:f,color:"primary"},Le.a.t("ticketsList.assignedHeader")),value:"open"}),o.a.createElement(Wo.a,{label:o.a.createElement(_.a,{className:e.badge,badgeContent:h,color:"secondary"},Le.a.t("ticketsList.pendingHeader")),value:"pending"})),o.a.createElement(xn.a,{className:e.ticketsWrapper},o.a.createElement(lr,{status:"open",showAll:u,selectedQueueIds:C,updateCount:e=>A(e),style:I("open")}),o.a.createElement(lr,{status:"pending",selectedQueueIds:C,updateCount:e=>y(e),style:I("pending")}))),o.a.createElement(ir,{value:l,name:"closed",className:e.ticketsWrapper},o.a.createElement(lr,{status:"closed",showAll:!0,selectedQueueIds:C})),o.a.createElement(ir,{value:l,name:"search",className:e.ticketsWrapper},o.a.createElement(dr,{onFiltered:e=>{const t=e.map(e=>e.id);O(t)}}),"admin"===E&&o.a.createElement(mr,{onFiltered:e=>{const t=e.map(e=>e.id);T(t)}}),o.a.createElement(lr,{searchParam:a,showAll:!0,tags:S,users:k,selectedQueueIds:C})))},gr=a(851),br=a.n(gr),Er=a(1548),fr=a(852),Ar=a.n(fr);var hr=e=>{let{classes:t}=e;return o.a.createElement("div",{className:t.content},o.a.createElement(xn.a,{square:!0,variant:"outlined",className:t.contactHeader},o.a.createElement(_a.a,{container:!0},o.a.createElement(_a.a,{item:!0},o.a.createElement(Ta.a,{animation:"wave",variant:"circle",width:60,height:60,className:t.contactAvatar})),o.a.createElement(_a.a,{item:!0},o.a.createElement(Ta.a,{animation:"wave",height:25,width:90}),o.a.createElement(Ta.a,{animation:"wave",height:25,width:80}),o.a.createElement(Ta.a,{animation:"wave",height:25,width:80})))),o.a.createElement(xn.a,{square:!0,className:t.contactDetails},o.a.createElement(D.a,{variant:"subtitle1"},Le.a.t("contactDrawer.extraInfo")),o.a.createElement(xn.a,{square:!0,variant:"outlined",className:t.contactExtraInfo},o.a.createElement(Ta.a,{animation:"wave",height:20,width:60}),o.a.createElement(Ta.a,{animation:"wave",height:20,width:160})),o.a.createElement(xn.a,{square:!0,variant:"outlined",className:t.contactExtraInfo},o.a.createElement(Ta.a,{animation:"wave",height:20,width:60}),o.a.createElement(Ta.a,{animation:"wave",height:20,width:160})),o.a.createElement(xn.a,{square:!0,variant:"outlined",className:t.contactExtraInfo},o.a.createElement(Ta.a,{animation:"wave",height:20,width:60}),o.a.createElement(Ta.a,{animation:"wave",height:20,width:160}))))};const yr=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},textCenter:{backgroundColor:"red"}})),vr=en.b().shape({name:en.d().min(2,"Too Short!").max(50,"Too Long!").required("Required"),number:en.d().min(8,"Too Short!").max(50,"Too Long!"),email:en.d().email("Invalid email")});function xr(e){let{initialContact:t,onSave:a,onCancel:r}=e;const l=yr(),[i,s]=Object(n.useState)(t);Object(n.useEffect)(()=>{s(t)},[t]);return o.a.createElement(tn.e,{initialValues:i,enableReinitialize:!0,validationSchema:vr,onSubmit:(e,t)=>{setTimeout(()=>{(async e=>{try{if(i.id)await Ge.put("/contacts/".concat(i.id),e);else{const{data:t}=await Ge.post("/contacts",e);a&&a(t)}C.b.success(Le.a.t("contactModal.success"))}catch(t){He(t)}})(e),t.setSubmitting(!1)},400)}},e=>{let{values:t,errors:a,touched:n,isSubmitting:s}=e;return o.a.createElement(tn.d,null,o.a.createElement(_a.a,{container:!0,spacing:1},o.a.createElement(_a.a,{item:!0,xs:12},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("contactModal.form.name"),name:"name",autoFocus:!0,error:n.name&&Boolean(a.name),helperText:n.name&&a.name,variant:"outlined",margin:"dense",className:l.textField,fullWidth:!0})),o.a.createElement(_a.a,{item:!0,xs:12},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("contactModal.form.number"),name:"number",error:n.number&&Boolean(a.number),helperText:n.number&&a.number,placeholder:"5513912344321",variant:"outlined",margin:"dense",fullWidth:!0})),o.a.createElement(_a.a,{item:!0,xs:12},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("contactModal.form.email"),name:"email",error:n.email&&Boolean(a.email),helperText:n.email&&a.email,placeholder:"Email address",fullWidth:!0,margin:"dense",variant:"outlined"})),o.a.createElement(_a.a,{item:!0,xs:12,spacing:1},o.a.createElement(_a.a,{container:!0,spacing:1},o.a.createElement(_a.a,{xs:6,item:!0},o.a.createElement(st.a,{onClick:r,color:"secondary",disabled:s,variant:"outlined",fullWidth:!0},Le.a.t("contactModal.buttons.cancel"))),o.a.createElement(_a.a,{classes:l.textCenter,xs:6,item:!0},o.a.createElement(st.a,{type:"submit",color:"primary",disabled:s,variant:"contained",className:l.btnWrapper,fullWidth:!0},i.id?"".concat(Le.a.t("contactModal.buttons.okEdit")):"".concat(Le.a.t("contactModal.buttons.okAdd")),s&&o.a.createElement(Wt.a,{size:24,className:l.buttonProgress})))))))})}const Cr=Object(k.a)(e=>({inline:{width:"100%"}}));function wr(e){const{note:t,deleteItem:a}=e,n=Cr();return o.a.createElement(K.a,{alignItems:"flex-start"},o.a.createElement(qt.a,null,o.a.createElement(Ft.a,{alt:t.user.name,src:"/static/images/avatar/1.jpg"})),o.a.createElement(Y.a,{primary:o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{component:"span",variant:"body2",className:n.inline,color:"textPrimary"},t.note)),secondary:o.a.createElement(o.a.Fragment,null,t.user.name,", ",O()(t.createdAt).format("DD/MM/YY HH:mm"))}),o.a.createElement(ct.a,null,o.a.createElement(I.a,{onClick:()=>{a(t)},edge:"end","aria-label":"delete"},o.a.createElement(mt.a,null))))}var Sr=()=>({saveNote:async e=>{const{data:t}=await Ge.request({url:"/ticket-notes",method:"POST",data:e});return t},deleteNote:async e=>{const{data:t}=await Ge.request({url:"/ticket-notes/".concat(e),method:"DELETE"});return t},listNotes:async e=>{const{data:t}=await Ge.request({url:"/ticket-notes/list",method:"GET",params:e});return t}});const Or=Object(k.a)(e=>({root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"350px"}},list:{width:"100%",maxWidth:"350px",maxHeight:"200px",backgroundColor:e.palette.background.paper,overflow:"auto"},inline:{width:"100%"}})),kr=en.b().shape({note:en.d().min(2,"Too Short!").required("Required")});function Tr(e){let{ticket:t}=e;const{id:a,contactId:r}=t,l=Or(),[i,s]=Object(n.useState)({note:""}),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)({}),[b,E]=Object(n.useState)([]),{saveNote:f,deleteNote:A,listNotes:h}=Sr();Object(n.useEffect)(()=>{!async function(){y(),await w()}()},[]);const y=()=>{s({note:""}),d(!1)},v=e=>{s({note:e.target.value})},x=e=>{g(e),u(!0)},w=async()=>{d(!0);try{const e=await h({ticketId:a,contactId:r});E(e)}catch(e){C.b.error(e)}d(!1)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(ga,{title:"Excluir Registro",open:m,onClose:u,onConfirm:async()=>{d(!0);try{await A(p.id),await w(),g({}),C.b.success("Observa\xe7\xe3o exclu\xedda com sucesso!")}catch(e){C.b.error(e)}d(!1)}},"Deseja realmente excluir este registro?"),o.a.createElement(tn.e,{initialValues:i,enableReinitialize:!0,validationSchema:kr,onSubmit:(e,t)=>{setTimeout(()=>{(async e=>{d(!0);try{await f({...e,ticketId:a,contactId:r}),await w(),s({note:""}),C.b.success("Observa\xe7\xe3o adicionada com sucesso!")}catch(t){C.b.error(t)}d(!1)})(e),t.setSubmitting(!1)},400)}},e=>{let{touched:t,errors:a,setErrors:n}=e;return o.a.createElement(tn.d,null,o.a.createElement(_a.a,{container:!0,spacing:2},o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(tn.b,{as:it.a,name:"note",rows:3,label:Le.a.t("ticketOptionsMenu.appointmentsModal.textarea"),placeholder:Le.a.t("ticketOptionsMenu.appointmentsModal.placeholder"),multiline:!0,error:t.note&&Boolean(a.note),helperText:t.note&&a.note,variant:"outlined",onChange:v,fullWidth:!0})),b.length>0&&o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(M.a,{className:l.list},b.map(e=>o.a.createElement(wr,{note:e,key:e.id,deleteItem:x})))),o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(_a.a,{container:!0,spacing:2},o.a.createElement(_a.a,{xs:6,item:!0},o.a.createElement(st.a,{onClick:()=>{s(""),n({})},color:"primary",variant:"outlined",fullWidth:!0},"Cancelar")),o.a.createElement(_a.a,{xs:6,item:!0},o.a.createElement(zt,{loading:c,color:"primary",type:"submit",variant:"contained",autoFocus:!0,fullWidth:!0},"Salvar"))))))}))}const jr=Object(k.a)(e=>({drawer:{width:320,flexShrink:0},drawerPaper:{width:320,display:"flex",borderTop:"1px solid rgba(0, 0, 0, 0.12)",borderRight:"1px solid rgba(0, 0, 0, 0.12)",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",borderTopRightRadius:4,borderBottomRightRadius:4},header:{display:"flex",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",backgroundColor:e.palette.contactdrawer,alignItems:"center",padding:e.spacing(0,1),minHeight:"73px",justifyContent:"flex-start"},content:{display:"flex",backgroundColor:e.palette.contactdrawer,flexDirection:"column",padding:"8px 0px 8px 8px",height:"100%",overflowY:"scroll",...e.scrollbarStyles},contactAvatar:{margin:15,width:100,height:100},contactHeader:{display:"flex",padding:8,flexDirection:"column",alignItems:"center",justifyContent:"center","& > *":{margin:4}},contactDetails:{marginTop:8,padding:8,display:"flex",flexDirection:"column"},contactExtraInfo:{marginTop:4,padding:6}}));var Ir=e=>{var t;let{open:a,handleDrawerClose:r,contact:l,ticket:i,loading:s}=e;const c=jr(),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{p(!1)},[a,l]),o.a.createElement(o.a.Fragment,null,o.a.createElement(j.a,{className:c.drawer,variant:"persistent",anchor:"right",open:a,PaperProps:{style:{position:"absolute"}},BackdropProps:{style:{position:"absolute"}},ModalProps:{container:document.getElementById("drawer-container"),style:{position:"absolute"}},classes:{paper:c.drawerPaper}},o.a.createElement("div",{className:c.header},o.a.createElement(I.a,{onClick:r},o.a.createElement(br.a,null)),o.a.createElement(D.a,{style:{justifySelf:"center"}},Le.a.t("contactDrawer.header"))),s?o.a.createElement(hr,{classes:c}):o.a.createElement("div",{className:c.content},o.a.createElement(xn.a,{square:!0,variant:"outlined",className:c.contactHeader},o.a.createElement(ka.a,{onClick:()=>{},style:{cursor:"pointer",width:"100%"},titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:o.a.createElement(Ft.a,{src:l.profilePicUrl,alt:"contact_image",style:{width:60,height:60}}),title:o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{onClick:()=>p(!0)},l.name,o.a.createElement(Ar.a,{style:{fontSize:16,marginLeft:5}}))),subheader:o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{style:{fontSize:12}},o.a.createElement(Er.a,{href:"tel:".concat(l.number)},l.number)),o.a.createElement(D.a,{style:{fontSize:12}},o.a.createElement(Er.a,{href:"mailto:".concat(l.email)},l.email)))}),o.a.createElement(st.a,{variant:"outlined",color:"primary",onClick:()=>m(!u),style:{fontSize:12}},Le.a.t("contactDrawer.buttons.edit")),l.id&&u&&o.a.createElement(xr,{initialContact:l,onCancel:()=>p(!1)})),o.a.createElement(xn.a,{square:!0,variant:"outlined",className:c.contactDetails},o.a.createElement(D.a,{variant:"subtitle1",style:{marginBottom:10}},Le.a.t("ticketOptionsMenu.appointmentsModal.title")),o.a.createElement(Tr,{ticket:i})),o.a.createElement(xn.a,{square:!0,variant:"outlined",className:c.contactDetails},o.a.createElement($o,{open:d,onClose:()=>m(!1),contactId:l.id}),o.a.createElement(D.a,{variant:"subtitle1"},Le.a.t("contactDrawer.extraInfo")),null===l||void 0===l||null===(t=l.extraInfo)||void 0===t?void 0:t.map(e=>o.a.createElement(xn.a,{key:e.id,square:!0,variant:"outlined",className:c.contactExtraInfo},o.a.createElement(nn.a,null,e.name),o.a.createElement(D.a,{component:"div",noWrap:!0,style:{paddingTop:2}},o.a.createElement(Kt,null,e.value))))))))},Nr=(a(1238),a(906)),Mr=a(853),Pr=a.n(Mr),Rr=a(168),Dr=a.n(Rr),qr=a(854),Fr=a.n(qr),Lr=a(394),Wr=a.n(Lr),Br=a(859),zr=a.n(Br),Hr=a(858),Ur=a.n(Hr),Vr=a(857),Qr=a.n(Vr),Kr=a(856),Gr=a.n(Kr),Yr=a(855),Xr=a.n(Yr);const _r=Object(k.a)(e=>({timerBox:{display:"flex",marginLeft:10,marginRight:10,alignItems:"center"}}));var Zr=()=>{const e=_r(),[t,a]=Object(n.useState)({minutes:0,seconds:0});Object(n.useEffect)(()=>{const e=setInterval(()=>a(e=>59===e.seconds?{...e,minutes:e.minutes+1,seconds:0}:{...e,seconds:e.seconds+1}),1e3);return()=>{clearInterval(e)}},[]);const r=e=>e<10?"0"+e:e;return o.a.createElement("div",{className:e.timerBox},o.a.createElement("span",null,"".concat(r(t.minutes),":").concat(r(t.seconds))))};var Jr=()=>({save:async e=>{const{data:t}=await Ge.request({url:"/quick-messages",method:"POST",data:e});return t},update:async e=>{const{data:t}=await Ge.request({url:"/quick-messages/".concat(e.id),method:"PUT",data:e});return t},deleteRecord:async e=>{const{data:t}=await Ge.request({url:"/quick-messages/".concat(e),method:"DELETE"});return t},list:async e=>{const{data:t}=await Ge.request({url:"/quick-messages/list",method:"GET",params:e});return t}});const $r=new Pr.a({bitRate:128}),el=Object(k.a)(e=>({mainWrapper:{backgroundColor:e.palette.bordabox,display:"flex",flexDirection:"column",alignItems:"center",borderTop:"1px solid rgba(0, 0, 0, 0.12)"},newMessageBox:{backgroundColor:e.palette.newmessagebox,width:"100%",display:"flex",padding:"7px",alignItems:"center"},messageInputWrapper:{padding:6,marginRight:7,backgroundColor:e.palette.inputdigita,display:"flex",borderRadius:20,flex:1},messageInput:{paddingLeft:10,flex:1,border:"none"},sendMessageIcons:{color:"grey"},uploadInput:{display:"none"},viewMediaInputWrapper:{display:"flex",padding:"10px 13px",position:"relative",justifyContent:"space-between",alignItems:"center",backgroundColor:"#eee",borderTop:"1px solid rgba(0, 0, 0, 0.12)"},emojiBox:{position:"absolute",bottom:63,width:40,borderTop:"1px solid #e8e8e8"},circleLoading:{color:Pt.a[500],opacity:"70%",position:"absolute",top:"20%",left:"50%",marginLeft:-12},audioLoading:{color:Pt.a[500],opacity:"70%"},recorderWrapper:{display:"flex",alignItems:"center",alignContent:"middle"},cancelAudioIcon:{color:"red"},sendAudioIcon:{color:"green"},replyginMsgWrapper:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",paddingTop:8,paddingLeft:73,paddingRight:7},replyginMsgContainer:{flex:1,marginRight:5,overflowY:"hidden",backgroundColor:"rgba(0, 0, 0, 0.05)",borderRadius:"7.5px",display:"flex",position:"relative"},replyginMsgBody:{padding:10,height:"auto",display:"block",whiteSpace:"pre-wrap",overflow:"hidden"},replyginContactMsgSideColor:{flex:"none",width:"4px",backgroundColor:"#35cd96"},replyginSelfMsgSideColor:{flex:"none",width:"4px",backgroundColor:"#6bcbef"},messageContactName:{display:"flex",color:"#6bcbef",fontWeight:500}})),tl=e=>{const{disabled:t,showEmoji:a,setShowEmoji:n,handleAddEmoji:r}=e,l=el();return o.a.createElement(o.a.Fragment,null,o.a.createElement(I.a,{"aria-label":"emojiPicker",component:"span",disabled:t,onClick:e=>n(e=>!e)},o.a.createElement(Fr.a,{className:l.sendMessageIcons})),a?o.a.createElement("div",{className:l.emojiBox},o.a.createElement(Nr.a,{perLine:16,showPreview:!1,showSkinTones:!1,onSelect:r})):null)},al=e=>{const{width:t,setSignMessage:a,signMessage:n}=e;return Object(Ro.b)("md",t)?o.a.createElement(qn.a,{style:{marginRight:7,color:"gray"},label:Le.a.t("messagesInput.signMessage"),labelPlacement:"start",control:o.a.createElement(Vo.a,{size:"small",checked:n,onChange:e=>{a(e.target.checked)},name:"showAllTickets",color:"primary"})}):null},nl=e=>{const{handleChangeMedias:t,disableOption:a}=e,n=el();return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{multiple:!0,type:"file",id:"upload-button",disabled:a(),className:n.uploadInput,onChange:t}),o.a.createElement("label",{htmlFor:"upload-button"},o.a.createElement(I.a,{"aria-label":"upload",component:"span",disabled:a()},o.a.createElement(Dr.a,{className:n.sendMessageIcons}))))},ol=e=>{const{inputMessage:t,loading:a,recording:n,ticketStatus:r,handleSendMessage:l,handleCancelAudio:i,handleUploadAudio:s,handleStartRecording:c}=e,d=el();return t?o.a.createElement(I.a,{"aria-label":"sendMessage",component:"span",onClick:l,disabled:a},o.a.createElement(Wr.a,{className:d.sendMessageIcons})):n?o.a.createElement("div",{className:d.recorderWrapper},o.a.createElement(I.a,{"aria-label":"cancelRecording",component:"span",fontSize:"large",disabled:a,onClick:i},o.a.createElement(Xr.a,{className:d.cancelAudioIcon})),a?o.a.createElement("div",null,o.a.createElement(Wt.a,{className:d.audioLoading})):o.a.createElement(Zr,null),o.a.createElement(I.a,{"aria-label":"sendRecordedAudio",component:"span",onClick:s,disabled:a},o.a.createElement(Gr.a,{className:d.sendAudioIcon}))):o.a.createElement(I.a,{"aria-label":"showRecorder",component:"span",disabled:a||"open"!==r,onClick:c},o.a.createElement(Qr.a,{className:d.sendMessageIcons}))},rl=e=>{const{loading:t,inputRef:a,ticketStatus:r,inputMessage:l,setInputMessage:i,handleSendMessage:s,handleInputPaste:c,disableOption:d,handleQuickAnswersClick:m}=e,u=el(),[p,g]=Object(n.useState)([]),[b,E]=Object(n.useState)([]),[f,A]=Object(n.useState)(!1),{user:h}=Object(n.useContext)($e),{list:y}=Jr();Object(n.useEffect)(()=>{!async function(){const e=localStorage.getItem("companyId"),t=(await y({companyId:e,userId:h.id})).map(e=>{let t=e.message;return Object(ze.isString)(t)&&t.length>35&&(t=e.message.substring(0,35)+"..."),{value:e.message,label:"/".concat(e.shortcode," - ").concat(t),mediaPath:e.mediaPath}});g(t)}()},[]),Object(n.useEffect)(()=>{if(Object(ze.isString)(l)&&!Object(ze.isEmpty)(l)&&l.length>1){const e=l.charAt(0);A(e.indexOf("/")>-1);const t=p.filter(e=>e.label.indexOf(l)>-1);E(t)}else A(!1)},[l]);const v=e=>{e&&(e.focus(),a.current=e)};return o.a.createElement("div",{className:u.messageInputWrapper},o.a.createElement(Ko.a,{freeSolo:!0,open:f,id:"grouped-demo",value:l,options:b,closeIcon:null,getOptionLabel:e=>Object(ze.isObject)(e)?e.label:e,onChange:(e,t)=>{Object(ze.isObject)(t)&&Object(ze.has)(t,"value")&&Object(ze.isNil)(t.mediaPath)?(i(t.value),setTimeout(()=>{a.current.scrollTop=a.current.scrollHeight},200)):Object(ze.isObject)(t)&&Object(ze.has)(t,"value")&&!Object(ze.isNil)(t.mediaPath)&&(m(t),setTimeout(()=>{a.current.scrollTop=a.current.scrollHeight},200))},onInputChange:(e,t,a)=>{"input"===a&&i(e.target.value)},onPaste:e=>{"open"===r&&c(e)},onKeyPress:e=>{t||e.shiftKey||"Enter"===e.key&&s()},style:{width:"100%"},renderInput:e=>{const{InputLabelProps:t,InputProps:a,...n}=e;return o.a.createElement(Fo.a,Object.assign({},e.InputProps,n,{disabled:d(),inputRef:v,placeholder:"open"===r?Le.a.t("messagesInput.placeholderOpen"):Le.a.t("messagesInput.placeholderClosed"),multiline:!0,className:u.messageInput,maxRows:5}))}}))};var ll=Object(Ro.a)()(e=>{var t;const{ticketStatus:a,ticketId:r}=e,l=el(),[i,s]=Object(n.useState)([]),[c,d]=Object(n.useState)(""),[m,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)(!1),f=Object(n.useRef)(),{setReplyingMessage:A,replyingMessage:h}=Object(n.useContext)(ba),{user:y}=Object(n.useContext)($e),[v,x]=function(e,t){const[a,o]=Object(n.useState)(()=>{try{const a=localStorage.getItem(e);return a?JSON.parse(a):t}catch(a){return He(a),t}});return[a,t=>{try{const n=t instanceof Function?t(a):t;o(n),localStorage.setItem(e,JSON.stringify(n))}catch(n){He(n)}}]}("signOption",!0);Object(n.useEffect)(()=>{f.current.focus()},[h]),Object(n.useEffect)(()=>(f.current.focus(),()=>{d(""),u(!1),s([]),A(null)}),[r,A]);const C=e=>{let t=e.native;d(e=>e+t)},S=e=>{if(!e.target.files)return;const t=Array.from(e.target.files);s(t)},O=e=>{e.clipboardData.files[0]&&s([e.clipboardData.files[0]])},k=async e=>{if(e.mediaPath)try{const{data:t}=await Ve.a.get(e.mediaPath,{responseType:"blob"});return(async(e,t)=>{g(!0);try{const a=e.type.split("/")[1],n=new FormData,o="".concat((new Date).getTime(),".").concat(a);n.append("medias",e,o),n.append("body",t),n.append("fromMe",!0),await Ge.post("/messages/".concat(r),n)}catch(a){He(a),g(!1)}g(!1)})(t,e.value),void d("")}catch(t){He(t)}d(""),d(e.value)},T=async()=>{if(""===c.trim())return;g(!0);const e={read:1,fromMe:!0,mediaUrl:"",body:v?"*".concat(null===y||void 0===y?void 0:y.name,":*\n").concat(c.trim()):c.trim(),quotedMsg:h};try{await Ge.post("/messages/".concat(r),e)}catch(t){He(t)}d(""),u(!1),g(!1),A(null)},j=async()=>{g(!0);try{await navigator.mediaDevices.getUserMedia({audio:!0}),await $r.start(),E(!0),g(!1)}catch(e){He(e),g(!1)}},N=async()=>{g(!0);try{const[,e]=await $r.stop().getMp3();if(e.size<1e4)return g(!1),void E(!1);const t=new FormData,a="audio-record-site-".concat((new Date).getTime(),".mp3");t.append("medias",e,a),t.append("body",a),t.append("fromMe",!0),await Ge.post("/messages/".concat(r),t)}catch(e){He(e)}E(!1),g(!1)},M=async()=>{try{await $r.stop().getMp3(),E(!1)}catch(e){He(e)}},P=()=>p||b||"open"!==a;return i.length>0?o.a.createElement(xn.a,{elevation:0,square:!0,className:l.viewMediaInputWrapper},o.a.createElement(I.a,{"aria-label":"cancel-upload",component:"span",onClick:e=>s([])},o.a.createElement(zr.a,{className:l.sendMessageIcons})),p?o.a.createElement("div",null,o.a.createElement(Wt.a,{className:l.circleLoading})):o.a.createElement("span",null,null===(t=i[0])||void 0===t?void 0:t.name),o.a.createElement(I.a,{"aria-label":"send-upload",component:"span",onClick:async e=>{g(!0),e.preventDefault();const t=new FormData;t.append("fromMe",!0),i.forEach(e=>{t.append("medias",e),t.append("body",e.name)});try{await Ge.post("/messages/".concat(r),t)}catch(a){He(a)}g(!1),s([])},disabled:p},o.a.createElement(Wr.a,{className:l.sendMessageIcons}))):o.a.createElement(xn.a,{square:!0,elevation:0,className:l.mainWrapper},h&&(e=>{var t;return o.a.createElement("div",{className:l.replyginMsgWrapper},o.a.createElement("div",{className:l.replyginMsgContainer},o.a.createElement("span",{className:Object(w.a)(l.replyginContactMsgSideColor,{[l.replyginSelfMsgSideColor]:!e.fromMe})}),o.a.createElement("div",{className:l.replyginMsgBody},!e.fromMe&&o.a.createElement("span",{className:l.messageContactName},null===(t=e.contact)||void 0===t?void 0:t.name),e.body)),o.a.createElement(I.a,{"aria-label":"showRecorder",component:"span",disabled:p||"open"!==a,onClick:()=>A(null)},o.a.createElement(Ur.a,{className:l.sendMessageIcons})))})(h),o.a.createElement("div",{className:l.newMessageBox},o.a.createElement(tl,{disabled:P(),handleAddEmoji:C,showEmoji:m,setShowEmoji:u}),o.a.createElement(nl,{disableOption:P,handleChangeMedias:S}),o.a.createElement(al,{width:e.width,setSignMessage:x,signMessage:v}),o.a.createElement(rl,{loading:p,inputRef:f,ticketStatus:a,inputMessage:c,setInputMessage:d,handleSendMessage:T,handleInputPaste:O,disableOption:P,handleQuickAnswersClick:k}),o.a.createElement(ol,{inputMessage:c,loading:p,recording:b,ticketStatus:a,handleSendMessage:T,handleCancelAudio:M,handleUploadAudio:N,handleStartRecording:j})))}),il=a(1550),sl=a(1552);var cl=()=>({findAll:async()=>{const{data:e}=await Ge.get("/queue");return e}});const dl=Object(k.a)(e=>({maxWidth:{width:"100%"}})),ml=Object(Qo.a)({trim:!0});var ul=e=>{let{modalOpen:t,onClose:a,ticketid:r}=e;const l=Object(x.useHistory)(),[i,s]=Object(n.useState)([]),[c,d]=Object(n.useState)([]),[m,u]=Object(n.useState)([]),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)(""),[f,A]=Object(n.useState)(null),[h,y]=Object(n.useState)(""),v=dl(),{findAll:C}=cl(),w=Object(n.useRef)(!0),[S,O]=Object(n.useState)([]),[k,T]=Object(n.useState)(""),{user:j}=Object(n.useContext)($e),{companyId:I,whatsappId:N}=j;Object(n.useEffect)(()=>()=>{w.current=!1},[]),Object(n.useEffect)(()=>{g(!0);const e=setTimeout(()=>{null!==N&&void 0!==N&&T(N),1===j.queues.length&&y(j.queues[0].id),(async()=>{Ge.get("/whatsapp",{params:{companyId:I,session:0}}).then(e=>{let{data:t}=e;return O(t)})})(),g(!1)},500);return()=>clearTimeout(e)},[]),Object(n.useEffect)(()=>{if(w.current){(async()=>{const e=await C();u(e),d(e)})()}},[]),Object(n.useEffect)(()=>{if(!t||b.length<3)return void g(!1);const e=setTimeout(()=>{g(!0);(async()=>{try{const{data:e}=await Ge.get("/users/",{params:{searchParam:b}});s(e.users),g(!1)}catch(e){g(!1),He(e)}})()},500);return()=>clearTimeout(e)},[b,t]);const M=()=>{a(),E(""),A(null)};return o.a.createElement(ta.a,{open:t,onClose:M,maxWidth:"lg",scroll:"paper"},o.a.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),r&&h&&""!==h){g(!0);try{let e={};f&&(e.userId=f.id),h&&null!==h&&(e.queueId=h,f||(e.status="pending",e.userId=null)),k&&(e.whatsappId=k),await Ge.put("/tickets/".concat(r),e),l.push("/tickets")}catch(t){g(!1),He(t)}}}},o.a.createElement(pa.a,{id:"form-dialog-title"},Le.a.t("transferTicketModal.title")),o.a.createElement(ua.a,{dividers:!0},o.a.createElement(Ko.a,{style:{width:300,marginBottom:20},getOptionLabel:e=>"".concat(e.name),onChange:(e,t)=>{A(t),null!=t&&Array.isArray(t.queues)?d(t.queues):(d(m),y(""))},options:i,filterOptions:ml,freeSolo:!0,autoHighlight:!0,noOptionsText:Le.a.t("transferTicketModal.noOptions"),loading:p,renderInput:e=>o.a.createElement(it.a,Object.assign({},e,{label:Le.a.t("transferTicketModal.fieldLabel"),variant:"outlined",autoFocus:!0,onChange:e=>E(e.target.value),InputProps:{...e.InputProps,endAdornment:o.a.createElement(o.a.Fragment,null,p?o.a.createElement(Wt.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}}))}),o.a.createElement(on.a,{variant:"outlined",className:v.maxWidth},o.a.createElement(nn.a,null,Le.a.t("transferTicketModal.fieldQueueLabel")),o.a.createElement(an.a,{value:h,onChange:e=>y(e.target.value),label:Le.a.t("transferTicketModal.fieldQueuePlaceholder")},c.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name)))),o.a.createElement(_a.a,{container:!0,spacing:2,style:{marginTop:"15px"}},o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(an.a,{required:!0,fullWidth:!0,displayEmpty:!0,variant:"outlined",value:k,onChange:e=>{T(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:()=>{if(""===k)return"Selecione uma Conex\xe3o";return S.find(e=>e.id===k).name}},(null===S||void 0===S?void 0:S.length)>0&&S.map((e,t)=>o.a.createElement(F.a,{dense:!0,key:t,value:e.id},o.a.createElement(Y.a,{primary:o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{component:"span",style:{fontSize:14,marginLeft:"10px",display:"inline-flex",alignItems:"center",lineHeight:"2"}},e.name," \xa0 ",o.a.createElement("p",{className:"CONNECTED"===e.status?v.online:v.offline},"(",e.status,")")))}))))))),o.a.createElement(aa.a,null,o.a.createElement(st.a,{onClick:M,color:"secondary",disabled:p,variant:"outlined"},Le.a.t("transferTicketModal.buttons.cancel")),o.a.createElement(zt,{variant:"contained",type:"submit",color:"primary",loading:p},Le.a.t("transferTicketModal.buttons.ok")))))};const pl=e=>{let{inputRef:t,...a}=e;return o.a.createElement("div",a)};var gl=e=>{let{InputProps:t,children:a,InputLabelProps:n,label:r,...l}=e;return o.a.createElement(it.a,Object.assign({},l,{variant:"outlined",label:r,multiline:!0,InputLabelProps:{shrink:!0,...n},InputProps:{inputComponent:pl,...t},inputProps:{children:a}}))};const bl=Object(k.a)(e=>({chip:{margin:e.spacing(.5),cursor:"pointer"}}));var El=e=>{let{onClick:t,disabled:a}=e;const n=bl(),r=[{name:Le.a.t("messageVariablesPicker.vars.contactFirstName"),value:"{{firstName}}"},{name:Le.a.t("messageVariablesPicker.vars.contactName"),value:"{{name}} "},{name:Le.a.t("messageVariablesPicker.vars.greeting"),value:"{{ms}} "},{name:Le.a.t("messageVariablesPicker.vars.protocolNumber"),value:"{{protocol}} "},{name:Le.a.t("messageVariablesPicker.vars.hour"),value:"{{hora}} "}];return o.a.createElement(gl,{margin:"dense",fullWidth:!0,label:Le.a.t("messageVariablesPicker.label"),disabled:a},r.map(e=>o.a.createElement(rn.a,{key:e.value,onMouseDown:n=>((e,n)=>{e.preventDefault(),a||t(n)})(n,e.value),label:e.name,size:"small",className:n.chip,color:"primary"})))};const fl=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}})),Al=en.b().shape({body:en.d().min(5,"Mensagem muito curta").required("Obrigat\xf3rio"),contactId:en.a().required("Obrigat\xf3rio"),sendAt:en.d().required("Obrigat\xf3rio")});var hl=e=>{let{open:t,onClose:a,scheduleId:r,contactId:l,cleanContact:i,reload:s}=e;const c=fl(),d=Object(x.useHistory)(),{user:m}=Object(n.useContext)($e),u={body:"",contactId:"",sendAt:O()().add(1,"hour").format("YYYY-MM-DDTHH:mm"),sentAt:""},p={id:"",name:""},[g,b]=Object(n.useState)(u),[E,f]=Object(n.useState)(p),[A,h]=Object(n.useState)([p]),[y,v]=Object(n.useState)(null),w=Object(n.useRef)(null),[S,k]=Object(n.useState)(!1),T=Object(n.useRef)();Object(n.useEffect)(()=>{if(l&&A.length){const e=A.find(e=>e.id===l);e&&f(e)}},[l,A]),Object(n.useEffect)(()=>{const{companyId:e}=m;if(t)try{(async()=>{const{data:t}=await Ge.get("/contacts/list",{params:{companyId:e}});let a=t.map(e=>({id:e.id,name:e.name}));if(Object(ze.isArray)(a)&&h([{id:"",name:""},...a]),l&&b(e=>({...e,contactId:l})),!r)return;const{data:n}=await Ge.get("/schedules/".concat(r));b(e=>({...e,...n,sendAt:O()(n.sendAt).format("YYYY-MM-DDTHH:mm")})),f(n.contact)})()}catch(a){He(a)}},[r,l,t,m]);const j=()=>{a(),v(null),b(u)};return o.a.createElement("div",{className:c.root},o.a.createElement(ga,{title:Le.a.t("scheduleModal.confirmationModal.deleteTitle"),open:S,onClose:()=>k(!1),onConfirm:async()=>{y&&(v(null),w.current.value=null),g.mediaPath&&(await Ge.delete("/schedules/".concat(g.id,"/media-upload")),b(e=>({...e,mediaPath:null})),C.b.success(Le.a.t("scheduleModal.toasts.deleted")),"function"==typeof s&&(console.log(s),console.log("1"),s()))}},Le.a.t("scheduleModal.confirmationModal.deleteMessage")),o.a.createElement(ta.a,{open:t,onClose:j,maxWidth:"xs",fullWidth:!0,scroll:"paper"},o.a.createElement(pa.a,{id:"form-dialog-title"},"ERRO"===g.status?"Erro de Envio":"Mensagem ".concat(Object(ze.capitalize)(g.status))),o.a.createElement("div",{style:{display:"none"}},o.a.createElement("input",{type:"file",accept:".png,.jpg,.jpeg",ref:w,onChange:e=>(e=>{const t=Object(ze.head)(e.target.files);t&&v(t)})(e)})),o.a.createElement(tn.e,{initialValues:g,enableReinitialize:!0,validationSchema:Al,onSubmit:(e,t)=>{setTimeout(()=>{(async e=>{const t={...e,userId:m.id};try{if(r){if(await Ge.put("/schedules/".concat(r),t),null!=y){const e=new FormData;e.append("file",y),await Ge.post("/schedules/".concat(r,"/media-upload"),e)}}else{const{data:e}=await Ge.post("/schedules",t);if(null!=y){const t=new FormData;t.append("file",y),await Ge.post("/schedules/".concat(e.id,"/media-upload"),t)}}C.b.success(Le.a.t("scheduleModal.success")),"function"==typeof s&&s(),l&&"function"===typeof i&&(i(),d.push("/schedules"))}catch(a){He(a)}f(p),b(u),j()})(e),t.setSubmitting(!1)},400)}},e=>{let{touched:t,errors:a,isSubmitting:n,values:l,setFieldValue:i}=e;return o.a.createElement(tn.d,null,o.a.createElement(ua.a,{dividers:!0},o.a.createElement("div",{className:c.multFieldLine},o.a.createElement(on.a,{variant:"outlined",fullWidth:!0},o.a.createElement(Ko.a,{fullWidth:!0,value:E,options:A,onChange:(e,t)=>{const a=t?t.id:"";b({...g,contactId:a}),f(t||p)},getOptionLabel:e=>e.name,getOptionSelected:(e,t)=>t.id===e.id,renderInput:e=>o.a.createElement(it.a,Object.assign({},e,{variant:"outlined",placeholder:"Contato"}))}))),o.a.createElement("br",null),o.a.createElement("div",{className:c.multFieldLine},o.a.createElement(tn.b,{as:it.a,rows:9,multiline:!0,label:Le.a.t("scheduleModal.form.body"),name:"body",inputRef:T,error:t.body&&Boolean(a.body),helperText:t.body&&a.body,variant:"outlined",margin:"dense",fullWidth:!0})),o.a.createElement(_a.a,{item:!0},o.a.createElement(El,{disabled:n,onClick:e=>(async(e,t)=>{const a=T.current,n=a.value.substring(0,a.selectionStart),o=a.value.substring(a.selectionEnd),r=a.selectionStart+e.length;t("body","".concat(n).concat(e).concat(o)),await new Promise(e=>setTimeout(e,100)),T.current.setSelectionRange(r,r)})(e,i)})),o.a.createElement("br",null),o.a.createElement("div",{className:c.multFieldLine},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("scheduleModal.form.sendAt"),type:"datetime-local",name:"sendAt",InputLabelProps:{shrink:!0},error:t.sendAt&&Boolean(a.sendAt),helperText:t.sendAt&&a.sendAt,variant:"outlined",fullWidth:!0})),(g.mediaPath||y)&&o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(st.a,{startIcon:o.a.createElement(Dr.a,null)},y?y.name:g.mediaName),o.a.createElement(I.a,{onClick:()=>k(!0),color:"secondary"},o.a.createElement(Yo.a,{color:"secondary"})))),o.a.createElement(aa.a,null,!y&&!g.mediaPath&&o.a.createElement(st.a,{color:"primary",onClick:()=>w.current.click(),disabled:n,variant:"outlined"},Le.a.t("quickMessages.buttons.attach")),o.a.createElement(st.a,{onClick:j,color:"secondary",disabled:n,variant:"outlined"},Le.a.t("scheduleModal.buttons.cancel")),(null===g.sentAt||""===g.sentAt)&&o.a.createElement(st.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:c.btnWrapper},"".concat(r?Le.a.t("scheduleModal.buttons.okEdit"):Le.a.t("scheduleModal.buttons.okAdd")),n&&o.a.createElement(Wt.a,{size:24,className:c.buttonProgress}))))})))};var yl=e=>{let{ticket:t,menuOpen:a,handleClose:r,anchorEl:l}=e;const[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(!1),m=Object(n.useRef)(!0),{user:u}=Object(n.useContext)($e),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)(null);Object(n.useEffect)(()=>()=>{m.current=!1},[]);const f=e=>{s(!0),r()};return o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,{id:"menu-appbar",anchorEl:l,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:a,onClose:r},o.a.createElement(F.a,{onClick:()=>{r(),E(t.contact.id),g(!0)}},Le.a.t("ticketOptionsMenu.schedule")),o.a.createElement(F.a,{onClick:e=>{d(!0),r()}},Le.a.t("ticketOptionsMenu.transfer")),o.a.createElement(at,{role:u.profile,perform:"ticket-options:deleteTicket",yes:()=>o.a.createElement(F.a,{onClick:f},Le.a.t("ticketOptionsMenu.delete"))})),o.a.createElement(ga,{title:"".concat(Le.a.t("ticketOptionsMenu.confirmationModal.title")).concat(t.id," ").concat(Le.a.t("ticketOptionsMenu.confirmationModal.titleFrom")," ").concat(t.contact.name,"?"),open:i,onClose:s,onConfirm:async()=>{try{await Ge.delete("/tickets/".concat(t.id))}catch(e){He(e)}}},Le.a.t("ticketOptionsMenu.confirmationModal.message")),o.a.createElement(ul,{modalOpen:c,onClose:()=>{m.current&&d(!1)},ticketid:t.id}),o.a.createElement(hl,{open:p,onClose:()=>{g(!1),E(null)},"aria-labelledby":"form-dialog-title",contactId:b}))},vl=a(860),xl=a.n(vl);const Cl=Object(k.a)(e=>({actionButtons:{marginRight:6,flex:"none",alignSelf:"center",marginLeft:"auto","& > *":{margin:e.spacing(.5)}}}));var wl=e=>{let{ticket:t}=e;const a=Cl(),r=Object(x.useHistory)(),[l,i]=Object(n.useState)(null),[s,c]=Object(n.useState)(!1),u=Boolean(l),{user:p}=Object(n.useContext)($e),{setCurrentTicket:g}=Object(n.useContext)(Yt),b=Object(d.a)({palette:{primary:Pt.a}}),E=async(e,a,n)=>{c(!0);try{await Ge.put("/tickets/".concat(t.id),{status:a,userId:n||null,useIntegration:"closed"!==a&&t.useIntegration,promptId:"closed"!==a&&t.promptId,integrationId:"closed"!==a&&t.integrationId}),c(!1),"open"===a?g({...t,code:"#open"}):(g({id:null,code:null}),r.push("/tickets"))}catch(o){c(!1),He(o)}};return o.a.createElement("div",{className:a.actionButtons},"closed"===t.status&&o.a.createElement(zt,{loading:s,startIcon:o.a.createElement(il.a,null),size:"small",onClick:e=>E(0,"open",null===p||void 0===p?void 0:p.id)},Le.a.t("messagesList.header.buttons.reopen")),"open"===t.status&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Gt.a,{title:Le.a.t("messagesList.header.buttons.return")},o.a.createElement(I.a,{onClick:e=>E(0,"pending",null)},o.a.createElement(xl.a,null))),o.a.createElement(m.a,{theme:b},o.a.createElement(Gt.a,{title:Le.a.t("messagesList.header.buttons.resolve")},o.a.createElement(I.a,{onClick:e=>E(0,"closed",null===p||void 0===p?void 0:p.id),color:"primary"},o.a.createElement(Zn.a,null)))),o.a.createElement(I.a,{onClick:e=>{i(e.currentTarget)}},o.a.createElement(sl.a,null)),o.a.createElement(yl,{ticket:t,anchorEl:l,menuOpen:u,handleClose:e=>{i(null)}})),"pending"===t.status&&o.a.createElement(zt,{loading:s,size:"small",variant:"contained",color:"primary",onClick:e=>E(0,"open",null===p||void 0===p?void 0:p.id)},Le.a.t("messagesList.header.buttons.accept")))};function Sl(e){let{ticket:t}=e;const[a,r]=Object(n.useState)([]),[l,i]=Object(n.useState)([]),s=Object(n.useRef)(!0);Object(n.useEffect)(()=>()=>{s.current=!1},[]),Object(n.useEffect)(()=>{s.current&&d().then(()=>{Array.isArray(t.tags)?i(t.tags):i([])})},[t]);const c=async e=>{try{const{data:t}=await Ge.post("/tags",e);return t}catch(t){He(t)}},d=async()=>{try{const{data:e}=await Ge.get("/tags/list");r(e)}catch(e){He(e)}},m=async(e,a)=>{let n=[];if("create-option"===a){if(Object(ze.isArray)(e))for(let t of e)if(Object(ze.isString)(t)){const e=await c({name:t});n.push(e)}else n.push(t);await d()}else n=e;i(n),await(async e=>{try{const{data:t}=await Ge.post("/tags/sync",e);return t}catch(t){He(t)}})({ticketId:t.id,tags:n})};return o.a.createElement(xn.a,{style:{padding:12}},o.a.createElement(Ko.a,{multiple:!0,size:"small",options:a,value:l,freeSolo:!0,onChange:(e,t,a)=>m(t,a),getOptionLabel:e=>e.name,renderTags:(e,t)=>e.map((e,a)=>o.a.createElement(rn.a,Object.assign({variant:"outlined",style:{background:e.color||"#eee",color:"#FFF",marginRight:1,fontWeight:600,borderRadius:3,fontSize:"0.8em",whiteSpace:"nowrap"},label:e.name.toUpperCase()},t({index:a}),{size:"small"}))),renderInput:e=>o.a.createElement(it.a,Object.assign({},e,{variant:"outlined",placeholder:"Tags"})),PaperComponent:e=>{let{children:t}=e;return o.a.createElement(xn.a,{style:{width:400,marginLeft:12}},t)}}))}const Ol=Object(k.a)(e=>({root:{display:"flex",height:"100%",position:"relative",overflow:"hidden"},mainWrapper:{flex:1,height:"100%",display:"flex",flexDirection:"column",overflow:"hidden",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"0",marginRight:-320,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},mainWrapperShift:{borderTopRightRadius:0,borderBottomRightRadius:0,transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}));var kl=()=>{const{ticketId:e}=Object(x.useParams)(),t=Object(x.useHistory)(),a=Ol(),{user:r}=Object(n.useContext)($e),[l,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(!0),[d,m]=Object(n.useState)({}),[u,p]=Object(n.useState)({}),g=Object(n.useContext)(y);Object(n.useEffect)(()=>{c(!0);const a=setTimeout(()=>{(async()=>{try{const{data:a}=await Ge.get("/tickets/u/"+e),{queueId:n}=a,{queues:o,profile:l}=r;if(void 0===o.find(e=>e.id===n)&&"admin"!==l)return C.b.error(Le.a.t("tickets.toasts.unauthorized")),void t.push("/tickets");m(a.contact),p(a),c(!1)}catch(a){c(!1),He(a)}})()},500);return()=>clearTimeout(a)},[e,r,t]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),a=g.getSocket(e);return a.on("ready",()=>a.emit("joinChatBox","".concat(u.id))),a.on("company-".concat(e,"-ticket"),e=>{"update"===e.action&&e.ticket.id===u.id&&p(e.ticket),"delete"===e.action&&e.ticketId===u.id&&t.push("/tickets")}),a.on("company-".concat(e,"-contact"),e=>{"update"===e.action&&m(t=>{var a;return t.id===(null===(a=e.contact)||void 0===a?void 0:a.id)?{...t,...e.contact}:t})}),()=>{a.disconnect()}},[e,u,t,g]);const b=()=>{i(!0)};return o.a.createElement("div",{className:a.root,id:"drawer-container"},o.a.createElement(xn.a,{variant:"outlined",elevation:0,className:Object(w.a)(a.mainWrapper,{[a.mainWrapperShift]:l})},o.a.createElement(Ma,{loading:s},(()=>{if(void 0!==u.user)return o.a.createElement(Pa,{contact:d,ticket:u,onClick:b})})(),o.a.createElement(wl,{ticket:u})),o.a.createElement(xn.a,null,o.a.createElement(Sl,{ticket:u})),o.a.createElement(Ea,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(Sa,{ticket:u,ticketId:u.id,isGroup:u.isGroup}),o.a.createElement(ll,{ticketId:u.id,ticketStatus:u.status})))),o.a.createElement(Ir,{open:l,handleDrawerClose:()=>{i(!1)},contact:d,loading:s,ticket:u}))};const Tl=Object(k.a)(e=>({chatContainer:{flex:1,padding:e.spacing(1),height:"calc(100% - 48px)",overflowY:"hidden"},chatPapper:{display:"flex",height:"100%"},contactsWrapper:{display:"flex",height:"100%",flexDirection:"column",overflowY:"hidden"},messagesWrapper:{display:"flex",height:"100%",flexDirection:"column"},welcomeMsg:{backgroundColor:e.palette.boxticket,display:"flex",justifyContent:"space-evenly",alignItems:"center",height:"100%",textAlign:"center"}}));var jl=()=>{const e=Tl(),{ticketId:t}=Object(x.useParams)();return o.a.createElement("div",{className:e.chatContainer},o.a.createElement("div",{className:e.chatPapper},o.a.createElement(_a.a,{container:!0,spacing:0},o.a.createElement(_a.a,{item:!0,xs:4,className:e.contactsWrapper},o.a.createElement(pr,null)),o.a.createElement(_a.a,{item:!0,xs:8,className:e.messagesWrapper},t?o.a.createElement(o.a.Fragment,null,o.a.createElement(kl,null)):o.a.createElement(xn.a,{square:!0,variant:"outlined",className:e.welcomeMsg},o.a.createElement("div",null,o.a.createElement("center",null,o.a.createElement("img",{style:{margin:"0 auto",width:"70%"},src:Tn.a,alt:"logologin"}))))))))},Il=a(1553),Nl=a(1554),Ml=a(861),Pl=a.n(Ml),Rl=a(912);var Dl=Object(Rl.a)(xn.a)({height:"calc(100% - 48px)",display:"grid",gridTemplateRows:"56px 1fr"});const ql=Object(k.a)(e=>({header:{},content:{overflow:"auto"},placeholderContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",backgroundColor:e.palette.boxticket},placeholderItem:{}}));var Fl=e=>{const t=ql(),{ticketId:a}=Object(x.useParams)(),[r,l]=Object(n.useState)(0),{currentTicket:i,setCurrentTicket:s}=Object(n.useContext)(Yt);Object(n.useEffect)(()=>(null!==i.id&&s({id:i.id,code:"#open"}),a||l(1),()=>{s({id:null,code:null})}),[]),Object(n.useEffect)(()=>{null!==i.id&&l(0)},[i]);return o.a.createElement(Dl,null,o.a.createElement(Lt.a,{className:t.header},o.a.createElement(Il.a,{value:r,onChange:(e,t)=>{l(t)},showLabels:!0,className:t.root},o.a.createElement(Nl.a,{label:Le.a.t("ticketAdvanced.ticketNav"),icon:o.a.createElement(It.a,null)}),o.a.createElement(Nl.a,{label:Le.a.t("ticketAdvanced.attendanceNav"),icon:o.a.createElement(Pl.a,null)}))),o.a.createElement(Lt.a,{className:t.content},0===r?a?o.a.createElement(kl,null):o.a.createElement(Lt.a,{className:t.placeholderContainer},"//PLW DESIGN LOGO//",o.a.createElement("div",null,o.a.createElement("center",null,o.a.createElement("img",{style:{margin:"0 auto",width:"70%"},src:Tn.a,alt:"logologin"}))),"//PLW DESIGN LOGO//",o.a.createElement("br",null),o.a.createElement(st.a,{onClick:()=>l(1),variant:"contained",color:"primary"},Le.a.t("ticketAdvanced.selectTicket"))):o.a.createElement(pr,null)))};var Ll=Object(Ro.a)()((function(e){return Object(Ro.b)("md",e.width)?o.a.createElement(jl,null):o.a.createElement(Fl,null)})),Wl=a(530),Bl=a.n(Wl);const zl=Object(k.a)(e=>({paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}})),Hl=en.b().shape({name:en.d().min(2,Le.a.t("signup.formErrors.name.short")).max(50,Le.a.t("signup.formErrors.name.long")).required(Le.a.t("signup.formErrors.name.required")),password:en.d().min(5,Le.a.t("signup.formErrors.password.short")).max(50,Le.a.t("signup.formErrors.password.long")),email:en.d().email(Le.a.t("signup.formErrors.email.invalid")).required(Le.a.t("signup.formErrors.email.required"))});var Ul=()=>{const e=zl(),t=Object(x.useHistory)();let a=null;const r=Bl.a.parse(window.location.search);void 0!==r.companyId&&(a=r.companyId);const[l]=Object(n.useState)({name:"",email:"",phone:"",password:"",planId:""}),s=O()().add(3,"day").format(),[c,d]=Object(n.useState)([]),{list:m}=yt();return Object(n.useEffect)(()=>{!async function(){const e=await m();d(e)}()},[]),o.a.createElement(Hn.a,{component:"main",maxWidth:"xs"},o.a.createElement(i.a,null),o.a.createElement("div",{className:e.paper},o.a.createElement("div",null,o.a.createElement("center",null,o.a.createElement("img",{style:{margin:"0 auto",width:"70%"},src:Tn.a,alt:"Whats"}))),o.a.createElement(tn.e,{initialValues:l,enableReinitialize:!0,validationSchema:Hl,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{Object.assign(e,{recurrence:"MENSAL"}),Object.assign(e,{dueDate:s}),Object.assign(e,{status:"t"}),Object.assign(e,{campaignsEnabled:!0});try{await Ke.post("/companies/cadastro",e),C.b.success(Le.a.t("signup.toasts.success")),t.push("/login")}catch(a){console.log(a),He(a)}})(e),a.setSubmitting(!1)},400)}},t=>{let{touched:a,errors:n,isSubmitting:r}=t;return o.a.createElement(tn.d,{className:e.form},o.a.createElement(_a.a,{container:!0,spacing:2},o.a.createElement(_a.a,{item:!0,xs:12},o.a.createElement(tn.b,{as:it.a,autoComplete:"name",name:"name",error:a.name&&Boolean(n.name),helperText:a.name&&n.name,variant:"outlined",fullWidth:!0,id:"name",label:Le.a.t("signup.form.name")})),o.a.createElement(_a.a,{item:!0,xs:12},o.a.createElement(tn.b,{as:it.a,variant:"outlined",fullWidth:!0,id:"email",label:Le.a.t("signup.form.email"),name:"email",error:a.email&&Boolean(n.email),helperText:a.email&&n.email,autoComplete:"email",required:!0})),o.a.createElement(_a.a,{item:!0,xs:12},o.a.createElement(tn.b,{as:_o.a,mask:"(99) 99999-9999",variant:"outlined",fullWidth:!0,id:"phone",name:"phone",error:a.phone&&Boolean(n.phone),helperText:a.phone&&n.phone,autoComplete:"phone",required:!0},e=>{let{field:t}=e;return o.a.createElement(it.a,Object.assign({},t,{variant:"outlined",fullWidth:!0,label:Le.a.t("signup.form.phone"),inputProps:{maxLength:11}}))})),o.a.createElement(_a.a,{item:!0,xs:12},o.a.createElement(tn.b,{as:it.a,variant:"outlined",fullWidth:!0,name:"password",error:a.password&&Boolean(n.password),helperText:a.password&&n.password,label:Le.a.t("signup.form.password"),type:"password",id:"password",autoComplete:"current-password",required:!0})),o.a.createElement(_a.a,{item:!0,xs:12},o.a.createElement(nn.a,{htmlFor:"plan-selection"},"Plano"),o.a.createElement(tn.b,{as:an.a,variant:"outlined",fullWidth:!0,id:"plan-selection",label:Le.a.t("signup.form.plan"),name:"planId",required:!0},c.map((e,t)=>o.a.createElement(F.a,{key:t,value:e.id},e.name," - ",Le.a.t("signup.plan.attendant"),": ",e.users," - ",Le.a.t("signup.plan.whatsapp"),": ",e.connections," - ",Le.a.t("signup.plan.queues"),": ",e.queues," - R$ ",e.value))))),o.a.createElement(st.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},Le.a.t("signup.buttons.submit")),o.a.createElement(_a.a,{container:!0,justify:"flex-end"},o.a.createElement(_a.a,{item:!0},o.a.createElement(Er.a,{href:"#",variant:"body2",component:v.b,to:"/login"},Le.a.t("signup.buttons.login")))))})),o.a.createElement(Lt.a,{mt:5}))},Vl=a(531);const Ql=()=>o.a.createElement(D.a,{variant:"body2",color:"primary",align:"center"},"Copyright ",o.a.createElement(Er.a,{color:"primary",href:"#"},Vl.a," - v ",Vl.b)," ",(new Date).getFullYear(),"."),Kl=Object(k.a)(e=>({root:{width:"100vw",height:"100vh",backgroundColor:e.palette.primary.main,backgroundRepeat:"no-repeat",backgroundSize:"100% 100%",backgroundPosition:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",position:"relative"},paper:{backgroundColor:e.palette.login,display:"flex",flexDirection:"column",alignItems:"center",padding:"55px 30px",borderRadius:"12.5px"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},powered:{color:"white"},languageControl:{position:"absolute",top:0,left:0,paddingLeft:15}}));var Gl=()=>{const e=Kl(),[t,a]=Object(n.useState)({email:"",password:""}),[r,l]=Object(n.useState)(null),[s,c]=Object(n.useState)(!1),{handleLogin:d}=Object(n.useContext)($e),m=e=>{a({...t,[e.target.name]:e.target.value})};return o.a.createElement("div",{className:e.root},o.a.createElement("div",{className:e.languageControl},o.a.createElement(I.a,{edge:"start"},o.a.createElement(Wn.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:e=>{l(e.currentTarget),c(!0)},variant:"contained",style:{color:"white",marginRight:10}})),o.a.createElement(q.a,{id:"menu-appbar-language",anchorEl:r,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:()=>{l(null),c(!1)}},o.a.createElement(F.a,null,o.a.createElement(Ln,null)))),o.a.createElement(Hn.a,{component:"main",maxWidth:"xs"},o.a.createElement(i.a,null),o.a.createElement("div",{className:e.paper},o.a.createElement("div",null,o.a.createElement("img",{style:{margin:"0 auto",width:"70%"},src:Tn.a,alt:"Whats"})),o.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:e=>{e.preventDefault(),d(t)}},o.a.createElement(it.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:Le.a.t("login.form.email"),name:"email",value:t.email,onChange:m,autoComplete:"email",autoFocus:!0}),o.a.createElement(it.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:Le.a.t("login.form.password"),type:"password",id:"password",value:t.password,onChange:m,autoComplete:"current-password"}),o.a.createElement(st.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},Le.a.t("login.buttons.submit")),o.a.createElement(_a.a,{container:!0},o.a.createElement(_a.a,{item:!0},o.a.createElement(Er.a,{href:"#",variant:"body2",component:v.b,to:"/signup"},Le.a.t("login.buttons.register")))))),o.a.createElement(Lt.a,{mt:8},o.a.createElement(Ql,null))))},Yl=a(1555),Xl=a(1556),_l=a(1557),Zl=a(1558),Jl=a(1559),$l=a(1560),ei=a(1561);const ti=Object(k.a)(e=>({mainContainer:{flex:1,padding:e.spacing(2),height:"calc(100% - 48px)"},contentWrapper:{height:"100%",overflowY:"hidden",display:"flex",flexDirection:"column"}}));var ai=e=>{let{children:t}=e;const a=ti();return o.a.createElement(Hn.a,{className:a.mainContainer},o.a.createElement("div",{className:a.contentWrapper},t))};const ni=Object(k.a)(e=>({contactsHeader:{display:"flex",alignItems:"center",padding:"0px 6px 6px 6px"}}));var oi=e=>{let{children:t}=e;const a=ni();return o.a.createElement("div",{className:a.contactsHeader},t)};const ri=Object(k.a)(e=>({MainHeaderButtonsWrapper:{flex:"none",marginLeft:"auto","& > *":{margin:e.spacing(1)}}}));var li=e=>{let{children:t}=e;const a=ri();return o.a.createElement("div",{className:a.MainHeaderButtonsWrapper},t)};function ii(e){return o.a.createElement(D.a,{variant:"h5",color:"primary",gutterBottom:!0},e.children)}const si=Object(k.a)(e=>({customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}}));var ci=e=>{let{avatar:t,columns:a}=e;const n=si();return o.a.createElement(o.a.Fragment,null,o.a.createElement(io.a,null,t&&o.a.createElement(o.a.Fragment,null,o.a.createElement(oo.a,{style:{paddingRight:0}},o.a.createElement(Ta.a,{animation:"wave",variant:"circle",width:40,height:40})),o.a.createElement(oo.a,null,o.a.createElement(Ta.a,{animation:"wave",height:30,width:80}))),Array.from({length:a},(e,t)=>o.a.createElement(oo.a,{align:"center",key:t},o.a.createElement("div",{className:n.customTableCell},o.a.createElement(Ta.a,{align:"center",animation:"wave",height:30,width:80}))))))};const di=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),mi=en.b().shape({name:en.d().min(2,Le.a.t("whatsappModal.formErrors.name.short")).max(50,Le.a.t("whatsappModal.formErrors.name.long")).required(Le.a.t("whatsappModal.formErrors.name.required"))});var ui=o.a.memo(e=>{let{open:t,onClose:a,whatsAppId:r}=e;const l=di(),i={name:"",greetingMessage:"",complationMessage:"",outOfHoursMessage:"",ratingMessage:"",isDefault:!1,token:"",provider:"beta",expiresInactiveMessage:"",expiresTicket:0,timeUseBotQueues:0,maxUseBotQueues:3,integration:null},[s,c]=Object(n.useState)(i),[d,m]=Object(n.useState)([]),[u,p]=Object(n.useState)([]),[g,b]=Object(n.useState)(null),[E,f]=Object(n.useState)(null),[A,h]=Object(n.useState)([]),[y,v]=Object(n.useState)([]),[x,w]=Object(n.useState)(null);Object(n.useEffect)(()=>{(async()=>{if(r)try{var e;const{data:t}=await Ge.get("whatsapp/".concat(r,"?session=0"));c(t),f(t.promptId),w(t.integrationId);const a=null===(e=t.queues)||void 0===e?void 0:e.map(e=>e.id);m(a),b(t.transferQueueId)}catch(t){He(t)}})()},[r]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ge.get("/prompt");h(e.prompts);const{data:t}=await Ge.get("/queueIntegration");v(t.queueIntegrations)}catch(e){He(e)}})()},[r]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ge.get("/queue");p(e)}catch(e){He(e)}})()},[]);const S=e=>{f(e.target.value),m([])},O=e=>{w(e.target.value)},k=()=>{a(),c(i),b(null),m([])};return o.a.createElement("div",{className:l.root},o.a.createElement(ta.a,{open:t,onClose:k,maxWidth:"md",fullWidth:!0,scroll:"paper"},o.a.createElement(pa.a,null,r?Le.a.t("whatsappModal.title.edit"):Le.a.t("whatsappModal.title.add")),o.a.createElement(tn.e,{initialValues:s,enableReinitialize:!0,validationSchema:mi,onSubmit:(e,t)=>{setTimeout(()=>{(async e=>{const t={...e,queueIds:d,transferQueueId:g,promptId:E||null,integrationId:x};delete t.queues,delete t.session;try{r?await Ge.put("/whatsapp/".concat(r),t):await Ge.post("/whatsapp",t),C.b.success(Le.a.t("whatsappModal.success")),k()}catch(a){He(a)}})(e),t.setSubmitting(!1)},400)}},e=>{let{values:t,touched:a,errors:n,isSubmitting:i}=e;return o.a.createElement(tn.d,null,o.a.createElement(ua.a,{dividers:!0},o.a.createElement("div",{className:l.multFieldLine},o.a.createElement(_a.a,{spacing:2,container:!0},o.a.createElement(_a.a,{item:!0},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("whatsappModal.form.name"),autoFocus:!0,name:"name",error:a.name&&Boolean(n.name),helperText:a.name&&n.name,variant:"outlined",margin:"dense",className:l.textField})),o.a.createElement(_a.a,{style:{paddingTop:15},item:!0},o.a.createElement(qn.a,{control:o.a.createElement(tn.b,{as:Vo.a,color:"primary",name:"isDefault",checked:t.isDefault}),label:Le.a.t("whatsappModal.form.default")})))),o.a.createElement("div",null,o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,rows:4,fullWidth:!0,name:"greetingMessage",error:a.greetingMessage&&Boolean(n.greetingMessage),helperText:a.greetingMessage&&n.greetingMessage,variant:"outlined",margin:"dense"})),o.a.createElement("div",null,o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueModal.form.complationMessage"),type:"complationMessage",multiline:!0,rows:4,fullWidth:!0,name:"complationMessage",error:a.complationMessage&&Boolean(n.complationMessage),helperText:a.complationMessage&&n.complationMessage,variant:"outlined",margin:"dense"})),o.a.createElement("div",null,o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueModal.form.outOfHoursMessage"),type:"outOfHoursMessage",multiline:!0,rows:4,fullWidth:!0,name:"outOfHoursMessage",error:a.outOfHoursMessage&&Boolean(n.outOfHoursMessage),helperText:a.outOfHoursMessage&&n.outOfHoursMessage,variant:"outlined",margin:"dense"})),o.a.createElement("div",null,o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueModal.form.ratingMessage"),type:"ratingMessage",multiline:!0,rows:4,fullWidth:!0,name:"ratingMessage",error:a.ratingMessage&&Boolean(n.ratingMessage),helperText:a.ratingMessage&&n.ratingMessage,variant:"outlined",margin:"dense"})),o.a.createElement("div",null,o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueModal.form.token"),type:"token",fullWidth:!0,name:"token",variant:"outlined",margin:"dense"})),o.a.createElement(sn,{selectedQueueIds:d,onChange:e=>(m(e),void f(null))}),o.a.createElement(on.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(nn.a,null,Le.a.t("whatsappModal.form.prompt")),o.a.createElement(an.a,{labelId:"dialog-select-prompt-label",id:"dialog-select-prompt",name:"promptId",value:E||"",onChange:S,label:Le.a.t("whatsappModal.form.prompt"),fullWidth:!0,MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},A.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name)))),o.a.createElement(on.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(nn.a,null,Le.a.t("whatsappModal.form.integration")),o.a.createElement(an.a,{labelId:"dialog-select-integration-label",id:"dialog-select-integration",name:"promptId",value:x||"",onChange:O,label:Le.a.t("whatsappModal.form.integration"),fullWidth:!0,MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},y.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name)))),o.a.createElement("div",null,o.a.createElement("h3",null,Le.a.t("whatsappModal.form.queueRedirection")),o.a.createElement("p",null,Le.a.t("whatsappModal.form.queueRedirectionDesc")),o.a.createElement(_a.a,{container:!0,spacing:2},o.a.createElement(_a.a,{item:!0,sm:6},o.a.createElement(tn.b,{fullWidth:!0,type:"number",as:it.a,label:Le.a.t("whatsappModal.form.timeToTransfer"),name:"timeToTransfer",error:a.timeToTransfer&&Boolean(n.timeToTransfer),helperText:a.timeToTransfer&&n.timeToTransfer,variant:"outlined",margin:"dense",className:l.textField,InputLabelProps:{shrink:!!t.timeToTransfer}})),o.a.createElement(_a.a,{item:!0,sm:6},o.a.createElement(sn,{selectedQueueIds:g,onChange:e=>{b(e)},multiple:!1,title:Le.a.t("whatsappModal.form.queue")}))),o.a.createElement(_a.a,{spacing:2,container:!0},o.a.createElement(_a.a,{xs:12,md:12,item:!0},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("whatsappModal.form.expiresTicket"),fullWidth:!0,name:"expiresTicket",variant:"outlined",margin:"dense",error:a.expiresTicket&&Boolean(n.expiresTicket),helperText:a.expiresTicket&&n.expiresTicket}))),o.a.createElement("div",null,o.a.createElement(tn.b,{as:it.a,label:Le.a.t("whatsappModal.form.expiresInactiveMessage"),multiline:!0,rows:4,fullWidth:!0,name:"expiresInactiveMessage",error:a.expiresInactiveMessage&&Boolean(n.expiresInactiveMessage),helperText:a.expiresInactiveMessage&&n.expiresInactiveMessage,variant:"outlined",margin:"dense"})))),o.a.createElement(aa.a,null,o.a.createElement(st.a,{onClick:k,color:"secondary",disabled:i,variant:"outlined"},Le.a.t("whatsappModal.buttons.cancel")),o.a.createElement(st.a,{type:"submit",color:"primary",disabled:i,variant:"contained",className:l.btnWrapper},r?Le.a.t("whatsappModal.buttons.okEdit"):Le.a.t("whatsappModal.buttons.okAdd"),i&&o.a.createElement(Wt.a,{size:24,className:l.buttonProgress}))))})))}),pi=a(862),gi=a.n(pi);var bi=o.a.memo(e=>{let{open:t,onClose:a,whatsAppId:r}=e;const[l,i]=Object(n.useState)(""),s=(Object(T.a)(),Object(n.useContext)(y));return Object(n.useEffect)(()=>{(async()=>{if(r)try{const{data:e}=await Ge.get("/whatsapp/".concat(r));i(e.qrcode)}catch(e){He(e)}})()},[r]),Object(n.useEffect)(()=>{if(!r)return;const e=localStorage.getItem("companyId"),t=s.getSocket(e);return t.on("company-".concat(e,"-whatsappSession"),e=>{"update"===e.action&&e.session.id===r&&i(e.session.qrcode),"update"===e.action&&""===e.session.qrcode&&a()}),()=>{t.disconnect()}},[r,a,s]),o.a.createElement(ta.a,{open:t,onClose:a,maxWidth:"lg",scroll:"paper"},o.a.createElement(ua.a,null,o.a.createElement(xn.a,{elevation:0,style:{display:"flex",alignItems:"center"}},o.a.createElement("div",{style:{marginRight:"20px"}},o.a.createElement(D.a,{variant:"h2",component:"h2",color:"textPrimary",gutterBottom:!0,style:{fontFamily:"Montserrat",fontWeight:"bold",fontSize:"20px"}},Le.a.t("qrCodeModal.title")),o.a.createElement(D.a,{variant:"body1",color:"textPrimary",gutterBottom:!0},Le.a.t("qrCodeModal.steps.one")),o.a.createElement(D.a,{variant:"body1",color:"textPrimary",gutterBottom:!0},Le.a.t("qrCodeModal.steps.two.partOne")," ",o.a.createElement("svg",{class:"MuiSvgIcon-root",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true"},o.a.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}))," ",Le.a.t("qrCodeModal.steps.two.partTwo")," ",o.a.createElement("svg",{class:"MuiSvgIcon-root",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true"},o.a.createElement("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}))," ",Le.a.t("qrCodeModal.steps.two.partThree")),o.a.createElement(D.a,{variant:"body1",color:"textPrimary",gutterBottom:!0},Le.a.t("qrCodeModal.steps.three")),o.a.createElement(D.a,{variant:"body1",color:"textPrimary",gutterBottom:!0},Le.a.t("qrCodeModal.steps.four"))),o.a.createElement("div",null,l?o.a.createElement(gi.a,{value:l,size:256}):o.a.createElement("span",null,Le.a.t("qrCodeModal.waiting"))))))});const Ei=Object(k.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles},customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"},tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9",maxWidth:450},tooltipPopper:{textAlign:"center"},buttonProgress:{color:Pt.a[500]}})),fi=e=>{let{title:t,content:a,children:n}=e;const r=Ei();return o.a.createElement(Gt.a,{arrow:!0,classes:{tooltip:r.tooltip,popper:r.tooltipPopper},title:o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{gutterBottom:!0,color:"inherit"},t),a&&o.a.createElement(D.a,null,a))},n)};var Ai=()=>{const e=Ei(),{user:t}=Object(n.useContext)($e),{whatsApps:a,loading:r}=Object(n.useContext)(_e),[l,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[u,p]=Object(n.useState)(!1),g={action:"",title:"",message:"",whatsAppId:"",open:!1},[b,E]=Object(n.useState)(g),f=()=>{m(null),i(!0)},A=Object(n.useCallback)(()=>{i(!1),m(null)},[m,i]),h=Object(n.useCallback)(()=>{m(null),c(!1)},[c,m]),y=(e,t)=>{"disconnect"===e&&E({action:e,title:Le.a.t("connections.confirmationModal.disconnectTitle"),message:Le.a.t("connections.confirmationModal.disconnectMessage"),whatsAppId:t}),"delete"===e&&E({action:e,title:Le.a.t("connections.confirmationModal.deleteTitle"),message:Le.a.t("connections.confirmationModal.deleteMessage"),whatsAppId:t}),p(!0)},v=e=>o.a.createElement(o.a.Fragment,null,"qrcode"===e.status&&o.a.createElement(st.a,{size:"small",variant:"contained",color:"primary",onClick:()=>(e=>{m(e),c(!0)})(e)},Le.a.t("connections.buttons.qrcode")),"DISCONNECTED"===e.status&&o.a.createElement(o.a.Fragment,null,o.a.createElement(st.a,{size:"small",variant:"outlined",color:"primary",onClick:()=>(async e=>{try{await Ge.post("/whatsappsession/".concat(e))}catch(t){He(t)}})(e.id)},Le.a.t("connections.buttons.tryAgain"))," ",o.a.createElement(st.a,{size:"small",variant:"outlined",color:"secondary",onClick:()=>(async e=>{try{await Ge.put("/whatsappsession/".concat(e))}catch(t){He(t)}})(e.id)},Le.a.t("connections.buttons.newQr"))),("CONNECTED"===e.status||"PAIRING"===e.status||"TIMEOUT"===e.status)&&o.a.createElement(st.a,{size:"small",variant:"outlined",color:"secondary",onClick:()=>{y("disconnect",e.id)}},Le.a.t("connections.buttons.disconnect")),"OPENING"===e.status&&o.a.createElement(st.a,{size:"small",variant:"outlined",disabled:!0,color:"default"},Le.a.t("connections.buttons.connecting")));return o.a.createElement(ai,null,o.a.createElement(ga,{title:b.title,open:u,onClose:p,onConfirm:async()=>{if("disconnect"===b.action)try{await Ge.delete("/whatsappsession/".concat(b.whatsAppId))}catch(e){He(e)}if("delete"===b.action)try{await Ge.delete("/whatsapp/".concat(b.whatsAppId)),C.b.success(Le.a.t("connections.toasts.deleted"))}catch(e){He(e)}E(g)}},b.message),o.a.createElement(bi,{open:s,onClose:h,whatsAppId:!l&&(null===d||void 0===d?void 0:d.id)}),o.a.createElement(ui,{open:l,onClose:A,whatsAppId:!s&&(null===d||void 0===d?void 0:d.id)}),o.a.createElement(oi,null,o.a.createElement(ii,null,Le.a.t("connections.title")),o.a.createElement(li,null,o.a.createElement(at,{role:t.profile,perform:"connections-page:addConnection",yes:()=>o.a.createElement(st.a,{variant:"contained",color:"primary",onClick:f},Le.a.t("connections.buttons.add"))}))),o.a.createElement(xn.a,{className:e.mainPaper,variant:"outlined"},o.a.createElement(ao.a,{size:"small"},o.a.createElement(lo.a,null,o.a.createElement(io.a,null,o.a.createElement(oo.a,{align:"center"},Le.a.t("connections.table.name")),o.a.createElement(oo.a,{align:"center"},Le.a.t("connections.table.status")),o.a.createElement(at,{role:t.profile,perform:"connections-page:actionButtons",yes:()=>o.a.createElement(oo.a,{align:"center"},Le.a.t("connections.table.session"))}),o.a.createElement(oo.a,{align:"center"},Le.a.t("connections.table.lastUpdate")),o.a.createElement(oo.a,{align:"center"},Le.a.t("connections.table.default")),o.a.createElement(at,{role:t.profile,perform:"connections-page:editOrDeleteConnection",yes:()=>o.a.createElement(oo.a,{align:"center"},Le.a.t("connections.table.actions"))}))),o.a.createElement(no.a,null,r?o.a.createElement(ci,null):o.a.createElement(o.a.Fragment,null,(null===a||void 0===a?void 0:a.length)>0&&a.map(a=>o.a.createElement(io.a,{key:a.id},o.a.createElement(oo.a,{align:"center"},a.name),o.a.createElement(oo.a,{align:"center"},(t=>o.a.createElement("div",{className:e.customTableCell},"DISCONNECTED"===t.status&&o.a.createElement(fi,{title:Le.a.t("connections.toolTips.disconnected.title"),content:Le.a.t("connections.toolTips.disconnected.content")},o.a.createElement(Yl.a,{color:"secondary"})),"OPENING"===t.status&&o.a.createElement(Wt.a,{size:24,className:e.buttonProgress}),"qrcode"===t.status&&o.a.createElement(fi,{title:Le.a.t("connections.toolTips.qrcode.title"),content:Le.a.t("connections.toolTips.qrcode.content")},o.a.createElement(Xl.a,null)),"CONNECTED"===t.status&&o.a.createElement(fi,{title:Le.a.t("connections.toolTips.connected.title")},o.a.createElement(_l.a,{style:{color:Pt.a[500]}})),("TIMEOUT"===t.status||"PAIRING"===t.status)&&o.a.createElement(fi,{title:Le.a.t("connections.toolTips.timeout.title"),content:Le.a.t("connections.toolTips.timeout.content")},o.a.createElement(Zl.a,{color:"secondary"}))))(a)),o.a.createElement(at,{role:t.profile,perform:"connections-page:actionButtons",yes:()=>o.a.createElement(oo.a,{align:"center"},v(a))}),o.a.createElement(oo.a,{align:"center"},Object(Ot.a)(Object(Mt.a)(a.updatedAt),"dd/MM/yy HH:mm")),o.a.createElement(oo.a,{align:"center"},a.isDefault&&o.a.createElement("div",{className:e.customTableCell},o.a.createElement(Jl.a,{style:{color:Pt.a[500]}}))),o.a.createElement(at,{role:t.profile,perform:"connections-page:editOrDeleteConnection",yes:()=>o.a.createElement(oo.a,{align:"center"},o.a.createElement(I.a,{size:"small",onClick:()=>(e=>{m(e),i(!0)})(a)},o.a.createElement($l.a,null)),o.a.createElement(I.a,{size:"small",onClick:e=>{y("delete",a.id)}},o.a.createElement(ei.a,null)))}))))))))},hi=a(655);const yi=Object(k.a)(e=>({root:{width:"100%"},fullWidth:{width:"100%"},textfield:{width:"100%"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:"right",padding:e.spacing(1)}}));var vi=function(e){const{initialValues:t,onSubmit:a,loading:r,labelSaveButton:l}=e,i=yi(),[s,c]=Object(n.useState)([{weekday:"Segunda-feira",weekdayEn:"monday",startTime:"",endTime:""},{weekday:"Ter\xe7a-feira",weekdayEn:"tuesday",startTime:"",endTime:""},{weekday:"Quarta-feira",weekdayEn:"wednesday",startTime:"",endTime:""},{weekday:"Quinta-feira",weekdayEn:"thursday",startTime:"",endTime:""},{weekday:"Sexta-feira",weekdayEn:"friday",startTime:"",endTime:""},{weekday:"S\xe1bado",weekdayEn:"saturday",startTime:"",endTime:""},{weekday:"Domingo",weekdayEn:"sunday",startTime:"",endTime:""}]);return Object(n.useEffect)(()=>{Object(ze.isArray)(t)&&t.length>0&&c(t)},[t]),o.a.createElement(tn.e,{enableReinitialize:!0,className:i.fullWidth,initialValues:{schedules:s},onSubmit:e=>{let{schedules:t}=e;return setTimeout(()=>{a(t)},500)}},e=>{let{values:t}=e;return o.a.createElement(tn.d,{className:i.fullWidth},o.a.createElement(tn.c,{name:"schedules",render:e=>o.a.createElement(_a.a,{spacing:4,container:!0},t.schedules.map((e,t)=>o.a.createElement(Hn.a,null,o.a.createElement(tn.a,{as:it.a,label:Le.a.t("settings.schedules.form.weekday"),name:"schedules[".concat(t,"].weekday"),disabled:!0,variant:"outlined",style:{marginRight:"3.2%",width:"30%"},margin:"dense"}),o.a.createElement(tn.a,{name:"schedules[".concat(t,"].startTime")},e=>{let{field:t}=e;return o.a.createElement(hi.a,Object.assign({label:Le.a.t("settings.schedules.form.initialHour")},t,{variant:"outlined",margin:"dense",customInput:it.a,format:"##:##",style:{marginRight:"3.2%",width:"30%"}}))}),o.a.createElement(tn.a,{name:"schedules[".concat(t,"].endTime")},e=>{let{field:t}=e;return o.a.createElement(hi.a,Object.assign({label:Le.a.t("settings.schedules.form.finalHour")},t,{variant:"outlined",margin:"dense",customInput:it.a,format:"##:##",style:{marginRight:"3.2%",width:"30%"}}))}))))}),o.a.createElement("div",{style:{textAlign:"center",marginTop:"2%"},className:i.buttonContainer},o.a.createElement(zt,{loading:r,type:"submit",color:"primary",variant:"contained"},null!==l&&void 0!==l?l:Le.a.t("settings.schedules.form.save"))))})};var xi=()=>({save:async e=>{const{data:t}=await Ge.request({url:"/companies",method:"POST",data:e});return t},update:async e=>{const{data:t}=await Ge.request({url:"/companies/".concat(e.id),method:"PUT",data:e});return t},remove:async e=>{const{data:t}=await Ge.request({url:"/companies/".concat(e),method:"DELETE"});return t},list:async e=>{const{data:t}=await Ge.request({url:"/companies/list",method:"GET"});return t},find:async e=>{const{data:t}=await Ge.request({url:"/companies/".concat(e),method:"GET"});return t},finding:async e=>{const{data:t}=await Ge.request({url:"/companies/".concat(e),method:"GET"});return t},findAll:async e=>{const{data:t}=await Ge.request({url:"/companies",method:"GET"});return t},updateSchedules:async e=>{const{data:t}=await Ge.request({url:"/companies/".concat(e.id,"/schedules"),method:"PUT",data:e});return t}});const Ci=Object(k.a)(e=>({chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}));var wi=e=>{let{selectedQueueIds:t,companyId:a,onChange:r}=e;const l=Ci(),[i,s]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ge.get("/queue",{params:{companyId:a}});s(e)}catch(e){He(e)}})()},[a]);return o.a.createElement("div",{style:{marginTop:6}},o.a.createElement(on.a,{fullWidth:!0,margin:"dense",variant:"outlined"},o.a.createElement(nn.a,null,Le.a.t("queueSelect.inputLabel")),o.a.createElement(an.a,{multiple:!0,labelWidth:60,value:t,onChange:e=>{r(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:e=>o.a.createElement("div",{className:l.chips},(null===e||void 0===e?void 0:e.length)>0&&e.map(e=>{const t=i.find(t=>t.id===e);return t?o.a.createElement(rn.a,{key:e,style:{backgroundColor:t.color},variant:"outlined",label:t.name,className:l.chip}):null}))},i.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name)))))};const Si=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}})),Oi=en.b().shape({name:en.d().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:en.d().min(5,"Too Short!").max(50,"Too Long!"),email:en.d().email("Invalid email").required("Required")});var ki=e=>{let{open:t,onClose:a,userId:r,companyId:l}=e;const i=Si(),s={name:"",email:"",password:"",profile:"user"},{user:c}=Object(n.useContext)($e),[d,m]=Object(n.useState)(s),[u,p]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{if(r&&t)try{var e;const{data:t}=await Ge.get("/users/".concat(r));m(e=>({...e,...t}));const a=null===(e=t.queues)||void 0===e?void 0:e.map(e=>e.id);p(a)}catch(a){He(a)}})()},[r,t]);const g=()=>{a(),m(s)};return o.a.createElement("div",{className:i.root},o.a.createElement(ta.a,{open:t,onClose:g,maxWidth:"xs",fullWidth:!0,scroll:"paper"},o.a.createElement(pa.a,{id:"form-dialog-title"},"".concat(r?Le.a.t("userModal.title.edit"):Le.a.t("userModal.title.add"))),o.a.createElement(tn.e,{initialValues:d,enableReinitialize:!0,validationSchema:Oi,onSubmit:(e,t)=>{setTimeout(()=>{(async e=>{const t={...e,companyId:l,queueIds:u};try{r?await Ge.put("/users/".concat(r),t):await Ge.post("/users",t),C.b.success(Le.a.t("userModal.success"))}catch(a){He(a)}g()})(e),t.setSubmitting(!1)},400)}},e=>{let{touched:t,errors:a,isSubmitting:n}=e;return o.a.createElement(tn.d,null,o.a.createElement(ua.a,{dividers:!0},o.a.createElement("div",{className:i.multFieldLine},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("userModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(a.name),helperText:t.name&&a.name,variant:"outlined",margin:"dense",fullWidth:!0}),o.a.createElement(tn.b,{as:it.a,label:Le.a.t("userModal.form.password"),type:"password",name:"password",error:t.password&&Boolean(a.password),helperText:t.password&&a.password,variant:"outlined",margin:"dense",fullWidth:!0})),o.a.createElement("div",{className:i.multFieldLine},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("userModal.form.email"),name:"email",error:t.email&&Boolean(a.email),helperText:t.email&&a.email,variant:"outlined",margin:"dense",fullWidth:!0}),o.a.createElement(on.a,{variant:"outlined",className:i.formControl,margin:"dense"},o.a.createElement(at,{role:c.profile,perform:"user-modal:editProfile",yes:()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(nn.a,{id:"profile-selection-input-label"},Le.a.t("userModal.form.profile")),o.a.createElement(tn.b,{as:an.a,label:Le.a.t("userModal.form.profile"),name:"profile",labelId:"profile-selection-label",id:"profile-selection",required:!0},o.a.createElement(F.a,{value:"admin"},"Admin"),o.a.createElement(F.a,{value:"user"},"User")))}))),o.a.createElement(at,{role:c.profile,perform:"user-modal:editQueues",yes:()=>o.a.createElement(wi,{companyId:l,selectedQueueIds:u,onChange:e=>p(e)})})),o.a.createElement(aa.a,null,o.a.createElement(st.a,{onClick:g,color:"secondary",disabled:n,variant:"outlined"},Le.a.t("userModal.buttons.cancel")),o.a.createElement(st.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},"".concat(r?Le.a.t("userModal.buttons.okEdit"):Le.a.t("userModal.buttons.okAdd")),n&&o.a.createElement(Wt.a,{size:24,className:i.buttonProgress}))))})))};const Ti=Object(k.a)(e=>({root:{width:"100%"},mainPaper:{width:"100%",flex:1,padding:e.spacing(2)},fullWidth:{width:"100%"},tableContainer:{width:"100%",overflowX:"scroll",...e.scrollbarStyles},textfield:{width:"100%"},textRight:{textAlign:"right"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:"right",padding:e.spacing(1)}}));function ji(e){const{onSubmit:t,onDelete:a,onCancel:r,initialValue:l,loading:i}=e,s=Ti(),[c,d]=Object(n.useState)([]),[m,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)({}),[b,E]=Object(n.useState)({name:"",email:"",phone:"",planId:"",status:!0,campaignsEnabled:!1,dueDate:"",recurrence:"",...l}),{list:f}=yt();Object(n.useEffect)(()=>{!async function(){const e=await f();d(e)}()},[]),Object(n.useEffect)(()=>{E(e=>(O()(l).isValid()&&(l.dueDate=O()(l.dueDate).format("YYYY-MM-DD")),{...e,...l}))},[l]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(ki,{userId:p.id,companyId:l.id,open:m,onClose:()=>{g({}),u(!1)}}),o.a.createElement(tn.e,{enableReinitialize:!0,className:s.fullWidth,initialValues:b,onSubmit:(e,a)=>{let{resetForm:n}=a;return setTimeout(()=>{(async e=>{""!==e.dueDate&&!1!==O()(e.dueDate).isValid()||(e.dueDate=null),t(e),E({...l,dueDate:""})})(e),n()},500)}},(e,t)=>o.a.createElement(tn.d,{className:s.fullWidth},o.a.createElement(_a.a,{spacing:2,justifyContent:"flex-end",container:!0},o.a.createElement(_a.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("settings.company.form.name"),name:"name",variant:"outlined",className:s.fullWidth,margin:"dense"})),o.a.createElement(_a.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("settings.company.form.email"),name:"email",variant:"outlined",className:s.fullWidth,margin:"dense",required:!0})),o.a.createElement(_a.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("settings.company.form.phone"),name:"phone",variant:"outlined",className:s.fullWidth,margin:"dense"})),o.a.createElement(_a.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(on.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(nn.a,{htmlFor:"plan-selection"},Le.a.t("settings.company.form.plan")),o.a.createElement(tn.b,{as:an.a,id:"plan-selection",label:Le.a.t("settings.company.form.plan"),labelId:"plan-selection-label",name:"planId",margin:"dense",required:!0},c.map((e,t)=>o.a.createElement(F.a,{key:t,value:e.id},e.name))))),o.a.createElement(_a.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(on.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(nn.a,{htmlFor:"status-selection"},Le.a.t("settings.company.form.status")),o.a.createElement(tn.b,{as:an.a,id:"status-selection",label:Le.a.t("settings.company.form.status"),labelId:"status-selection-label",name:"status",margin:"dense"},o.a.createElement(F.a,{value:!0},Le.a.t("settings.company.form.yes")),o.a.createElement(F.a,{value:!1},Le.a.t("settings.company.form.no"))))),o.a.createElement(_a.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(on.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(nn.a,{htmlFor:"status-selection"},Le.a.t("settings.company.form.campanhas")),o.a.createElement(tn.b,{as:an.a,id:"campaigns-selection",label:Le.a.t("settings.company.form.campanhas"),labelId:"campaigns-selection-label",name:"campaignsEnabled",margin:"dense"},o.a.createElement(F.a,{value:!0},Le.a.t("settings.company.form.enabled")),o.a.createElement(F.a,{value:!1},Le.a.t("settings.company.form.disabled"))))),o.a.createElement(_a.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(on.a,{variant:"outlined",fullWidth:!0},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("settings.company.form.dueDate"),type:"date",name:"dueDate",InputLabelProps:{shrink:!0},variant:"outlined",fullWidth:!0,margin:"dense"}))),o.a.createElement(_a.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(on.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(nn.a,{htmlFor:"recorrencia-selection"},Le.a.t("settings.company.form.recurrence")),o.a.createElement(tn.b,{as:an.a,label:Le.a.t("settings.company.form.recurrence"),labelId:"recorrencia-selection-label",id:"recurrence",name:"recurrence",margin:"dense"},o.a.createElement(F.a,{value:"MENSAL"},Le.a.t("settings.company.form.monthly"))))),o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(_a.a,{justifyContent:"flex-end",spacing:1,container:!0},o.a.createElement(_a.a,{xs:4,md:1,item:!0},o.a.createElement(zt,{className:s.fullWidth,style:{marginTop:7},loading:i,onClick:()=>r(),variant:"contained"},Le.a.t("settings.company.buttons.clear"))),void 0!==b.id?o.a.createElement(o.a.Fragment,null,o.a.createElement(_a.a,{xs:6,md:1,item:!0},o.a.createElement(zt,{style:{marginTop:7},className:s.fullWidth,loading:i,onClick:()=>a(b),variant:"contained",color:"secondary"},Le.a.t("settings.company.buttons.delete"))),o.a.createElement(_a.a,{xs:6,md:2,item:!0},o.a.createElement(zt,{style:{marginTop:7},className:s.fullWidth,loading:i,onClick:()=>(()=>{const e={...b};if(""!==e.dueDate&&null!==e.dueDate)switch(e.recurrence){case"MENSAL":e.dueDate=O()(e.dueDate).add(1,"month").format("YYYY-MM-DD");break;case"BIMESTRAL":e.dueDate=O()(e.dueDate).add(2,"month").format("YYYY-MM-DD");break;case"TRIMESTRAL":e.dueDate=O()(e.dueDate).add(3,"month").format("YYYY-MM-DD");break;case"SEMESTRAL":e.dueDate=O()(e.dueDate).add(6,"month").format("YYYY-MM-DD");break;case"ANUAL":e.dueDate=O()(e.dueDate).add(12,"month").format("YYYY-MM-DD")}E(e)})(),variant:"contained",color:"primary"},Le.a.t("settings.company.buttons.expire"))),o.a.createElement(_a.a,{xs:6,md:1,item:!0},o.a.createElement(zt,{style:{marginTop:7},className:s.fullWidth,loading:i,onClick:()=>(async()=>{try{const{data:e}=await Ge.get("/users/list",{params:{companyId:l.id}});Object(ze.isArray)(e)&&e.length&&g(Object(ze.head)(e)),u(!0)}catch(e){C.b.error(e)}})(),variant:"contained",color:"primary"},Le.a.t("settings.company.buttons.user")))):null,o.a.createElement(_a.a,{xs:6,md:1,item:!0},o.a.createElement(zt,{className:s.fullWidth,style:{marginTop:7},loading:i,type:"submit",variant:"contained",color:"primary"},Le.a.t("settings.company.buttons.save")))))))))}function Ii(e){const{records:t,onSelect:a}=e,n=Ti(),{dateToClient:r}=jn(),l=e=>{if(O()(e.dueDate).isValid()){const t=O()(),a=O()(e.dueDate).diff(t,"days");if(5===a)return{backgroundColor:"#fffead"};if(a>=-3&&a<=4)return{backgroundColor:"#f7cc8f"};if(-4===a)return{backgroundColor:"#fa8c8c"}}return{}};return o.a.createElement(xn.a,{className:n.tableContainer},o.a.createElement(ao.a,{className:n.fullWidth,size:"small","aria-label":"a dense table"},o.a.createElement(lo.a,null,o.a.createElement(io.a,null,o.a.createElement(oo.a,{align:"center",style:{width:"1%"}},"#"),o.a.createElement(oo.a,{align:"left"},Le.a.t("settings.company.form.name")),o.a.createElement(oo.a,{align:"left"},Le.a.t("settings.company.form.email")),o.a.createElement(oo.a,{align:"left"},Le.a.t("settings.company.form.phone")),o.a.createElement(oo.a,{align:"left"},Le.a.t("settings.company.form.plan")),o.a.createElement(oo.a,{align:"left"},Le.a.t("settings.company.form.campanhas")),o.a.createElement(oo.a,{align:"left"},Le.a.t("settings.company.form.status")),o.a.createElement(oo.a,{align:"left"},Le.a.t("settings.company.form.createdAt")),o.a.createElement(oo.a,{align:"left"},Le.a.t("settings.company.form.expire")))),o.a.createElement(no.a,null,t.map((e,t)=>o.a.createElement(io.a,{style:l(e),key:t},o.a.createElement(oo.a,{align:"center",style:{width:"1%"}},o.a.createElement(I.a,{onClick:()=>a(e),"aria-label":"delete"},o.a.createElement($l.a,null))),o.a.createElement(oo.a,{align:"left"},e.name||"-"),o.a.createElement(oo.a,{align:"left"},e.email||"-"),o.a.createElement(oo.a,{align:"left"},e.phone||"-"),o.a.createElement(oo.a,{align:"left"},(e=>null!==e.planId?e.plan.name:"-")(e)),o.a.createElement(oo.a,{align:"left"},(e=>{if(Object(ze.has)(e,"settings")&&Object(ze.isArray)(e.settings)&&e.settings.length>0){const t=e.settings.find(e=>"campaignsEnabled"===e.key);if(t)return"true"===t.value?Le.a.t("settings.company.form.enabled"):Le.a.t("settings.company.form.disabled")}return Le.a.t("settings.company.form.disabled")})(e)),o.a.createElement(oo.a,{align:"left"},(e=>!1===e.status?"N\xe3o":"Sim")(e)),o.a.createElement(oo.a,{align:"left"},r(e.createdAt)),o.a.createElement(oo.a,{align:"left"},r(e.dueDate),o.a.createElement("br",null),o.a.createElement("span",null,e.recurrence)))))))}function Ni(){const e=Ti(),{list:t,save:a,update:r,remove:l}=xi(),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)([]),[p,g]=Object(n.useState)({name:"",email:"",phone:"",planId:"",status:!0,campaignsEnabled:!1,dueDate:"",recurrence:""});Object(n.useEffect)(()=>{b()},[]);const b=async()=>{d(!0);try{const e=await t();u(e)}catch(e){C.b.error(Le.a.t("settings.company.toasts.errorList"))}d(!1)},E=()=>{g(e=>({...e,id:void 0,name:"",email:"",phone:"",planId:"",status:!0,campaignsEnabled:!1,dueDate:"",recurrence:""}))};return o.a.createElement(xn.a,{className:e.mainPaper,elevation:0},o.a.createElement(_a.a,{spacing:2,container:!0},o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(ji,{initialValue:p,onDelete:()=>{s(!0)},onSubmit:async e=>{d(!0);try{0!==e.id&&void 0!==e.id?await r(e):await a(e),await b(),E(),C.b.success(Le.a.t("settings.company.toasts.success"))}catch(t){C.b.error(Le.a.t("settings.company.toasts.error"))}d(!1)},onCancel:E,loading:c})),o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(Ii,{records:m,onSelect:e=>{let t=!1;const a=e.settings.find(e=>e.key.indexOf("campaignsEnabled")>-1);a&&(t="true"===a.value||"enabled"===a.value),g(a=>({...a,id:e.id,name:e.name||"",phone:e.phone||"",email:e.email||"",planId:e.planId||"",status:!1!==e.status,campaignsEnabled:t,dueDate:e.dueDate||"",recurrence:e.recurrence||""}))}}))),o.a.createElement(ga,{title:Le.a.t("settings.company.confirmModal.title"),open:i,onClose:()=>s(!1),onConfirm:()=>(async()=>{d(!0);try{await l(p.id),await b(),E(),C.b.success(Le.a.t("settings.company.toasts.success"))}catch(e){C.b.error(Le.a.t("settings.company.toasts.errorOperation"))}d(!1)})()},Le.a.t("settings.company.confirmModal.message")))}const Mi=Object(k.a)(e=>({root:{width:"100%"},mainPaper:{width:"100%",flex:1,padding:e.spacing(2)},fullWidth:{width:"100%"},tableContainer:{width:"100%",overflowX:"scroll",...e.scrollbarStyles},textfield:{width:"100%"},textRight:{textAlign:"right"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:"right",padding:e.spacing(1)}}));function Pi(e){const{onSubmit:t,onDelete:a,onCancel:r,initialValue:l,loading:i}=e,s=Mi(),[c,d]=Object(n.useState)({name:"",users:0,connections:0,queues:0,value:0,useCampaigns:!0,useSchedules:!0,useInternalChat:!0,useExternalApi:!0,useKanban:!0,useOpenAi:!0,useIntegrations:!0});Object(n.useEffect)(()=>{d(l)},[l]);return o.a.createElement(tn.e,{enableReinitialize:!0,className:s.fullWidth,initialValues:c,onSubmit:(e,a)=>{let{resetForm:n}=a;return setTimeout(()=>{(async e=>{t(e)})(e),n()},500)}},e=>o.a.createElement(tn.d,{className:s.fullWidth},o.a.createElement(_a.a,{spacing:1,justifyContent:"flex-start",container:!0},o.a.createElement(_a.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("plans.form.name"),name:"name",variant:"outlined",className:s.fullWidth,margin:"dense"})),o.a.createElement(_a.a,{xs:12,sm:6,md:1,item:!0},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("plans.form.users"),name:"users",variant:"outlined",className:s.fullWidth,margin:"dense",type:"number"})),o.a.createElement(_a.a,{xs:12,sm:6,md:1,item:!0},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("plans.form.connections"),name:"connections",variant:"outlined",className:s.fullWidth,margin:"dense",type:"number"})),o.a.createElement(_a.a,{xs:12,sm:6,md:1,item:!0},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("plans.form.queues"),name:"queues",variant:"outlined",className:s.fullWidth,margin:"dense",type:"number"})),o.a.createElement(_a.a,{xs:12,sm:6,md:1,item:!0},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("plans.form.value"),name:"value",variant:"outlined",className:s.fullWidth,margin:"dense",type:"text"})),o.a.createElement(_a.a,{xs:12,sm:6,md:2,item:!0},o.a.createElement(on.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(nn.a,{htmlFor:"useCampaigns-selection"},Le.a.t("plans.form.campaigns")),o.a.createElement(tn.b,{as:an.a,id:"useCampaigns-selection",label:Le.a.t("plans.form.campaigns"),labelId:"useCampaigns-selection-label",name:"useCampaigns",margin:"dense"},o.a.createElement(F.a,{value:!0},Le.a.t("plans.form.enabled")),o.a.createElement(F.a,{value:!1},Le.a.t("plans.form.disabled"))))),o.a.createElement(_a.a,{xs:12,sm:8,md:2,item:!0},o.a.createElement(on.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(nn.a,{htmlFor:"useSchedules-selection"},Le.a.t("plans.form.schedules")),o.a.createElement(tn.b,{as:an.a,id:"useSchedules-selection",label:Le.a.t("plans.form.schedules"),labelId:"useSchedules-selection-label",name:"useSchedules",margin:"dense"},o.a.createElement(F.a,{value:!0},Le.a.t("plans.form.enabled")),o.a.createElement(F.a,{value:!1},Le.a.t("plans.form.disabled"))))),o.a.createElement(_a.a,{xs:12,sm:8,md:2,item:!0},o.a.createElement(on.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(nn.a,{htmlFor:"useInternalChat-selection"},Le.a.t("plans.form.internalChat")),o.a.createElement(tn.b,{as:an.a,id:"useInternalChat-selection",label:Le.a.t("plans.form.internalChat"),labelId:"useInternalChat-selection-label",name:"useInternalChat",margin:"dense"},o.a.createElement(F.a,{value:!0},Le.a.t("plans.form.enabled")),o.a.createElement(F.a,{value:!1},Le.a.t("plans.form.disabled"))))),o.a.createElement(_a.a,{xs:12,sm:8,md:4,item:!0},o.a.createElement(on.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(nn.a,{htmlFor:"useExternalApi-selection"},Le.a.t("plans.form.externalApi")),o.a.createElement(tn.b,{as:an.a,id:"useExternalApi-selection",label:Le.a.t("plans.form.externalApi"),labelId:"useExternalApi-selection-label",name:"useExternalApi",margin:"dense"},o.a.createElement(F.a,{value:!0},Le.a.t("plans.form.enabled")),o.a.createElement(F.a,{value:!1},Le.a.t("plans.form.disabled"))))),o.a.createElement(_a.a,{xs:12,sm:8,md:2,item:!0},o.a.createElement(on.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(nn.a,{htmlFor:"useKanban-selection"},Le.a.t("plans.form.kanban")),o.a.createElement(tn.b,{as:an.a,id:"useKanban-selection",label:Le.a.t("plans.form.kanban"),labelId:"useKanban-selection-label",name:"useKanban",margin:"dense"},o.a.createElement(F.a,{value:!0},Le.a.t("plans.form.enabled")),o.a.createElement(F.a,{value:!1},Le.a.t("plans.form.disabled"))))),o.a.createElement(_a.a,{xs:12,sm:8,md:2,item:!0},o.a.createElement(on.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(nn.a,{htmlFor:"useOpenAi-selection"},"Open.Ai"),o.a.createElement(tn.b,{as:an.a,id:"useOpenAi-selection",label:"Talk.Ai",labelId:"useOpenAi-selection-label",name:"useOpenAi",margin:"dense"},o.a.createElement(F.a,{value:!0},Le.a.t("plans.form.enabled")),o.a.createElement(F.a,{value:!1},Le.a.t("plans.form.disabled"))))),o.a.createElement(_a.a,{xs:12,sm:8,md:2,item:!0},o.a.createElement(on.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(nn.a,{htmlFor:"useIntegrations-selection"},Le.a.t("plans.form.integrations")),o.a.createElement(tn.b,{as:an.a,id:"useIntegrations-selection",label:Le.a.t("plans.form.integrations"),labelId:"useIntegrations-selection-label",name:"useIntegrations",margin:"dense"},o.a.createElement(F.a,{value:!0},Le.a.t("plans.form.enabled")),o.a.createElement(F.a,{value:!1},Le.a.t("plans.form.disabled")))))),o.a.createElement(_a.a,{spacing:2,justifyContent:"flex-end",container:!0},o.a.createElement(_a.a,{sm:3,md:2,item:!0},o.a.createElement(zt,{className:s.fullWidth,loading:i,onClick:()=>r(),variant:"contained"},Le.a.t("plans.form.clear"))),void 0!==c.id?o.a.createElement(_a.a,{sm:3,md:2,item:!0},o.a.createElement(zt,{className:s.fullWidth,loading:i,onClick:()=>a(c),variant:"contained",color:"secondary"},Le.a.t("plans.form.delete"))):null,o.a.createElement(_a.a,{sm:3,md:2,item:!0},o.a.createElement(zt,{className:s.fullWidth,loading:i,type:"submit",variant:"contained",color:"primary"},Le.a.t("plans.form.save"))))))}function Ri(e){const{records:t,onSelect:a}=e,n=Mi();return o.a.createElement(xn.a,{className:n.tableContainer},o.a.createElement(ao.a,{className:n.fullWidth,padding:"none","aria-label":"a dense table"},o.a.createElement(lo.a,null,o.a.createElement(io.a,null,o.a.createElement(oo.a,{align:"center",style:{width:"1%"}},"#"),o.a.createElement(oo.a,{align:"left"},Le.a.t("plans.form.name")),o.a.createElement(oo.a,{align:"center"},Le.a.t("plans.form.users")),o.a.createElement(oo.a,{align:"center"},Le.a.t("plans.form.connections")),o.a.createElement(oo.a,{align:"center"},Le.a.t("plans.form.queues")),o.a.createElement(oo.a,{align:"center"},Le.a.t("plans.form.value")),o.a.createElement(oo.a,{align:"center"},Le.a.t("plans.form.campaigns")),o.a.createElement(oo.a,{align:"center"},Le.a.t("plans.form.schedules")),o.a.createElement(oo.a,{align:"center"},Le.a.t("plans.form.internalChat")),o.a.createElement(oo.a,{align:"center"},Le.a.t("plans.form.externalApi")),o.a.createElement(oo.a,{align:"center"},Le.a.t("plans.form.kanban")),o.a.createElement(oo.a,{align:"center"},"Open.Ai"),o.a.createElement(oo.a,{align:"center"},Le.a.t("plans.form.integrations")))),o.a.createElement(no.a,null,t.map(e=>o.a.createElement(io.a,{key:e.id},o.a.createElement(oo.a,{align:"center",style:{width:"1%"}},o.a.createElement(I.a,{onClick:()=>a(e),"aria-label":"delete"},o.a.createElement($l.a,null))),o.a.createElement(oo.a,{align:"left"},e.name||"-"),o.a.createElement(oo.a,{align:"center"},e.users||"-"),o.a.createElement(oo.a,{align:"center"},e.connections||"-"),o.a.createElement(oo.a,{align:"center"},e.queues||"-"),o.a.createElement(oo.a,{align:"center"},Le.a.t("plans.form.money")," ",e.value?e.value.toLocaleString("pt-br",{minimumFractionDigits:2}):"00.00"),o.a.createElement(oo.a,{align:"center"},(e=>!1===e.useCampaigns?"".concat(Le.a.t("plans.form.no")):"".concat(Le.a.t("plans.form.yes")))(e)),o.a.createElement(oo.a,{align:"center"},(e=>!1===e.useSchedules?"".concat(Le.a.t("plans.form.no")):"".concat(Le.a.t("plans.form.yes")))(e)),o.a.createElement(oo.a,{align:"center"},(e=>!1===e.useInternalChat?"".concat(Le.a.t("plans.form.no")):"".concat(Le.a.t("plans.form.yes")))(e)),o.a.createElement(oo.a,{align:"center"},(e=>!1===e.useExternalApi?"".concat(Le.a.t("plans.form.no")):"".concat(Le.a.t("plans.form.yes")))(e)),o.a.createElement(oo.a,{align:"center"},(e=>!1===e.useKanban?"".concat(Le.a.t("plans.form.no")):"".concat(Le.a.t("plans.form.yes")))(e)),o.a.createElement(oo.a,{align:"center"},(e=>!1===e.useOpenAi?"".concat(Le.a.t("plans.form.no")):"".concat(Le.a.t("plans.form.yes")))(e)),o.a.createElement(oo.a,{align:"center"},(e=>!1===e.useIntegrations?"".concat(Le.a.t("plans.form.no")):"".concat(Le.a.t("plans.form.yes")))(e)))))))}function Di(){const e=Mi(),{list:t,save:a,update:r,remove:l}=yt(),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)([]),[p,g]=Object(n.useState)({name:"",users:0,connections:0,queues:0,value:0,useCampaigns:!0,useSchedules:!0,useInternalChat:!0,useExternalApi:!0,useKanban:!0,useOpenAi:!0,useIntegrations:!0});Object(n.useEffect)(()=>{!async function(){await b()}()},[p]);const b=async()=>{d(!0);try{const e=await t();u(e)}catch(e){C.b.error(Le.a.t("plans.toasts.errorList"))}d(!1)},E=()=>{g({id:void 0,name:"",users:0,connections:0,queues:0,value:0,useCampaigns:!0,useSchedules:!0,useInternalChat:!0,useExternalApi:!0,useKanban:!0,useOpenAi:!0,useIntegrations:!0})};return o.a.createElement(xn.a,{className:e.mainPaper,elevation:0},o.a.createElement(_a.a,{spacing:2,container:!0},o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(Pi,{initialValue:p,onDelete:()=>{s(!0)},onSubmit:async e=>{d(!0),console.log(e);try{void 0!==e.id?await r(e):await a(e),await b(),E(),C.b.success(Le.a.t("plans.toasts.success"))}catch(t){C.b.error(Le.a.t("plans.toasts.error"))}d(!1)},onCancel:E,loading:c})),o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(Ri,{records:m,onSelect:e=>{var t;let a=!1!==e.useCampaigns,n=!1!==e.useSchedules,o=!1!==e.useInternalChat,r=!1!==e.useExternalApi,l=!1!==e.useKanban,i=!1!==e.useOpenAi,s=!1!==e.useIntegrations;g({id:e.id,name:e.name||"",users:e.users||0,connections:e.connections||0,queues:e.queues||0,value:(null===(t=e.value)||void 0===t?void 0:t.toLocaleString("pt-br",{minimumFractionDigits:0}))||0,useCampaigns:a,useSchedules:n,useInternalChat:o,useExternalApi:r,useKanban:l,useOpenAi:i,useIntegrations:s})}}))),o.a.createElement(ga,{title:Le.a.t("plans.confirm.title"),open:i,onClose:()=>s(!1),onConfirm:()=>(async()=>{d(!0);try{await l(p.id),await b(),E(),C.b.success(Le.a.t("plans.toasts.success"))}catch(e){C.b.error(Le.a.t("plans.toasts.errorOperation"))}d(!1)})()},Le.a.t("plans.confirm.message")))}var qi=()=>({findAll:async e=>{const{data:t}=await Ge.request({url:"/helps",method:"GET",params:e});return t},list:async e=>{const{data:t}=await Ge.request({url:"/helps/list",method:"GET",params:e});return t},save:async e=>{const{data:t}=await Ge.request({url:"/helps",method:"POST",data:e});return t},update:async e=>{const{data:t}=await Ge.request({url:"/helps/".concat(e.id),method:"PUT",data:e});return t},remove:async e=>{const{data:t}=await Ge.request({url:"/helps/".concat(e),method:"DELETE"});return t}});const Fi=Object(k.a)(e=>({root:{width:"100%"},mainPaper:{width:"100%",flex:1,padding:e.spacing(2)},fullWidth:{width:"100%"},tableContainer:{width:"100%",overflowX:"scroll",...e.scrollbarStyles},textfield:{width:"100%"},textRight:{textAlign:"right"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:"right",padding:e.spacing(1)}}));function Li(e){const{onSubmit:t,onDelete:a,onCancel:r,initialValue:l,loading:i}=e,s=Fi(),[c,d]=Object(n.useState)(l);Object(n.useEffect)(()=>{d(l)},[l]);return o.a.createElement(tn.e,{enableReinitialize:!0,className:s.fullWidth,initialValues:c,onSubmit:(e,a)=>{let{resetForm:n}=a;return setTimeout(()=>{(async e=>{t(e)})(e),n()},500)}},e=>o.a.createElement(tn.d,{className:s.fullWidth},o.a.createElement(_a.a,{spacing:2,justifyContent:"flex-end",container:!0},o.a.createElement(_a.a,{xs:12,sm:6,md:3,item:!0},o.a.createElement(tn.b,{as:it.a,label:"T\xedtulo",name:"title",variant:"outlined",className:s.fullWidth,margin:"dense"})),o.a.createElement(_a.a,{xs:12,sm:6,md:3,item:!0},o.a.createElement(tn.b,{as:it.a,label:"C\xf3digo do V\xeddeo",name:"video",variant:"outlined",className:s.fullWidth,margin:"dense"})),o.a.createElement(_a.a,{xs:12,sm:12,md:6,item:!0},o.a.createElement(tn.b,{as:it.a,label:"Descri\xe7\xe3o",name:"description",variant:"outlined",className:s.fullWidth,margin:"dense"})),o.a.createElement(_a.a,{sm:3,md:1,item:!0},o.a.createElement(zt,{className:s.fullWidth,loading:i,onClick:()=>r(),variant:"contained"},Le.a.t("settings.helps.buttons.clean"))),void 0!==c.id?o.a.createElement(_a.a,{sm:3,md:1,item:!0},o.a.createElement(zt,{className:s.fullWidth,loading:i,onClick:()=>a(c),variant:"contained",color:"secondary"},Le.a.t("settings.helps.buttons.delete"))):null,o.a.createElement(_a.a,{sm:3,md:1,item:!0},o.a.createElement(zt,{className:s.fullWidth,loading:i,type:"submit",variant:"contained",color:"primary"},Le.a.t("settings.helps.buttons.save"))))))}function Wi(e){const{records:t,onSelect:a}=e,n=Fi();return o.a.createElement(xn.a,{className:n.tableContainer},o.a.createElement(ao.a,{className:n.fullWidth,size:"small","aria-label":"a dense table"},o.a.createElement(lo.a,null,o.a.createElement(io.a,null,o.a.createElement(oo.a,{align:"center",style:{width:"1%"}},"#"),o.a.createElement(oo.a,{align:"left"},Le.a.t("settings.helps.grid.title")),o.a.createElement(oo.a,{align:"left"},Le.a.t("settings.helps.grid.description")),o.a.createElement(oo.a,{align:"left"},Le.a.t("settings.helps.grid.video")))),o.a.createElement(no.a,null,t.map(e=>o.a.createElement(io.a,{key:e.id},o.a.createElement(oo.a,{align:"center",style:{width:"1%"}},o.a.createElement(I.a,{onClick:()=>a(e),"aria-label":"delete"},o.a.createElement($l.a,null))),o.a.createElement(oo.a,{align:"left"},e.title||"-"),o.a.createElement(oo.a,{align:"left"},e.description||"-"),o.a.createElement(oo.a,{align:"left"},e.video||"-"))))))}function Bi(){const e=Fi(),{list:t,save:a,update:r,remove:l}=qi(),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)([]),[p,g]=Object(n.useState)({title:"",description:"",video:""});Object(n.useEffect)(()=>{!async function(){await b()}()},[]);const b=async()=>{d(!0);try{const e=await t();u(e)}catch(e){C.b.error(Le.a.t("settings.helps.toasts.errorList"))}d(!1)},E=()=>{g({title:"",description:"",video:""})};return o.a.createElement(xn.a,{className:e.mainPaper,elevation:0},o.a.createElement(_a.a,{spacing:2,container:!0},o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(Li,{initialValue:p,onDelete:()=>{s(!0)},onSubmit:async e=>{d(!0);try{void 0!==e.id?await r(e):await a(e),await b(),E(),C.b.success(Le.a.t("settings.helps.toasts.success"))}catch(t){C.b.error(Le.a.t("settings.helps.toasts.error"))}d(!1)},onCancel:E,loading:c})),o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(Wi,{records:m,onSelect:e=>{g({id:e.id,title:e.title||"",description:e.description||"",video:e.video||""})}}))),o.a.createElement(ga,{title:Le.a.t("settings.helps.confirmModal.title"),open:i,onClose:()=>s(!1),onConfirm:()=>(async()=>{d(!0);try{await l(p.id),await b(),E(),C.b.success(Le.a.t("settings.helps.toasts.success"))}catch(e){C.b.error(Le.a.t("settings.helps.toasts.errorOperation"))}d(!1)})()},Le.a.t("settings.helps.confirmModal.confirm")))}var zi=()=>({getAll:async e=>{const{data:t}=await Ge.request({url:"/settings",method:"GET",params:e});return t},update:async e=>{const{data:t}=await Ge.request({url:"/settings/".concat(e.key),method:"PUT",data:e});return t}});const Hi=Object(k.a)(e=>({container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},fixedHeightPaper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:240},tab:{backgroundColor:e.palette.options,borderRadius:4,width:"100%","& .MuiTab-wrapper":{color:e.palette.fontecor},"& .MuiTabs-flexContainer":{justifyContent:"center"}},paper:{padding:e.spacing(2),display:"flex",alignItems:"center",marginBottom:12,width:"100%"},cardAvatar:{fontSize:"55px",color:Rt.a[500],backgroundColor:"#ffffff",width:e.spacing(7),height:e.spacing(7)},cardTitle:{fontSize:"18px",color:Dt.a[700]},cardSubtitle:{color:Rt.a[600],fontSize:"14px"},alignRight:{textAlign:"right"},fullWidth:{width:"100%"},selectContainer:{width:"100%",textAlign:"left"}}));function Ui(e){const{settings:t,scheduleTypeChanged:a}=e,r=Hi(),[l,i]=Object(n.useState)("disabled"),[s,c]=Object(n.useState)("disabled"),[d,m]=Object(n.useState)("enabled"),[u,p]=Object(n.useState)(""),[g,b]=Object(n.useState)("enabled"),[E,f]=Object(n.useState)(!1),[A,h]=Object(n.useState)(!1),[y,v]=Object(n.useState)(!1),[x,w]=Object(n.useState)(!1),[S,O]=Object(n.useState)(!1),[k,T]=Object(n.useState)(""),[j,I]=Object(n.useState)(!1),[N,M]=Object(n.useState)("disabled"),[P,R]=Object(n.useState)(!1),[D,q]=Object(n.useState)("disabled"),[L,W]=Object(n.useState)(!1),[B,z]=Object(n.useState)("disabled"),[H,U]=Object(n.useState)(!1),{update:V}=zi();return Object(n.useEffect)(()=>{if(Array.isArray(t)&&t.length){const e=t.find(e=>"userRating"===e.key);e&&i(e.value);const a=t.find(e=>"scheduleType"===e.key);a&&c(a.value);const n=t.find(e=>"call"===e.key);n&&m(n.value);const o=t.find(e=>"CheckMsgIsGroup"===e.key);o&&b(o.value);const r=t.find(e=>"sendGreetingAccepted"===e.key);r&&M(r.value);const l=t.find(e=>"sendMsgTransfTicket"===e.key);l&&q(l.value);const s=t.find(e=>"sendGreetingMessageOneQueues"===e.key);s&&z(s.value);const d=t.find(e=>"chatBotType"===e.key);d&&p(d.value);const u=t.find(e=>"asaas"===e.key);u&&T(u.value)}},[t]),o.a.createElement(o.a.Fragment,null,o.a.createElement(_a.a,{spacing:3,container:!0},o.a.createElement(_a.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(on.a,{className:r.selectContainer},o.a.createElement(nn.a,{id:"ratings-label"},Le.a.t("settings.options.fields.ratings.title")),o.a.createElement(an.a,{labelId:"ratings-label",value:l,onChange:async e=>{!async function(e){i(e),f(!0),await V({key:"userRating",value:e}),C.b.success(Le.a.t("settings.options.toasts.success")),f(!1)}(e.target.value)}},o.a.createElement(F.a,{value:"disabled"},Le.a.t("settings.options.fields.ratings.disabled")),o.a.createElement(F.a,{value:"enabled"},Le.a.t("settings.options.fields.ratings.enabled"))),o.a.createElement(Un.a,null,E&&Le.a.t("settings.options.updating")))),o.a.createElement(_a.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(on.a,{className:r.selectContainer},o.a.createElement(nn.a,{id:"schedule-type-label"},Le.a.t("settings.options.fields.expedientManager.title")),o.a.createElement(an.a,{labelId:"schedule-type-label",value:s,onChange:async e=>{!async function(e){c(e),h(!0),await V({key:"scheduleType",value:e}),C.b.success(Le.a.t("settings.options.toasts.success"),{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,theme:"light"}),h(!1),"function"===typeof a&&a(e)}(e.target.value)}},o.a.createElement(F.a,{value:"disabled"},Le.a.t("settings.options.fields.disabled")),o.a.createElement(F.a,{value:"queue"},Le.a.t("settings.options.fields.expedientManager.queue")),o.a.createElement(F.a,{value:"company"},Le.a.t("settings.options.fields.expedientManager.company"))),o.a.createElement(Un.a,null,A&&Le.a.t("settings.options.updating")))),o.a.createElement(_a.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(on.a,{className:r.selectContainer},o.a.createElement(nn.a,{id:"group-type-label"},Le.a.t("settings.options.fields.ignoreMessages.title")),o.a.createElement(an.a,{labelId:"group-type-label",value:g,onChange:async e=>{!async function(e){b(e),O(!0),await V({key:"CheckMsgIsGroup",value:e}),C.b.success(Le.a.t("settings.options.toasts.success")),b(!1)}(e.target.value)}},o.a.createElement(F.a,{value:"disabled"},Le.a.t("settings.options.fields.disabled")),o.a.createElement(F.a,{value:"enabled"},Le.a.t("settings.options.fields.active"))),o.a.createElement(Un.a,null,A&&Le.a.t("settings.options.updating")))),o.a.createElement(_a.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(on.a,{className:r.selectContainer},o.a.createElement(nn.a,{id:"call-type-label"},Le.a.t("settings.options.fields.acceptCall.title")),o.a.createElement(an.a,{labelId:"call-type-label",value:d,onChange:async e=>{!async function(e){m(e),v(!0),await V({key:"call",value:e}),C.b.success(Le.a.t("settings.options.toasts.success")),v(!1)}(e.target.value)}},o.a.createElement(F.a,{value:"disabled"},Le.a.t("settings.options.fields.acceptCall.disabled")),o.a.createElement(F.a,{value:"enabled"},Le.a.t("settings.options.fields.acceptCall.enabled"))),o.a.createElement(Un.a,null,y&&Le.a.t("settings.options.updating")))),o.a.createElement(_a.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(on.a,{className:r.selectContainer},o.a.createElement(nn.a,{id:"chatbot-type-label"},Le.a.t("settings.options.fields.chatbotType.title")),o.a.createElement(an.a,{labelId:"chatbot-type-label",value:u,onChange:async e=>{!async function(e){p(e),w(!0),await V({key:"chatBotType",value:e}),C.b.success(Le.a.t("settings.options.toasts.success")),w(!1)}(e.target.value)}},o.a.createElement(F.a,{value:"text"},Le.a.t("settings.options.fields.chatbotType.text"))),o.a.createElement(Un.a,null,x&&Le.a.t("settings.options.updating")))),o.a.createElement(_a.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(on.a,{className:r.selectContainer},o.a.createElement(nn.a,{id:"sendGreetingAccepted-label"},Le.a.t("settings.options.fields.sendGreetingAccepted.title")),o.a.createElement(an.a,{labelId:"sendGreetingAccepted-label",value:N,onChange:async e=>{!async function(e){M(e),R(!0),await V({key:"sendGreetingAccepted",value:e}),C.b.success(Le.a.t("settings.options.toasts.success")),R(!1)}(e.target.value)}},o.a.createElement(F.a,{value:"disabled"},Le.a.t("settings.options.fields.disabled")),o.a.createElement(F.a,{value:"enabled"},Le.a.t("settings.options.fields.enabled"))),o.a.createElement(Un.a,null,P&&Le.a.t("settings.options.updating")))),o.a.createElement(_a.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(on.a,{className:r.selectContainer},o.a.createElement(nn.a,{id:"sendMsgTransfTicket-label"},Le.a.t("settings.options.fields.sendMsgTransfTicket.title")),o.a.createElement(an.a,{labelId:"sendMsgTransfTicket-label",value:D,onChange:async e=>{!async function(e){q(e),W(!0),await V({key:"sendMsgTransfTicket",value:e}),C.b.success(Le.a.t("settings.options.toasts.success")),W(!1)}(e.target.value)}},o.a.createElement(F.a,{value:"disabled"},Le.a.t("settings.options.fields.disabled")),o.a.createElement(F.a,{value:"enabled"},Le.a.t("settings.options.fields.enabled"))),o.a.createElement(Un.a,null,L&&Le.a.t("settings.options.updating")))),o.a.createElement(_a.a,{xs:12,sm:6,md:4,item:!0},o.a.createElement(on.a,{className:r.selectContainer},o.a.createElement(nn.a,{id:"sendGreetingMessageOneQueues-label"},Le.a.t("settings.options.fields.sendGreetingMessageOneQueues.title")),o.a.createElement(an.a,{labelId:"sendGreetingMessageOneQueues-label",value:B,onChange:async e=>{!async function(e){z(e),U(!0),await V({key:"sendGreetingMessageOneQueues",value:e}),C.b.success(Le.a.t("settings.options.toasts.success")),U(!1)}(e.target.value)}},o.a.createElement(F.a,{value:"disabled"},Le.a.t("settings.options.fields.disabled")),o.a.createElement(F.a,{value:"enabled"},Le.a.t("settings.options.fields.enabled"))),o.a.createElement(Un.a,null,H&&Le.a.t("settings.options.updating"))))),o.a.createElement(_a.a,{spacing:3,container:!0},o.a.createElement(Lo.a,{indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",className:r.tab,style:{marginBottom:20,marginTop:20}},o.a.createElement(Wo.a,{label:Le.a.t("settings.options.tabs.integrations")}))),o.a.createElement(_a.a,{spacing:3,container:!0,style:{marginBottom:10}},o.a.createElement(Lo.a,{indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",className:r.tab},o.a.createElement(Wo.a,{label:"ASAAS"})),o.a.createElement(_a.a,{xs:12,sm:12,md:12,item:!0},o.a.createElement(on.a,{className:r.selectContainer},o.a.createElement(it.a,{id:"asaas",name:"asaas",margin:"dense",label:"Token Asaas",variant:"outlined",value:k,onChange:async e=>{!async function(e){T(e),I(!0),await V({key:"asaas",value:e}),C.b.success(Le.a.t("settings.options.toasts.success")),I(!1)}(e.target.value)}}),o.a.createElement(Un.a,null,j&&Le.a.t("settings.options.updating"))))))}const Vi=e=>{let{user:t,yes:a,no:n}=e;return t.super?a():n()};Vi.defaultProps={user:{},yes:()=>null,no:()=>null};var Qi=Vi;const Ki=Object(k.a)(e=>({root:{flex:1,backgroundColor:e.palette.background.paper},mainPaper:{...e.scrollbarStyles,overflowY:"scroll",flex:1},tab:{backgroundColor:e.palette.options,borderRadius:4},paper:{...e.scrollbarStyles,overflowY:"scroll",padding:e.spacing(2),display:"flex",alignItems:"center",width:"100%"},container:{width:"100%",maxHeight:"100%"},control:{padding:e.spacing(1)},textfield:{width:"100%"}}));var Gi=()=>{const e=Ki(),[t,a]=Object(n.useState)("options"),[r,l]=Object(n.useState)([]),[i,s]=Object(n.useState)({}),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)({}),[p,g]=Object(n.useState)({}),[b,E]=Object(n.useState)(!1),{getCurrentUserInfo:f}=Je(),{find:A,updateSchedules:h}=xi(),{getAll:y}=zi();Object(n.useEffect)(()=>{!async function(){d(!0);try{const e=localStorage.getItem("companyId"),t=await A(e),a=await y();if(s(t),l(t.schedules),g(a),Array.isArray(a)){const e=a.find(e=>"scheduleType"===e.key);e&&E("company"===e.value)}const n=await f();u(n)}catch(e){C.b.error(e)}d(!1)}()},[]);const v=()=>m.super;return o.a.createElement(ai,{className:e.root},o.a.createElement(oi,null,o.a.createElement(ii,null,Le.a.t("settings.title"))),o.a.createElement(xn.a,{className:e.mainPaper,elevation:1},o.a.createElement(Lo.a,{value:t,indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",onChange:(e,t)=>{!async function(){d(!0);try{const e=localStorage.getItem("companyId"),t=await A(e),a=await y();if(s(t),l(t.schedules),g(a),Array.isArray(a)){const e=a.find(e=>"scheduleType"===e.key);e&&E("company"===e.value)}const n=await f();u(n)}catch(e){C.b.error(e)}d(!1)}(),a(t)},className:e.tab},o.a.createElement(Wo.a,{label:Le.a.t("settings.tabs.options"),value:"options"}),b&&o.a.createElement(Wo.a,{label:Le.a.t("settings.tabs.schedules"),value:"schedules"}),v()?o.a.createElement(Wo.a,{label:Le.a.t("settings.tabs.companies"),value:"companies"}):null,v()?o.a.createElement(Wo.a,{label:Le.a.t("settings.tabs.plans"),value:"plans"}):null,v()?o.a.createElement(Wo.a,{label:Le.a.t("settings.tabs.helps"),value:"helps"}):null),o.a.createElement(xn.a,{className:e.paper,elevation:0},o.a.createElement(ir,{className:e.container,value:t,name:"schedules"},o.a.createElement(vi,{loading:c,onSubmit:async e=>{d(!0);try{l(e),await h({id:i.id,schedules:e}),C.b.success(Le.a.t("settings.schedulesUpdated"))}catch(t){C.b.error(t)}d(!1)},initialValues:r})),o.a.createElement(Qi,{user:m,yes:()=>o.a.createElement(ir,{className:e.container,value:t,name:"companies"},o.a.createElement(Ni,null))}),o.a.createElement(Qi,{user:m,yes:()=>o.a.createElement(ir,{className:e.container,value:t,name:"plans"},o.a.createElement(Di,null))}),o.a.createElement(Qi,{user:m,yes:()=>o.a.createElement(ir,{className:e.container,value:t,name:"helps"},o.a.createElement(Bi,null))}),o.a.createElement(ir,{className:e.container,value:t,name:"options"},o.a.createElement(Ui,{settings:p,scheduleTypeChanged:e=>E("company"===e)})))))},Yi=a(1623),Xi=a(1564),_i=a(1607);function Zi(e){const{errorText:t,...a}=e,[n,r]=Object(tn.f)(e);return o.a.createElement(it.a,Object.assign({type:"text",error:r.touched&&r.error&&!0,helperText:function(){const[e,t]=Object(ze.at)(r,"touched","error");if(e&&t)return t}()},n,a))}function Ji(e){const{label:t,data:a,...n}=e,[r,l]=Object(tn.f)(e),{value:i}=r,[s,c]=Object(ze.at)(l,"touched","error"),d=s&&c&&!0;return o.a.createElement(on.a,Object.assign({},n,{error:d}),o.a.createElement(nn.a,null,t),o.a.createElement(an.a,Object.assign({},r,{value:i||""}),a.map((e,t)=>o.a.createElement(F.a,{key:t,value:e.value},e.label))),function(){if(d)return o.a.createElement(Un.a,null,c)}())}Ji.defaultProps={data:[]};var $i=Ji;a(123),a(1592),a(914);const es=[{value:"BR",label:"Brasil"},{value:"usa",label:"United States"}];function ts(e){const{user:t}=Object(n.useContext)($e),[a,r]=Object(n.useState)(t.company.billingName),[l,i]=Object(n.useState)(t.company.addressZipCode),[s,c]=Object(n.useState)(t.company.addressStreet),[d,m]=Object(n.useState)(t.company.addressState),[u,p]=Object(n.useState)(t.company.addressCity),[g,b]=Object(n.useState)(t.company.addressDistrict),{formField:{firstName:E,address1:f,city:A,state:h,zipcode:y,country:v},setFieldValue:x}=e;return Object(n.useEffect)(()=>{x("firstName",a),x("zipcode",l),x("address2",s),x("state",d),x("city",u),x("country",g)},[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{variant:"h6",gutterBottom:!0},"Vamos precisar de algumas informa\xe7\xf5es"),o.a.createElement(_a.a,{container:!0,spacing:3},o.a.createElement(_a.a,{item:!0,xs:6,sm:6},o.a.createElement(Zi,{name:E.name,label:E.label,fullWidth:!0,value:a,onChange:e=>{r(e.target.value),x("firstName",e.target.value)}})),o.a.createElement(_a.a,{item:!0,xs:6,sm:6},o.a.createElement($i,{name:v.name,label:v.label,data:es,fullWidth:!0,value:g,onChange:e=>{b(e.target.value),x("country",e.target.value)}})),o.a.createElement(_a.a,{item:!0,xs:4},o.a.createElement(Zi,{name:y.name,label:y.label,fullWidth:!0,value:l,onChange:e=>{i(e.target.value),x("zipcode",e.target.value)}})),o.a.createElement(_a.a,{item:!0,xs:8},o.a.createElement(Zi,{name:f.name,label:f.label,fullWidth:!0,value:s,onChange:e=>{c(e.target.value),x("address2",e.target.value)}})),o.a.createElement(_a.a,{item:!0,xs:4},o.a.createElement(Zi,{name:h.name,label:h.label,fullWidth:!0,value:d,onChange:e=>{m(e.target.value),x("state",e.target.value)}})),o.a.createElement(_a.a,{item:!0,xs:8},o.a.createElement(Zi,{name:A.name,label:A.label,fullWidth:!0,value:u,onChange:e=>{p(e.target.value),x("city",e.target.value)}}))))}var as=a(1563),ns=a(1562),os=a(863),rs=a.n(os);const ls=Object(k.a)(e=>({"@global":{ul:{margin:0,padding:0,listStyle:"none"}},margin:{margin:e.spacing(1)},cardHeader:{backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[700]},cardPricing:{display:"flex",justifyContent:"center",alignItems:"baseline",marginBottom:e.spacing(2)},footer:{borderTop:"1px solid ".concat(e.palette.divider),marginTop:e.spacing(8),paddingTop:e.spacing(3),paddingBottom:e.spacing(3),[e.breakpoints.up("sm")]:{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)}},customCard:{display:"flex",marginTop:"16px",alignItems:"center",flexDirection:"column"},custom:{display:"flex",alignItems:"center",justifyContent:"space-between"}}));function is(e){const{setFieldValue:t,setActiveStep:a,activeStep:r}=e,{list:l,finder:i}=yt(),{find:s}=xi(),c=ls(),[d,m]=o.a.useState(3),[u,p]=Object(n.useState)(0),[g,b]=o.a.useState(3),[E,f]=o.a.useState([]),[A,h]=o.a.useState(49),[y,v]=o.a.useState(!1),x=localStorage.getItem("companyId");Object(n.useEffect)(()=>{!async function(){await C()}()},[]);const C=async()=>{v(!0);try{const e=await s(x);p(e.planId),await w(e.planId)}catch(e){console.log(e)}v(!1)},w=async e=>{v(!0);try{const t=await i(e),a=[];a.push({title:t.name,planId:t.id,price:t.value,description:["".concat(t.users," ").concat(Le.a.t("checkoutPage.pricing.users")),"".concat(t.connections," ").concat(Le.a.t("checkoutPage.pricing.connection")),"".concat(t.queues," ").concat(Le.a.t("checkoutPage.pricing.queues"))],users:t.users,connections:t.connections,queues:t.queues,buttonText:Le.a.t("checkoutPage.pricing.SELECT"),buttonVariant:"outlined"}),f(a)}catch(t){console.log(t)}v(!1)},S=E;return o.a.createElement(o.a.Fragment,null,o.a.createElement(_a.a,{container:!0,spacing:3},S.map(e=>o.a.createElement(_a.a,{item:!0,key:e.title,xs:12,sm:(e.title,12),md:12},o.a.createElement(Oa.a,null,o.a.createElement(ka.a,{title:e.title,subheader:e.subheader,titleTypographyProps:{align:"center"},subheaderTypographyProps:{align:"center"},action:"Pro"===e.title?o.a.createElement(rs.a,null):null,className:c.cardHeader}),o.a.createElement(ns.a,null,o.a.createElement("div",{className:c.cardPricing},o.a.createElement(D.a,{component:"h2",variant:"h3",color:"textPrimary"},o.a.createElement(o.a.Fragment,null,"R$",e.price.toLocaleString("pt-br",{minimumFractionDigits:2}))),o.a.createElement(D.a,{variant:"h6",color:"textSecondary"},"/",Le.a.t("checkoutPage.pricing.month"))),o.a.createElement("ul",null,e.description.map(e=>o.a.createElement(D.a,{component:"li",variant:"subtitle1",align:"center",key:e},e)))),o.a.createElement(as.a,null,o.a.createElement(st.a,{fullWidth:!0,variant:e.buttonVariant,color:"primary",onClick:()=>{e.custom?t("plan",JSON.stringify({users:d,connections:g,price:A})):t("plan",JSON.stringify(e)),a(r+1)}},e.buttonText)))))))}var ss=Object(k.a)(e=>({listItem:{padding:e.spacing(1,0)},total:{fontWeight:"700"},title:{marginTop:e.spacing(2)}}));var cs=function(e){const{formValues:t}=e,a=ss(),{plan:n}=t,r=JSON.parse(n),{users:l,connections:i,price:s}=r;return o.a.createElement(_a.a,{item:!0,xs:12,sm:12},o.a.createElement(D.a,{variant:"h6",gutterBottom:!0,className:a.title},Le.a.t("checkoutPage.review.details")),o.a.createElement(D.a,{gutterBottom:!0},Le.a.t("checkoutPage.review.users"),": ",l),o.a.createElement(D.a,{gutterBottom:!0},Le.a.t("checkoutPage.review.whatsapp"),": ",i),o.a.createElement(D.a,{gutterBottom:!0},Le.a.t("checkoutPage.review.charges")),o.a.createElement(D.a,{gutterBottom:!0},Le.a.t("checkoutPage.review.total"),": R$",s.toLocaleString("pt-br",{minimumFractionDigits:2})))};var ds,ms,us,ps,gs=function(){const{values:e}=Object(tn.g)();return o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{variant:"h6",gutterBottom:!0},Le.a.t("checkoutPage.review.title")),o.a.createElement(_a.a,{container:!0,spacing:2},o.a.createElement(cs,{formValues:e})))},bs=a(864),Es=a.n(bs),fs=a(135),As=a(227);As.default.div(ds||(ds=Object(fs.a)(["\n  footer {\n    margin-top: 30px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n\n    @media (max-width: 768px) {\n      flex-direction: column;\n      .checkout-buttons {\n        display: flex;\n        flex-direction: column-reverse;\n        width: 100%;\n\n        button {\n          width: 100%;\n          margin-top: 16px;\n          margin-left: 0;\n        }\n      }\n    }\n\n    button {\n      margin-left: 16px;\n    }\n  }\n"])));const hs=As.default.div(ms||(ms=Object(fs.a)(["\n  display: flex;\n  align-items: baseline;\n\n  span {\n    color: #333;\n    font-weight: bold;\n  }\n\n  strong {\n    color: #333;\n    font-size: 28px;\n    margin-left: 5px;\n  }\n\n  @media (max-width: 768px) {\n    min-width: 100%;\n    justify-content: space-between;\n  }\n"]))),ys=As.default.div(us||(us=Object(fs.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  > h2 {\n    text-align: center;\n  }\n\n  > svg {\n    margin-top: 16px;\n  }\n\n  > span {\n    margin-top: 24px;\n    text-align: center;\n  }\n\n  > p,\n  strong {\n    margin-top: 8px;\n    font-size: 9px;\n    color: #999;\n  }\n\n  .copy-button {\n    font-size: 14px;\n    cursor: pointer;\n    text-align: center;\n    user-select: none;\n    min-height: 56px;\n    display: inline-flex;\n    -webkit-box-pack: center;\n    justify-content: center;\n    -webkit-box-align: center;\n    align-items: center;\n    background-color: #f9f9f9;\n    color: #000;\n    -webkit-appearance: none !important;\n    outline: none;\n    margin-top: 16px;\n    width: 256px;\n    font-weight: 600;\n    text-transform: uppercase;\n    border: none;\n\n    > span {\n      margin-right: 8px;\n    }\n  }\n"])));As.default.div(ps||(ps=Object(fs.a)(["\n  width: 100%;\n  margin: 0 auto 0;\n  max-width: 1110px;\n  display: flex;\n  flex-direction: column;\n  -webkit-box-align: center;\n  align-items: center;\n  padding: 50px 95px;\n  background: #fff;\n  @media (max-width: 768px) {\n    padding: 16px 24px;\n"])));var vs=a(868),xs=a(395);var Cs=function(e){const{pix:t}=e,[a]=Object(n.useState)(t.qrcode.qrcode),[r,l]=Object(n.useState)(!1),i=Object(x.useHistory)(),{dateToClient:s}=jn(),c=Object(n.useContext)(y);return Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId");c.getSocket(e).on("company-".concat(e,"-payment"),e=>{"CONCLUIDA"===e.action&&(C.b.success("Sua licen\xe7a foi renovada at\xe9 ".concat(s(e.company.dueDate),"!")),setTimeout(()=>{i.push("/")},4e3))})},[i,c]),o.a.createElement(o.a.Fragment,null,o.a.createElement(hs,null,o.a.createElement("span",null,"TOTAL"),o.a.createElement("strong",null,"R$",t.valor.original.toLocaleString("pt-br",{minimumFractionDigits:2}))),o.a.createElement(ys,null,o.a.createElement(Es.a,{value:a}),o.a.createElement(vs.CopyToClipboard,{text:a,onCopy:()=>{setTimeout(()=>{l(!1)},1e3),l(!0)}},o.a.createElement("button",{className:"copy-button",type:"button"},r?o.a.createElement(o.a.Fragment,null,o.a.createElement("span",null,"Copiado"),o.a.createElement(xs.a,{size:18})):o.a.createElement(o.a.Fragment,null,o.a.createElement("span",null,"Copiar c\xf3digo QR"),o.a.createElement(xs.b,{size:18})))),o.a.createElement("span",null,"Para finalizar, basta realizar o pagamento escaneando ou colando o c\xf3digo Pix acima :)")))},ws={formId:"checkoutForm",formField:{firstName:{name:"firstName",label:Le.a.t("checkoutPage.form.firstName.label"),requiredErrorMsg:Le.a.t("checkoutPage.form.firstName.required")},lastName:{name:"lastName",label:Le.a.t("checkoutPage.form.lastName.label"),requiredErrorMsg:Le.a.t("checkoutPage.form.lastName.required")},address1:{name:"address2",label:Le.a.t("checkoutPage.form.address1.label"),requiredErrorMsg:Le.a.t("checkoutPage.form.address1.required")},city:{name:"city",label:Le.a.t("checkoutPage.form.city.label"),requiredErrorMsg:Le.a.t("checkoutPage.form.city.required")},state:{name:"state",label:Le.a.t("checkoutPage.form.state.label"),requiredErrorMsg:Le.a.t("checkoutPage.form.state.required")},zipcode:{name:"zipcode",label:Le.a.t("checkoutPage.form.zipcode.label"),requiredErrorMsg:Le.a.t("checkoutPage.form.zipcode.required"),invalidErrorMsg:Le.a.t("checkoutPage.form.zipcode.invalid")},country:{name:"country",label:Le.a.t("checkoutPage.form.country.label"),requiredErrorMsg:Le.a.t("checkoutPage.form.country.required")},useAddressForPaymentDetails:{name:"useAddressForPaymentDetails",label:Le.a.t("checkoutPage.form.useAddressForPaymentDetails.label")},invoiceId:{name:"invoiceId",label:Le.a.t("checkoutPage.form.invoiceId.label")},nameOnCard:{name:"nameOnCard",label:Le.a.t("checkoutPage.form.nameOnCard.label"),requiredErrorMsg:Le.a.t("checkoutPage.form.nameOnCard.required")},cardNumber:{name:"cardNumber",label:Le.a.t("checkoutPage.form.cardNumber.label"),requiredErrorMsg:Le.a.t("checkoutPage.form.cardNumber.required"),invalidErrorMsg:Le.a.t("checkoutPage.form.cardNumber.invalid")},expiryDate:{name:"expiryDate",label:Le.a.t("checkoutPage.form.expiryDate.label"),requiredErrorMsg:Le.a.t("checkoutPage.form.expiryDate.required"),invalidErrorMsg:Le.a.t("checkoutPage.form.expiryDate.invalid")},cvv:{name:"cvv",label:Le.a.t("checkoutPage.form.cvv.label"),requiredErrorMsg:Le.a.t("checkoutPage.form.cvv.required"),invalidErrorMsg:Le.a.t("checkoutPage.form.cvv.invalid")}}};const{formField:{firstName:Ss,address1:Os,city:ks,zipcode:Ts,country:js}}=ws;var Is=[en.b().shape({[Ss.name]:en.d().required("".concat(Ss.requiredErrorMsg)),[Os.name]:en.d().required("".concat(Os.requiredErrorMsg)),[ks.name]:en.d().nullable().required("".concat(ks.requiredErrorMsg)),[Ts.name]:en.d().required("".concat(Ts.requiredErrorMsg)),[js.name]:en.d().nullable().required("".concat(js.requiredErrorMsg))})];const{formField:{firstName:Ns,lastName:Ms,address1:Ps,city:Rs,state:Ds,zipcode:qs,country:Fs,useAddressForPaymentDetails:Ls,nameOnCard:Ws,cardNumber:Bs,invoiceId:zs,cvv:Hs}}=ws;var Us={[Ns.name]:"",[Ms.name]:"",[Ps.name]:"",[Rs.name]:"",[Ds.name]:"",[qs.name]:"",[Fs.name]:"",[Ls.name]:!1,[Ws.name]:"",[Bs.name]:"",[zs.name]:"",[Hs.name]:""},Vs=Object(k.a)(e=>({stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{position:"absolute",top:"50%",left:"50%"}}));var Qs=function(e){const t=[Le.a.t("checkoutPage.steps.data"),Le.a.t("checkoutPage.steps.customize"),Le.a.t("checkoutPage.steps.review")],{formId:a,formField:r}=ws,l=Vs(),[i,s]=Object(n.useState)(1),[c,d]=Object(n.useState)(null),[m,u]=Object(n.useState)(e.Invoice.id),p=Is[i],g=i===t.length-1,{user:b}=Object(n.useContext)($e);function E(){s(i-1)}return o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{component:"h1",variant:"h4",align:"center"},Le.a.t("checkoutPage.closeToEnd")),o.a.createElement(Yi.a,{activeStep:i,className:l.stepper},t.map(e=>o.a.createElement(Xi.a,{key:e},o.a.createElement(_i.a,null,e)))),o.a.createElement(o.a.Fragment,null,i===t.length?o.a.createElement(Cs,{pix:c}):o.a.createElement(tn.e,{initialValues:{...b,...Us},validationSchema:p,onSubmit:function(e,t){g?async function(e,t){try{const a=JSON.parse(e.plan),n={firstName:e.firstName,lastName:e.lastName,address2:e.address2,city:e.city,state:e.state,zipcode:e.zipcode,country:e.country,useAddressForPaymentDetails:e.useAddressForPaymentDetails,nameOnCard:e.nameOnCard,cardNumber:e.cardNumber,cvv:e.cvv,plan:e.plan,price:a.price,users:a.users,connections:a.connections,invoiceId:m},{data:o}=await Ge.post("/subscription",n);d(o),t.setSubmitting(!1),s(i+1),C.b.success(Le.a.t("checkoutPage.success"))}catch(a){He(a)}}(e,t):(s(i+1),t.setTouched({}),t.setSubmitting(!1))}},e=>{let{isSubmitting:t,setFieldValue:n,values:c}=e;return o.a.createElement(tn.d,{id:a},function(e,t,a,n){switch(e){case 0:return o.a.createElement(ts,{formField:r,values:n,setFieldValue:t});case 1:return o.a.createElement(is,{formField:r,setFieldValue:t,setActiveStep:a,activeStep:e,invoiceId:m,values:n});case 2:return o.a.createElement(gs,null);default:return o.a.createElement("div",null,"Not Found")}}(i,n,s,c),o.a.createElement("div",{className:l.buttons},1!==i&&o.a.createElement(st.a,{onClick:E,className:l.button},Le.a.t("checkoutPage.BACK")),o.a.createElement("div",{className:l.wrapper},1!==i&&o.a.createElement(st.a,{disabled:t,type:"submit",variant:"contained",color:"primary",className:l.button},g?Le.a.t("checkoutPage.PAY"):Le.a.t("checkoutPage.NEXT")),t&&o.a.createElement(Wt.a,{size:24,className:l.buttonProgress}))))})))};const Ks=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var Gs=e=>{let{open:t,onClose:a,Invoice:r,contactId:l,initialValues:i,onSave:s}=e;const c=Ks(),d=Object(n.useRef)(!0);Object(n.useEffect)(()=>()=>{d.current=!1},[]);return o.a.createElement("div",{className:c.root},o.a.createElement(ta.a,{open:t,onClose:()=>{a()},maxWidth:"md",scroll:"paper"},o.a.createElement(ua.a,{dividers:!0},o.a.createElement(Qs,{Invoice:r}))))};const Ys=(e,t)=>{if("LOAD_INVOICES"===t.type){const a=t.payload,n=[];return a.forEach(t=>{const a=e.findIndex(e=>e.id===t.id);-1!==a?e[a]=t:n.push(t)}),[...e,...n]}if("UPDATE_USERS"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a.id);return-1!==n?(e[n]=a,[...e]):[a,...e]}if("DELETE_USER"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===t.type)return[]},Xs=Object(k.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var _s=()=>{const e=Xs(),[t,a]=Object(n.useState)(!1),[r,l]=Object(n.useState)(1),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(""),[m,u]=Object(n.useReducer)(Ys,[]),[p,g]=o.a.useState([]),[b,E]=Object(n.useState)(null),[f,A]=Object(n.useState)(!1);Object(n.useEffect)(()=>{u({type:"RESET"}),l(1)},[c]),Object(n.useEffect)(()=>{a(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ge.get("/invoices/all",{params:{searchParam:c,pageNumber:r}});u({type:"LOAD_INVOICES",payload:e}),s(e.hasMore),a(!1)}catch(e){He(e)}})()},500);return()=>clearTimeout(e)},[c,r]);const h=e=>{const t=O()(O()()).format("DD/MM/yyyy"),a=O()(e.dueDate).format("DD/MM/yyyy");var n=O()(a,"DD/MM/yyyy").diff(O()(t,"DD/MM/yyyy"));if(O.a.duration(n).asDays()<0&&"paid"!==e.status)return{backgroundColor:"#ffbcbc9c"}},y=e=>{const t=O()(O()()).format("DD/MM/yyyy"),a=O()(e.dueDate).format("DD/MM/yyyy");var n=O()(a,"DD/MM/yyyy").diff(O()(t,"DD/MM/yyyy")),o=O.a.duration(n).asDays();return"paid"===e.status?Le.a.t("invoices.paid"):o<0?Le.a.t("invoices.expired"):Le.a.t("invoices.open")};return o.a.createElement(ai,null,o.a.createElement(Gs,{open:f,onClose:()=>{E(null),A(!1)},"aria-labelledby":"form-dialog-title",Invoice:p,contactId:b}),o.a.createElement(oi,null,o.a.createElement(ii,null,Le.a.t("invoices.title"))),o.a.createElement(xn.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!i||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(a+100)<o&&l(e=>e+1)}},o.a.createElement(ao.a,{size:"small"},o.a.createElement(lo.a,null,o.a.createElement(io.a,null,o.a.createElement(oo.a,{align:"center"},"Id"),o.a.createElement(oo.a,{align:"center"},Le.a.t("invoices.details")),o.a.createElement(oo.a,{align:"center"},Le.a.t("invoices.value")),o.a.createElement(oo.a,{align:"center"},Le.a.t("invoices.dueDate")),o.a.createElement(oo.a,{align:"center"},Le.a.t("invoices.status")),o.a.createElement(oo.a,{align:"center"},Le.a.t("invoices.action")))),o.a.createElement(no.a,null,o.a.createElement(o.a.Fragment,null,m.map(e=>o.a.createElement(io.a,{style:h(e),key:e.id},o.a.createElement(oo.a,{align:"center"},e.id),o.a.createElement(oo.a,{align:"center"},e.detail),o.a.createElement(oo.a,{style:{fontWeight:"bold"},align:"center"},e.value.toLocaleString("pt-br",{style:"currency",currency:"BRL"})),o.a.createElement(oo.a,{align:"center"},O()(e.dueDate).format("DD/MM/YYYY")),o.a.createElement(oo.a,{style:{fontWeight:"bold"},align:"center"},y(e)),o.a.createElement(oo.a,{align:"center"},y(e)!==Le.a.t("invoices.paid")?o.a.createElement(st.a,{size:"small",variant:"outlined",color:"secondary",onClick:()=>(e=>{g(e),E(null),A(!0)})(e)},Le.a.t("invoices.PAY")):o.a.createElement(st.a,{size:"small",variant:"outlined"},Le.a.t("invoices.PAID"))))),t&&o.a.createElement(ci,{columns:4}))))))},Zs=a(1376);const Js=(e,t)=>{if("LOAD_USERS"===t.type){const a=t.payload,n=[];return a.forEach(t=>{const a=e.findIndex(e=>e.id===t.id);-1!==a?e[a]=t:n.push(t)}),[...e,...n]}if("UPDATE_USERS"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a.id);return-1!==n?(e[n]=a,[...e]):[a,...e]}if("DELETE_USER"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===t.type)return[]},$s=Object(k.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var ec=()=>{const e=$s(),[t,a]=Object(n.useState)(!1),[r,l]=Object(n.useState)(1),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(null),[m,u]=Object(n.useState)(null),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)(!1),[f,A]=Object(n.useState)(""),[h,v]=Object(n.useReducer)(Js,[]),x=Object(n.useContext)(y);Object(n.useEffect)(()=>{v({type:"RESET"}),l(1)},[f]),Object(n.useEffect)(()=>{a(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ge.get("/users/",{params:{searchParam:f,pageNumber:r}});v({type:"LOAD_USERS",payload:e.users}),s(e.hasMore),a(!1)}catch(e){He(e)}})()},500);return()=>clearTimeout(e)},[f,r]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),t=x.getSocket(e);return t.on("company-".concat(e,"-user"),e=>{"update"!==e.action&&"create"!==e.action||v({type:"UPDATE_USERS",payload:e.user}),"delete"===e.action&&v({type:"DELETE_USER",payload:+e.userId})}),()=>{t.disconnect()}},[x]);return o.a.createElement(ai,null,o.a.createElement(ga,{title:m&&"".concat(Le.a.t("users.confirmationModal.deleteTitle")," ").concat(m.name,"?"),open:b,onClose:E,onConfirm:()=>(async e=>{try{await Ge.delete("/users/".concat(e)),C.b.success(Le.a.t("users.toasts.deleted"))}catch(t){He(t)}u(null),A(""),l(1)})(m.id)},Le.a.t("users.confirmationModal.deleteMessage")),o.a.createElement(mn,{open:p,onClose:()=>{d(null),g(!1)},"aria-labelledby":"form-dialog-title",userId:c&&c.id}),o.a.createElement(oi,null,o.a.createElement(ii,null,Le.a.t("users.title")),o.a.createElement(li,null,o.a.createElement(it.a,{placeholder:Le.a.t("contacts.searchPlaceholder"),type:"search",value:f,onChange:e=>{A(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(Zs.a,{position:"start"},o.a.createElement(qo.a,{style:{color:"gray"}}))}}),o.a.createElement(st.a,{variant:"contained",color:"primary",onClick:()=>{d(null),g(!0)}},Le.a.t("users.buttons.add")))),o.a.createElement(xn.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!i||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(a+100)<o&&l(e=>e+1)}},o.a.createElement(ao.a,{size:"small"},o.a.createElement(lo.a,null,o.a.createElement(io.a,null,o.a.createElement(oo.a,{align:"center"},Le.a.t("users.table.id")),o.a.createElement(oo.a,{align:"center"},Le.a.t("users.table.name")),o.a.createElement(oo.a,{align:"center"},Le.a.t("users.table.email")),o.a.createElement(oo.a,{align:"center"},Le.a.t("users.table.profile")),o.a.createElement(oo.a,{align:"center"},Le.a.t("users.table.actions")))),o.a.createElement(no.a,null,o.a.createElement(o.a.Fragment,null,h.map(e=>o.a.createElement(io.a,{key:e.id},o.a.createElement(oo.a,{align:"center"},e.id),o.a.createElement(oo.a,{align:"center"},e.name),o.a.createElement(oo.a,{align:"center"},e.email),o.a.createElement(oo.a,{align:"center"},e.profile),o.a.createElement(oo.a,{align:"center"},o.a.createElement(I.a,{size:"small",onClick:()=>(e=>{d(e),g(!0)})(e)},o.a.createElement(pt.a,null)),o.a.createElement(I.a,{size:"small",onClick:t=>{E(!0),u(e)}},o.a.createElement(Yo.a,null))))),t&&o.a.createElement(ci,{columns:4}))))))},tc=a(869),ac=a(1565),nc=a(1566),oc=a(657);const rc=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},dialogImport:{minWidth:500},iFile:{display:"none"},lbFile:{border:"dashed",borderWidth:2,padding:18,cursor:"pointer",display:"inline-block",width:"70%"},btnWrapper:{position:"relative"},iconPlanilha:{marginRight:10},cLbFile:{textAlign:"center"},titleLb:{textTransform:"uppercase",fontWeight:"bolder",marginTop:10},iconDownload:{color:e.palette.primary.main,fontSize:18},cModal:{paddingTop:50,paddingBottom:50},cSuccessContacts:{backgroundColor:"#AAEE9C80",padding:10,borderRadius:8,marginTop:30},cErrorContacts:{backgroundColor:"#DD011B40",padding:10,borderRadius:8,marginTop:30},titleResult:{fontWeight:"bolder"},cCloseModal:{textAlign:"end"}}));var lc=e=>{const t=rc(),{open:a,onClose:r}=e,[l,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(""),[d,m]=Object(n.useState)([]),[u,p]=Object(n.useState)([]),[g,b]=Object(n.useState)([]),E=e=>{const t=new FileReader;t.onload=e=>{const t=e.target.result,a=oc.a(t,{type:"array"}),n=a.SheetNames[0],o=a.Sheets[n],r=oc.b.sheet_to_json(o);m(r)},t.readAsArrayBuffer(e)};return o.a.createElement("div",null,o.a.createElement(ta.a,{open:a,maxWidth:"sm",fullWidth:!0,scroll:"paper"},o.a.createElement(pa.a,null,o.a.createElement(_a.a,{container:!0,alignItems:"center"},o.a.createElement(_a.a,{item:!0,xs:6},Le.a.t("contactImportModal.title")),o.a.createElement(_a.a,{item:!0,xs:6,className:t.cCloseModal},o.a.createElement(I.a,{onClick:r},o.a.createElement(ac.a,null))))),o.a.createElement(ua.a,{dividers:!0,className:t.cModal},o.a.createElement("div",{className:t.cLbFile},o.a.createElement("label",{className:t.lbFile,htmlFor:"i-import-contacts"},o.a.createElement(xs.c,{className:t.iconDownload}),o.a.createElement("div",{className:t.titleLb},Le.a.t("contactImportModal.labels.import")),""!==s&&o.a.createElement("div",null,"(",s," - ",d.length," ",Le.a.t("contactImportModal.labels.result"),")")),o.a.createElement("input",{onChange:e=>{const t=e.target.files[0];t&&(c(t.name),E(t))},className:t.iFile,type:"file",accept:".xlsx",id:"i-import-contacts"})),u.length>0&&o.a.createElement("div",{className:t.cSuccessContacts},o.a.createElement(D.a,{className:t.titleResult},Le.a.t("contactImportModal.labels.added"),":"),u.map(e=>o.a.createElement("div",null,e.contactId," | ",e.contactName," - ",Le.a.t("contactImportModal.labels.savedContact")))),g.length>0&&o.a.createElement("div",{className:t.cErrorContacts},o.a.createElement(D.a,{className:t.titleResult},Le.a.t("contactImportModal.labels.errors"),":"),o.a.createElement("ul",null,g.map(e=>o.a.createElement("li",null,e.contactName," - ",e.error.message))))),o.a.createElement(aa.a,null,o.a.createElement(st.a,{color:"primary",disabled:l,variant:"outlined",onClick:()=>{window.location.href="".concat(window.location.protocol,"//").concat(window.location.host,"/import-contatos.xlsx")}},o.a.createElement(nc.a,{className:t.iconPlanilha}),Le.a.t("contactImportModal.buttons.download")),o.a.createElement(st.a,{color:"primary",disabled:l,variant:"contained",className:t.btnWrapper,onClick:async()=>{i(!0);try{const{data:e}=await Ge.post("/contacts/upload",d);p(e.newContacts),b(e.errorBag)}catch(e){He(e)}finally{i(!1)}}},Le.a.t("contactImportModal.buttons.import")))))};const ic=(e,t)=>{if("LOAD_CONTACTS"===t.type){const a=t.payload,n=[];return a.forEach(t=>{const a=e.findIndex(e=>e.id===t.id);-1!==a?e[a]=t:n.push(t)}),[...e,...n]}if("UPDATE_CONTACTS"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a.id);return-1!==n?(e[n]=a,[...e]):[a,...e]}if("DELETE_CONTACT"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===t.type)return[]},sc=Object(k.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var cc=()=>{const e=sc(),t=Object(x.useHistory)(),{user:a}=Object(n.useContext)($e),[r,l]=Object(n.useState)(!1),[i,s]=Object(n.useState)(1),[c,d]=Object(n.useState)(""),[m,u]=Object(n.useReducer)(ic,[]),[p,g]=Object(n.useState)(null),[b,E]=Object(n.useState)(!1),[f,A]=Object(n.useState)(!1),[h,v]=Object(n.useState)({}),[w,S]=Object(n.useState)(null),[O,k]=Object(n.useState)(!1),[T,j]=Object(n.useState)(!1),[N,M]=Object(n.useState)(!1),P=Object(n.useContext)(y);Object(n.useEffect)(()=>{u({type:"RESET"}),s(1)},[c]),Object(n.useEffect)(()=>{l(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ge.get("/contacts/",{params:{searchParam:c,pageNumber:i}});u({type:"LOAD_CONTACTS",payload:e.contacts}),j(e.hasMore),l(!1)}catch(e){He(e)}})()},500);return()=>clearTimeout(e)},[c,i]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),t=P.getSocket(e);return t.on("company-".concat(e,"-contact"),e=>{"update"!==e.action&&"create"!==e.action||u({type:"UPDATE_CONTACTS",payload:e.contact}),"delete"===e.action&&u({type:"DELETE_CONTACT",payload:+e.contactId})}),()=>{t.disconnect()}},[P]);return o.a.createElement(ai,{className:e.mainContainer},o.a.createElement(lc,{open:N,onClose:()=>{M(!1)}}),o.a.createElement(ar,{modalOpen:f,initialContact:h,onClose:e=>{(e=>{A(!1),void 0!==e&&void 0!==e.uuid&&t.push("/tickets/".concat(e.uuid))})(e)}}),o.a.createElement($o,{open:b,onClose:()=>{g(null),E(!1)},"aria-labelledby":"form-dialog-title",contactId:p}),o.a.createElement(ga,{title:w?"".concat(Le.a.t("contacts.confirmationModal.deleteTitle")," ").concat(w.name,"?"):"".concat(Le.a.t("contacts.confirmationModal.importTitlte")),open:O,onClose:k,onConfirm:e=>w?(async e=>{try{await Ge.delete("/contacts/".concat(e)),C.b.success(Le.a.t("contacts.toasts.deleted"))}catch(t){He(t)}S(null),d(""),s(1)})(w.id):(async()=>{try{await Ge.post("/contacts/import"),t.go(0)}catch(e){He(e)}})()},"".concat(w?Le.a.t("contacts.confirmationModal.deleteMessage"):Le.a.t("contacts.confirmationModal.importMessage"))),o.a.createElement(oi,null,o.a.createElement(ii,null,Le.a.t("contacts.title")),o.a.createElement(li,null,o.a.createElement(it.a,{placeholder:Le.a.t("contacts.searchPlaceholder"),type:"search",value:c,onChange:e=>{d(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(Zs.a,{position:"start"},o.a.createElement(qo.a,{style:{color:"gray"}}))}}),o.a.createElement(st.a,{variant:"contained",color:"primary",onClick:()=>{M(!0)}},Le.a.t("contacts.buttons.import")),o.a.createElement(st.a,{variant:"contained",color:"primary",onClick:()=>{g(null),E(!0)}},Le.a.t("contacts.buttons.add")),o.a.createElement(tc.CSVLink,{style:{textDecoration:"none"},separator:";",filename:"contatos.csv",data:m.map(e=>({name:e.name,number:e.number,email:e.email}))},o.a.createElement(st.a,{variant:"contained",color:"primary"},Le.a.t("contacts.buttons.export"))))),o.a.createElement(xn.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!T||r)return;const{scrollTop:t,scrollHeight:a,clientHeight:n}=e.currentTarget;a-(t+100)<n&&s(e=>e+1)}},o.a.createElement(ao.a,{size:"small"},o.a.createElement(lo.a,null,o.a.createElement(io.a,null,o.a.createElement(oo.a,{padding:"checkbox"}),o.a.createElement(oo.a,null,Le.a.t("contacts.table.name")),o.a.createElement(oo.a,{align:"center"},Le.a.t("contacts.table.whatsapp")),o.a.createElement(oo.a,{align:"center"},Le.a.t("contacts.table.email")),o.a.createElement(oo.a,{align:"center"},Le.a.t("contacts.table.actions")))),o.a.createElement(no.a,null,o.a.createElement(o.a.Fragment,null,m.map(e=>o.a.createElement(io.a,{key:e.id},o.a.createElement(oo.a,{style:{paddingRight:0}},o.a.createElement(Ft.a,{src:e.profilePicUrl})),o.a.createElement(oo.a,null,e.name),o.a.createElement(oo.a,{align:"center"},e.number),o.a.createElement(oo.a,{align:"center"},e.email),o.a.createElement(oo.a,{align:"center"},o.a.createElement(I.a,{size:"small",onClick:()=>{v(e),A(!0)}},o.a.createElement(te.a,null)),o.a.createElement(I.a,{size:"small",onClick:()=>{return t=e.id,g(t),void E(!0);var t}},o.a.createElement(pt.a,null)),o.a.createElement(at,{role:a.profile,perform:"contacts-page:deleteContact",yes:()=>o.a.createElement(I.a,{size:"small",onClick:t=>{k(!0),S(e)}},o.a.createElement(Yo.a,null))})))),r&&o.a.createElement(ci,{avatar:!0,columns:3}))))))},dc=a(905);var mc=e=>{let{onChange:t,currentColor:a,handleClose:r,open:l}=e;const[i,s]=Object(n.useState)(a);return o.a.createElement(ta.a,{onClose:r,"aria-labelledby":"simple-dialog-title",open:l},o.a.createElement(dc.a,{width:"100%",triangle:"hide",color:i,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB","#4D4D4D","#999999","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],onChange:e=>{s(e.hex),r()},onChangeComplete:e=>t(e.hex)}))},uc=a(1568),pc=a(1567),gc=a(532),bc=a.n(gc),Ec=a(872),fc=a.n(Ec);const Ac=Object(k.a)(e=>({root:{width:"100%",[e.breakpoints.down("sm")]:{maxHeight:"20vh"}},button:{marginRight:e.spacing(1)},input:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},addButton:{marginTop:e.spacing(2),marginBottom:e.spacing(2)}}));function hc(e){let{queueId:t,options:a,updateOptions:r}=e;const l=Ac(),[i,s]=Object(n.useState)(-1),c=e=>async()=>{s(e);const n=a[e];if(void 0!==n&&void 0!==n.id)try{const{data:e}=await Ge.request({url:"/queue-options",method:"GET",params:{queueId:t,parentId:n.id}}),a=e.map(e=>({...e,children:[],edition:!1}));n.children=a,r()}catch(o){He(o)}},d=async e=>{try{if(e.id)await Ge.request({url:"/queue-options/".concat(e.id),method:"PUT",data:e});else{const{data:t}=await Ge.request({url:"/queue-options",method:"POST",data:e});e.id=t.id}e.edition=!1,r()}catch(t){He(t)}},m=e=>{a[e].edition=!a[e].edition,r()},u=e=>{const t=a[e];return t.edition?o.a.createElement(o.a.Fragment,null,o.a.createElement(it.a,{value:t.title,onChange:t=>((e,t)=>{a[t].title=e.target.value,r()})(t,e),size:"small",className:l.input,placeholder:"T\xedtulo da op\xe7\xe3o"}),t.edition&&o.a.createElement(o.a.Fragment,null,o.a.createElement(I.a,{color:"primary",variant:"outlined",size:"small",className:l.button,onClick:()=>d(t)},o.a.createElement(fc.a,null)),o.a.createElement(I.a,{variant:"outlined",color:"secondary",size:"small",className:l.button,onClick:()=>(async e=>{const t=a[e];if(void 0!==t&&void 0!==t.id)try{await Ge.request({url:"/queue-options/".concat(t.id),method:"DELETE"})}catch(n){He(n)}a.splice(e,1),a.forEach(async(e,t)=>{e.option=t+1,await d(e)}),r()})(e)},o.a.createElement(Yo.a,null)))):o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,null,""!==t.title?t.title:"T\xedtulo n\xe3o definido",o.a.createElement(I.a,{variant:"outlined",size:"small",className:l.button,onClick:()=>m(e)},o.a.createElement(pt.a,null))))},p=e=>{const t=a[e];return t.edition?o.a.createElement(o.a.Fragment,null,o.a.createElement(it.a,{style:{width:"100%"},multiline:!0,value:t.message,onChange:t=>((e,t)=>{a[t].message=e.target.value,r()})(t,e),size:"small",className:l.input,placeholder:"Digite o texto da op\xe7\xe3o"})):o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{onClick:()=>m(e)},t.message))},g=(e,n)=>o.a.createElement(Xi.a,{key:n},o.a.createElement(_i.a,{style:{cursor:"pointer"},onClick:c(n)},u(n)),o.a.createElement(pc.a,null,p(n),void 0!==e.id&&o.a.createElement(o.a.Fragment,null,o.a.createElement(st.a,{color:"primary",size:"small",onClick:()=>(e=>{const n=a[e].children.length+1;a[e].children.push({title:"",message:"",edition:!1,option:n,queueId:t,parentId:a[e].id,children:[]}),r()})(n),startIcon:o.a.createElement(bc.a,null),variant:"outlined",className:l.addButton},"Adicionar")),o.a.createElement(hc,{queueId:t,options:e.children,updateOptions:r})));return o.a.createElement(Yi.a,{style:{marginBottom:0,paddingBottom:0},nonLinear:!0,activeStep:i,orientation:"vertical"},a.map((e,t)=>g(e,t)))}function yc(e){let{queueId:t}=e;const a=Ac(),[r,l]=Object(n.useState)([]);Object(n.useEffect)(()=>{if(t){(async()=>{try{const{data:e}=await Ge.request({url:"/queue-options",method:"GET",params:{queueId:t,parentId:-1}}),a=e.map(e=>({...e,children:[],edition:!1}));l(a)}catch(e){He(e)}})()}},[]);const i=()=>{l([...r])};return o.a.createElement("div",{className:a.root},o.a.createElement("br",null),o.a.createElement(D.a,null,"Op\xe7\xf5es",o.a.createElement(st.a,{color:"primary",size:"small",onClick:()=>{const e={title:"",message:"",edition:!1,option:r.length+1,queueId:t,parentId:null,children:[]};l([...r,e])},startIcon:o.a.createElement(bc.a,null),style:{marginLeft:10},variant:"outlined"},"Adicionar")),(()=>{if(r.length>0)return o.a.createElement(hc,{queueId:t,updateOptions:i,options:r})})())}const vc=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}})),xc=en.b().shape({name:en.d().min(2,Le.a.t("queueModal.form.nameShort")).max(50,Le.a.t("queueModal.form.nameLong")).required(Le.a.t("queueModal.form.nameRequired")),color:en.d().min(3,Le.a.t("queueModal.form.colorShort")).max(9,Le.a.t("queueModal.form.colorLong")).required(),greetingMessage:en.d()});var Cc=e=>{let{open:t,onClose:a,queueId:r}=e;const l=vc(),i={name:"",color:"",greetingMessage:"",outOfHoursMessage:"",orderQueue:"",integrationId:"",promptId:""},[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(i),[u,p]=Object(n.useState)(0),[g,b]=Object(n.useState)(!1),E=Object(n.useRef)(),[f,A]=Object(n.useState)([]),[h,y]=Object(n.useState)([{weekday:"Segunda-feira",weekdayEn:"monday",startTime:"08:00",endTime:"18:00"},{weekday:"Ter\xe7a-feira",weekdayEn:"tuesday",startTime:"08:00",endTime:"18:00"},{weekday:"Quarta-feira",weekdayEn:"wednesday",startTime:"08:00",endTime:"18:00"},{weekday:"Quinta-feira",weekdayEn:"thursday",startTime:"08:00",endTime:"18:00"},{weekday:"Sexta-feira",weekdayEn:"friday",startTime:"08:00",endTime:"18:00"},{weekday:"S\xe1bado",weekdayEn:"saturday",startTime:"08:00",endTime:"12:00"},{weekday:"Domingo",weekdayEn:"sunday",startTime:"00:00",endTime:"00:00"}]),[v,x]=Object(n.useState)(null),[w,S]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ge.get("/prompt");S(e.prompts)}catch(e){He(e)}})()},[]),Object(n.useEffect)(()=>{Ge.get("/settings").then(e=>{let{data:t}=e;if(Array.isArray(t)){const e=t.find(e=>"scheduleType"===e.key);e&&b("queue"===e.value)}})},[]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ge.get("/queueIntegration");A(e.queueIntegrations)}catch(e){He(e)}})()},[]),Object(n.useEffect)(()=>((async()=>{if(r)try{const{data:e}=await Ge.get("/queue/".concat(r));m(t=>({...t,...e})),e.promptId?x(e.promptId):x(null),y(e.schedules)}catch(e){He(e)}})(),()=>{m({name:"",color:"",greetingMessage:"",outOfHoursMessage:"",orderQueue:"",integrationId:""})}),[r,t]);const O=()=>{a(),m(i)},k=e=>{x(e.target.value)};return o.a.createElement("div",{className:l.root},o.a.createElement(ta.a,{maxWidth:"md",fullWidth:!0,open:t,onClose:O,scroll:"paper"},o.a.createElement(pa.a,null,"".concat(r?Le.a.t("queueModal.title.edit"):Le.a.t("queueModal.title.add"))),o.a.createElement(Lo.a,{value:u,indicatorColor:"primary",textColor:"primary",onChange:(e,t)=>p(t),"aria-label":"disabled tabs example"},o.a.createElement(Wo.a,{label:Le.a.t("queueModal.tabs.queueData")}),g&&o.a.createElement(Wo.a,{label:Le.a.t("queueModal.tabs.attendanceTime")})),0===u&&o.a.createElement(xn.a,null,o.a.createElement(tn.e,{initialValues:d,enableReinitialize:!0,validationSchema:xc,onSubmit:(e,t)=>{setTimeout(()=>{(async e=>{try{r?await Ge.put("/queue/".concat(r),{...e,schedules:h,promptId:v||null}):await Ge.post("/queue",{...e,schedules:h,promptId:v||null}),C.b.success(Le.a.t("queueModal.toasts.success")),O()}catch(t){He(t)}})(e),t.setSubmitting(!1)},400)}},e=>{let{touched:t,errors:a,isSubmitting:n,values:i}=e;return o.a.createElement(tn.d,null,o.a.createElement(ua.a,{dividers:!0},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(a.name),helperText:t.name&&a.name,variant:"outlined",margin:"dense",className:l.textField}),o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueModal.form.color"),name:"color",id:"color",onFocus:()=>{c(!0),E.current.focus()},error:t.color&&Boolean(a.color),helperText:t.color&&a.color,InputProps:{startAdornment:o.a.createElement(Zs.a,{position:"start"},o.a.createElement("div",{style:{backgroundColor:i.color},className:l.colorAdorment})),endAdornment:o.a.createElement(I.a,{size:"small",color:"default",onClick:()=>c(!0)},o.a.createElement(uc.a,null))},variant:"outlined",margin:"dense",className:l.textField}),o.a.createElement(mc,{open:s,handleClose:()=>c(!1),onChange:e=>{i.color=e,m(()=>({...i,color:e}))}}),o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueModal.form.orderQueue"),name:"orderQueue",type:"orderQueue",error:t.orderQueue&&Boolean(a.orderQueue),helperText:t.orderQueue&&a.orderQueue,variant:"outlined",margin:"dense",className:l.textField1}),o.a.createElement("div",null,o.a.createElement(on.a,{variant:"outlined",margin:"dense",className:l.FormControl,fullWidth:!0},o.a.createElement(nn.a,{id:"integrationId-selection-label"},Le.a.t("queueModal.form.integrationId")),o.a.createElement(tn.b,{as:an.a,label:Le.a.t("queueModal.form.integrationId"),name:"integrationId",id:"integrationId",placeholder:Le.a.t("queueModal.form.integrationId"),labelId:"integrationId-selection-label",value:i.integrationId||""},o.a.createElement(F.a,{value:""},"Nenhum"),f.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name)))),o.a.createElement(on.a,{margin:"dense",variant:"outlined",fullWidth:!0},o.a.createElement(nn.a,null,Le.a.t("whatsappModal.form.prompt")),o.a.createElement(an.a,{labelId:"dialog-select-prompt-label",id:"dialog-select-prompt",name:"promptId",value:v||"",onChange:k,label:Le.a.t("whatsappModal.form.prompt"),fullWidth:!0,MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},w.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name))))),o.a.createElement("div",{style:{marginTop:5}},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,inputRef:E,rows:5,fullWidth:!0,name:"greetingMessage",error:t.greetingMessage&&Boolean(a.greetingMessage),helperText:t.greetingMessage&&a.greetingMessage,variant:"outlined",margin:"dense"}),g&&o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueModal.form.outOfHoursMessage"),type:"outOfHoursMessage",multiline:!0,inputRef:E,rows:5,fullWidth:!0,name:"outOfHoursMessage",error:t.outOfHoursMessage&&Boolean(a.outOfHoursMessage),helperText:t.outOfHoursMessage&&a.outOfHoursMessage,variant:"outlined",margin:"dense"})),o.a.createElement(yc,{queueId:r})),o.a.createElement(aa.a,null,o.a.createElement(st.a,{onClick:O,color:"secondary",disabled:n,variant:"outlined"},Le.a.t("queueModal.buttons.cancel")),o.a.createElement(st.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:l.btnWrapper},"".concat(r?Le.a.t("queueModal.buttons.okEdit"):Le.a.t("queueModal.buttons.okAdd")),n&&o.a.createElement(Wt.a,{size:24,className:l.buttonProgress}))))})),1===u&&o.a.createElement(xn.a,{style:{padding:20}},o.a.createElement(vi,{loading:!1,onSubmit:async e=>{C.b.success(Le.a.t("queueModal.toasts.info")),y(e),p(0)},initialValues:h,labelSaveButton:Le.a.t("queueModal.buttons.okAdd")}))))};const wc=Object(k.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles},customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}})),Sc=(e,t)=>{if("LOAD_QUEUES"===t.type){const a=t.payload,n=[];return a.forEach(t=>{const a=e.findIndex(e=>e.id===t.id);-1!==a?e[a]=t:n.push(t)}),[...e,...n]}if("UPDATE_QUEUES"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a.id);return-1!==n?(e[n]=a,[...e]):[a,...e]}if("DELETE_QUEUE"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===t.type)return[]};var Oc=()=>{const e=wc(),[t,a]=Object(n.useReducer)(Sc,[]),[r,l]=Object(n.useState)(!1),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(null),[m,u]=Object(n.useState)(!1),p=Object(n.useContext)(y);Object(n.useEffect)(()=>{(async()=>{l(!0);try{const{data:e}=await Ge.get("/queue");a({type:"LOAD_QUEUES",payload:e}),l(!1)}catch(e){He(e),l(!1)}})()},[]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),t=p.getSocket(e);return t.on("company-".concat(e,"-queue"),e=>{"update"!==e.action&&"create"!==e.action||a({type:"UPDATE_QUEUES",payload:e.queue}),"delete"===e.action&&a({type:"DELETE_QUEUE",payload:e.queueId})}),()=>{t.disconnect()}},[p]);return o.a.createElement(ai,null,o.a.createElement(ga,{title:c&&"".concat(Le.a.t("queues.confirmationModal.deleteTitle")," ").concat(c.name,"?"),open:m,onClose:()=>{u(!1),d(null)},onConfirm:()=>(async e=>{try{await Ge.delete("/queue/".concat(e)),C.b.success(Le.a.t("queues.toasts.success"))}catch(t){He(t)}d(null)})(c.id)},Le.a.t("queues.confirmationModal.deleteMessage")),o.a.createElement(Cc,{open:i,onClose:()=>{s(!1),d(null)},queueId:null===c||void 0===c?void 0:c.id}),o.a.createElement(oi,null,o.a.createElement(ii,null,Le.a.t("queues.title")),o.a.createElement(li,null,o.a.createElement(st.a,{variant:"contained",color:"primary",onClick:()=>{s(!0),d(null)}},Le.a.t("queues.buttons.add")))),o.a.createElement(xn.a,{className:e.mainPaper,variant:"outlined"},o.a.createElement(ao.a,{size:"small"},o.a.createElement(lo.a,null,o.a.createElement(io.a,null,o.a.createElement(oo.a,{align:"center"},Le.a.t("queues.table.id")),o.a.createElement(oo.a,{align:"center"},Le.a.t("queues.table.name")),o.a.createElement(oo.a,{align:"center"},Le.a.t("queues.table.color")),o.a.createElement(oo.a,{align:"center"},Le.a.t("queues.table.orderQueue")),o.a.createElement(oo.a,{align:"center"},Le.a.t("queues.table.greeting")),o.a.createElement(oo.a,{align:"center"},Le.a.t("queues.table.actions")))),o.a.createElement(no.a,null,o.a.createElement(o.a.Fragment,null,t.map(t=>o.a.createElement(io.a,{key:t.id},o.a.createElement(oo.a,{align:"center"},t.id),o.a.createElement(oo.a,{align:"center"},t.name),o.a.createElement(oo.a,{align:"center"},o.a.createElement("div",{className:e.customTableCell},o.a.createElement("span",{style:{backgroundColor:t.color,width:60,height:20,alignSelf:"center"}}))),o.a.createElement(oo.a,{align:"center"},o.a.createElement("div",{className:e.customTableCell},o.a.createElement(D.a,{style:{width:300,align:"center"},noWrap:!0,variant:"body2"},t.orderQueue))),o.a.createElement(oo.a,{align:"center"},o.a.createElement("div",{className:e.customTableCell},o.a.createElement(D.a,{style:{width:300,align:"center"},noWrap:!0,variant:"body2"},t.greetingMessage))),o.a.createElement(oo.a,{align:"center"},o.a.createElement(I.a,{size:"small",onClick:()=>(e=>{d(e),s(!0)})(t)},o.a.createElement($l.a,null)),o.a.createElement(I.a,{size:"small",onClick:()=>{d(t),u(!0)}},o.a.createElement(ei.a,null))))),r&&o.a.createElement(ci,{columns:4}))))))},kc=a(873);const Tc=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}})),jc=en.b().shape({name:en.d().min(3,"Mensagem muito curta").required("Obrigat\xf3rio")});var Ic=e=>{let{open:t,onClose:a,tagId:r,reload:l}=e;const i=Tc(),{user:s}=Object(n.useContext)($e),[c,d]=Object(n.useState)(!1),m={name:"",color:"",kanban:0},[u,p]=Object(n.useState)(m),[g,b]=Object(n.useState)(0);Object(n.useEffect)(()=>{try{(async()=>{if(!r)return;const{data:e}=await Ge.get("/tags/".concat(r));b(e.kanban),p(t=>({...t,...e}))})()}catch(e){He(e)}},[r,t]);const E=()=>{p(m),d(!1),a()},f=e=>{b(e.target.checked?1:0)};return o.a.createElement("div",{className:i.root},o.a.createElement(ta.a,{open:t,onClose:E,maxWidth:"xs",fullWidth:!0,scroll:"paper"},o.a.createElement(pa.a,{id:"form-dialog-title"},"".concat(r?Le.a.t("tagModal.title.edit"):Le.a.t("tagModal.title.add"))),o.a.createElement(tn.e,{initialValues:u,enableReinitialize:!0,validationSchema:jc,onSubmit:(e,t)=>{setTimeout(()=>{(async e=>{const t={...e,userId:s.id,kanban:g};try{r?await Ge.put("/tags/".concat(r),t):await Ge.post("/tags",t),C.b.success(Le.a.t("tagModal.success")),"function"==typeof l&&l()}catch(a){He(a)}E()})(e),t.setSubmitting(!1)},400)}},e=>{let{touched:t,errors:a,isSubmitting:n,values:l}=e;return o.a.createElement(tn.d,null,o.a.createElement(ua.a,{dividers:!0},o.a.createElement("div",{className:i.multFieldLine},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("tagModal.form.name"),name:"name",error:t.name&&Boolean(a.name),helperText:t.name&&a.name,variant:"outlined",margin:"dense",onChange:e=>p(t=>({...t,name:e.target.value})),fullWidth:!0})),o.a.createElement("br",null),o.a.createElement("div",{className:i.multFieldLine},o.a.createElement(tn.b,{as:it.a,fullWidth:!0,label:Le.a.t("tagModal.form.color"),name:"color",id:"color",error:t.color&&Boolean(a.color),helperText:t.color&&a.color,InputProps:{startAdornment:o.a.createElement(Zs.a,{position:"start"},o.a.createElement("div",{style:{backgroundColor:l.color},className:i.colorAdorment})),endAdornment:o.a.createElement(I.a,{size:"small",color:"default",onClick:()=>d(!c)},o.a.createElement(uc.a,null))},variant:"outlined",margin:"dense"})),("admin"===s.profile||"supervisor"===s.profile)&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:i.multFieldLine},o.a.createElement(qn.a,{control:o.a.createElement(sr.a,{checked:1===g,onChange:f,value:g,color:"primary"}),label:"Kanban",labelPlacement:"start"})),o.a.createElement("br",null)),c&&o.a.createElement("div",null,o.a.createElement(kc.a,{disableAlpha:!0,hslGradient:!1,style:{margin:"20px auto 0"},value:u.color,onChange:e=>{p(t=>({...t,color:"#".concat(e.hex)}))}}))),o.a.createElement(aa.a,null,o.a.createElement(st.a,{onClick:E,color:"secondary",disabled:n,variant:"outlined"},Le.a.t("tagModal.buttons.cancel")),o.a.createElement(st.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},"".concat(r?Le.a.t("tagModal.buttons.okEdit"):Le.a.t("tagModal.buttons.okAdd")),n&&o.a.createElement(Wt.a,{size:24,className:i.buttonProgress}))))})))};const Nc=(e,t)=>{if("LOAD_TAGS"===t.type){const a=t.payload,n=[];return a.forEach(t=>{const a=e.findIndex(e=>e.id===t.id);-1!==a?e[a]=t:n.push(t)}),[...e,...n]}if("UPDATE_TAGS"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a.id);return-1!==n?(e[n]=a,[...e]):[a,...e]}if("DELETE_TAG"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===t.type)return[]},Mc=Object(k.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var Pc=()=>{const e=Mc(),{user:t}=Object(n.useContext)($e),[a,r]=Object(n.useState)(!1),[l,i]=Object(n.useState)(1),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[u,p]=Object(n.useState)(null),[g,b]=Object(n.useState)(!1),[E,f]=Object(n.useState)(""),[A,h]=Object(n.useReducer)(Nc,[]),[v,x]=Object(n.useState)(!1),w=Object(n.useCallback)(async()=>{try{const{data:e}=await Ge.get("/tags/",{params:{searchParam:E,pageNumber:l}});h({type:"LOAD_TAGS",payload:e.tags}),c(e.hasMore),r(!1)}catch(e){He(e)}},[E,l]),S=Object(n.useContext)(y);Object(n.useEffect)(()=>{h({type:"RESET"}),i(1)},[E]),Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{w()},500);return()=>clearTimeout(e)},[E,l,w]),Object(n.useEffect)(()=>{const e=S.getSocket(t.companyId);return e.on("user",e=>{"update"!==e.action&&"create"!==e.action||h({type:"UPDATE_TAGS",payload:e.tags}),"delete"===e.action&&h({type:"DELETE_USER",payload:+e.tagId})}),()=>{e.disconnect()}},[S,t]);return o.a.createElement(ai,null,o.a.createElement(ga,{title:u&&"".concat(Le.a.t("tags.confirmationModal.deleteTitle")),open:g,onClose:b,onConfirm:()=>(async e=>{try{await Ge.delete("/tags/".concat(e)),C.b.success(Le.a.t("tags.toasts.deleted"))}catch(t){He(t)}p(null),f(""),i(1),h({type:"RESET"}),i(1),await w()})(u.id)},Le.a.t("tags.confirmationModal.deleteMessage")),o.a.createElement(Ic,{open:v,onClose:()=>{m(null),x(!1)},reload:w,"aria-labelledby":"form-dialog-title",tagId:d&&d.id}),o.a.createElement(oi,null,o.a.createElement(ii,null,Le.a.t("tags.title")),o.a.createElement(li,null,o.a.createElement(it.a,{placeholder:Le.a.t("contacts.searchPlaceholder"),type:"search",value:E,onChange:e=>{f(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(Zs.a,{position:"start"},o.a.createElement(qo.a,{style:{color:"gray"}}))}}),o.a.createElement(st.a,{variant:"contained",color:"primary",onClick:()=>{m(null),x(!0)}},Le.a.t("tags.buttons.add")))),o.a.createElement(xn.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!s||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(t+100)<o&&i(e=>e+1)}},o.a.createElement(ao.a,{size:"small"},o.a.createElement(lo.a,null,o.a.createElement(io.a,null,o.a.createElement(oo.a,{align:"center"},Le.a.t("tags.table.name")),o.a.createElement(oo.a,{align:"center"},Le.a.t("tags.table.tickets")),o.a.createElement(oo.a,{align:"center"},Le.a.t("tags.table.actions")))),o.a.createElement(no.a,null,o.a.createElement(o.a.Fragment,null,A.map(e=>o.a.createElement(io.a,{key:e.id},o.a.createElement(oo.a,{align:"center"},o.a.createElement(rn.a,{variant:"outlined",style:{backgroundColor:e.color,textShadow:"1px 1px 1px #000",color:"white"},label:e.name,size:"small"})),o.a.createElement(oo.a,{align:"center"},e.ticketsCount),o.a.createElement(oo.a,{align:"center"},o.a.createElement(I.a,{size:"small",onClick:()=>(e=>{m(e),x(!0)})(e)},o.a.createElement(pt.a,null)),o.a.createElement(I.a,{size:"small",onClick:t=>{b(!0),p(e)}},o.a.createElement(Yo.a,null))))),a&&o.a.createElement(ci,{columns:4}))))))};const Rc=Object(k.a)(e=>({mainPaper:{flex:1,padding:e.spacing(2),paddingBottom:100},mainHeader:{marginTop:e.spacing(1)},elementMargin:{padding:e.spacing(2)},formContainer:{maxWidth:500},textRight:{textAlign:"right"}}));var Dc=()=>{const e=Rc(),t=Object(x.useHistory)(),[a]=Object(n.useState)({token:"",number:"",body:""}),[r]=Object(n.useState)({token:"",number:"",medias:""}),[l,i]=Object(n.useState)({}),{getPlanCompany:s}=yt();Object(n.useEffect)(()=>{!async function(){const e=localStorage.getItem("companyId");(await s(void 0,e)).plan.useExternalApi||(C.b.error("messagesAPI.toasts.unauthorized"),setTimeout(()=>{t.push("/")},1e3))}()},[]);return o.a.createElement(xn.a,{className:e.mainPaper,style:{marginLeft:"5px"},variant:"outlined"},o.a.createElement(D.a,{variant:"h5"},Le.a.t("messagesAPI.labels.doc")),o.a.createElement(D.a,{variant:"h6",color:"primary",className:e.elementMargin},Le.a.t("messagesAPI.labels.method")),o.a.createElement(D.a,{component:"div"},o.a.createElement("ol",null,o.a.createElement("li",null,Le.a.t("messagesAPI.labels.textMessage")),o.a.createElement("li",null,Le.a.t("messagesAPI.labels.mediaMessage")))),o.a.createElement(D.a,{variant:"h6",color:"primary",className:e.elementMargin},Le.a.t("messagesAPI.labels.instructions")),o.a.createElement(D.a,{className:e.elementMargin,component:"div"},o.a.createElement("b",null,Le.a.t("messagesAPI.labels.observations")),o.a.createElement("br",null),o.a.createElement("ul",null,o.a.createElement("li",null,Le.a.t("messagesAPI.labels.before1")," ",o.a.createElement("br",null),Le.a.t("messagesAPI.labels.before2")),o.a.createElement("li",null,Le.a.t("messagesAPI.labels.numberDescription"),o.a.createElement("ul",null,o.a.createElement("li",null,Le.a.t("messagesAPI.labels.countryCode")),o.a.createElement("li",null,"DDD"),o.a.createElement("li",null,Le.a.t("messagesAPI.labels.number")))))),o.a.createElement(D.a,{variant:"h6",color:"primary",className:e.elementMargin},Le.a.t("messagesAPI.labels.textMessage2")),o.a.createElement(_a.a,{container:!0},o.a.createElement(_a.a,{item:!0,xs:12,sm:6},o.a.createElement(D.a,{className:e.elementMargin,component:"div"},o.a.createElement("p",null,Le.a.t("messagesAPI.labels.textMessageInstructions")),o.a.createElement("b",null,"Endpoint: ")," ","https://api.zettabot.com.br/api/messages/send"," ",o.a.createElement("br",null),o.a.createElement("b",null,Le.a.t("messagesAPI.labels.method2"),": ")," POST ",o.a.createElement("br",null),o.a.createElement("b",null,"Headers: ")," Authorization (Bearer token) ",Le.a.t("messagesAPI.labels.e")," Content-Type (application/json) ",o.a.createElement("br",null),o.a.createElement("b",null,"Body: ")," ",'{ "number": "5599999999999", "body": "Sua mensagem" }')),o.a.createElement(_a.a,{item:!0,xs:12,sm:6},o.a.createElement(D.a,{className:e.elementMargin},o.a.createElement("b",null,Le.a.t("messagesAPI.labels.tests"))),o.a.createElement(tn.e,{initialValues:a,enableReinitialize:!0,onSubmit:(e,t)=>{setTimeout(async()=>{await(async e=>{const{number:t,body:a}=e,n={number:t,body:a};try{await Ve.a.request({url:"https://api.zettabot.com.br/api/messages/send",method:"POST",data:n,headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(e.token)}}),C.b.success(Le.a.t("messagesAPI.toasts.success"))}catch(o){He(o)}})(e),t.setSubmitting(!1),t.resetForm()},400)},className:e.elementMargin},t=>{let{isSubmitting:a}=t;return o.a.createElement(tn.d,{className:e.formContainer},o.a.createElement(_a.a,{container:!0,spacing:2},o.a.createElement(_a.a,{item:!0,xs:12,md:6},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("messagesAPI.textMessage.token"),name:"token",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),o.a.createElement(_a.a,{item:!0,xs:12,md:6},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("messagesAPI.textMessage.number"),name:"number",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),o.a.createElement(_a.a,{item:!0,xs:12},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("messagesAPI.textMessage.body"),name:"body",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),o.a.createElement(_a.a,{item:!0,xs:12,className:e.textRight},o.a.createElement(st.a,{type:"submit",color:"primary",variant:"contained",className:e.btnWrapper},a?o.a.createElement(Wt.a,{size:24,className:e.buttonProgress}):Le.a.t("messagesAPI.buttons.send")))))}))),o.a.createElement(D.a,{variant:"h6",color:"primary",className:e.elementMargin},Le.a.t("messagesAPI.labels.mediaMessage2")),o.a.createElement(_a.a,{container:!0},o.a.createElement(_a.a,{item:!0,xs:12,sm:6},o.a.createElement(D.a,{className:e.elementMargin,component:"div"},o.a.createElement("p",null,Le.a.t("messagesAPI.labels.textMessageInstructions")),o.a.createElement("b",null,"Endpoint: ")," ","https://api.zettabot.com.br/api/messages/send"," ",o.a.createElement("br",null),o.a.createElement("b",null,Le.a.t("messagesAPI.labels.method2"),": ")," POST ",o.a.createElement("br",null),o.a.createElement("b",null,"Headers: ")," Authorization (Bearer token) ",Le.a.t("messagesAPI.labels.e")," Content-Type (multipart/form-data) ",o.a.createElement("br",null),o.a.createElement("b",null,"FormData: ")," ",o.a.createElement("br",null),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("b",null,"number: ")," 5599999999999"),o.a.createElement("li",null,o.a.createElement("b",null,"medias: ")," arquivo")))),o.a.createElement(_a.a,{item:!0,xs:12,sm:6},o.a.createElement(D.a,{className:e.elementMargin},o.a.createElement("b",null,Le.a.t("messagesAPI.labels.tests"))),o.a.createElement(tn.e,{initialValues:r,enableReinitialize:!0,onSubmit:(e,t)=>{setTimeout(async()=>{await(async e=>{try{const t=l[0],a=new FormData;a.append("number",e.number),a.append("body",t.name),a.append("medias",t),await Ve.a.request({url:"https://api.zettabot.com.br/api/messages/send",method:"POST",data:a,headers:{"Content-type":"multipart/form-data",Authorization:"Bearer ".concat(e.token)}}),C.b.success(Le.a.t("messagesAPI.toasts.success"))}catch(t){He(t)}})(e),t.setSubmitting(!1),t.resetForm(),document.getElementById("medias").files=null,document.getElementById("medias").value=null},400)},className:e.elementMargin},t=>{let{isSubmitting:a}=t;return o.a.createElement(tn.d,{className:e.formContainer},o.a.createElement(_a.a,{container:!0,spacing:2},o.a.createElement(_a.a,{item:!0,xs:12,md:6},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("messagesAPI.mediaMessage.token"),name:"token",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),o.a.createElement(_a.a,{item:!0,xs:12,md:6},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("messagesAPI.mediaMessage.number"),name:"number",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})),o.a.createElement(_a.a,{item:!0,xs:12},o.a.createElement("input",{type:"file",name:"medias",id:"medias",required:!0,onChange:e=>i(e.target.files)})),o.a.createElement(_a.a,{item:!0,xs:12,className:e.textRight},o.a.createElement(st.a,{type:"submit",color:"primary",variant:"contained",className:e.btnWrapper},a?o.a.createElement(Wt.a,{size:24,className:e.buttonProgress}):Le.a.t("messagesAPI.buttons.send")))))}))))},qc=a(927);const Fc=Object(k.a)(e=>({mainPaperContainer:{overflowY:"auto",maxHeight:"calc(100vh - 200px)"},mainPaper:{width:"100%",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:e.spacing(3),padding:e.spacing(2),marginBottom:e.spacing(3)},helpPaper:{position:"relative",width:"100%",minHeight:"340px",padding:e.spacing(2),boxShadow:e.shadows[3],borderRadius:e.spacing(1),cursor:"pointer",display:"flex",flexDirection:"column",justifyContent:"space-between",maxWidth:"340px"},paperHover:{transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"scale(1.03)",boxShadow:"0 0 8px",color:e.palette.primary.main}},videoThumbnail:{width:"100%",height:"calc(100% - 56px)",objectFit:"cover",borderRadius:"".concat(e.spacing(1),"px ").concat(e.spacing(1),"px 0 0")},videoTitle:{marginTop:e.spacing(1),flex:1},videoDescription:{maxHeight:"100px",overflow:"hidden"},videoModal:{display:"flex",alignItems:"center",justifyContent:"center"},videoModalContent:{outline:"none",width:"90%",maxWidth:1024,aspectRatio:"16/9",position:"relative",backgroundColor:"white",borderRadius:e.spacing(1),overflow:"hidden"}}));var Lc=()=>{const e=Fc(),[t,a]=Object(n.useState)([]),{list:r}=qi(),[l,i]=Object(n.useState)(null);Object(n.useEffect)(()=>{!async function(){const e=await r();a(e)}()},[]);const s=()=>{i(null)},c=Object(n.useCallback)(e=>{"Escape"===e.key&&s()},[]);Object(n.useEffect)(()=>(document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}),[c]);return o.a.createElement(ai,null,o.a.createElement(oi,null,o.a.createElement(ii,null,Le.a.t("helps.title")," (",t.length,")"),o.a.createElement(li,null)),o.a.createElement("div",{className:e.mainPaper},o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"".concat(e.mainPaper," ").concat(e.mainPaperContainer)},t.length?t.map((t,a)=>o.a.createElement(xn.a,{key:a,className:"".concat(e.helpPaper," ").concat(e.paperHover),onClick:()=>{return e=t.video,void i(e);var e}},o.a.createElement("img",{src:"https://img.youtube.com/vi/".concat(t.video,"/mqdefault.jpg"),alt:"Thumbnail",className:e.videoThumbnail}),o.a.createElement(D.a,{variant:"button",className:e.videoTitle},t.title),o.a.createElement(D.a,{variant:"caption",className:e.videoDescription},t.description))):null))),o.a.createElement(qc.a,{open:Boolean(l),onClose:s,className:e.videoModal},o.a.createElement("div",{className:e.videoModalContent},l&&o.a.createElement("iframe",{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0},src:"https://www.youtube.com/embed/".concat(l),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}))))},Wc=a(874),Bc=a.n(Wc);const zc=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}})),Hc=en.b().shape({name:en.d().min(2,Le.a.t("contactLists.dialog.nameShort")).max(50,Le.a.t("contactLists.dialog.nameLong")).required(Le.a.t("contactLists.dialog.nameRequired"))});var Uc=e=>{let{open:t,onClose:a,contactListId:r}=e;const l=zc(),i={name:""},[s,c]=Object(n.useState)(i);Object(n.useEffect)(()=>{(async()=>{if(r)try{const{data:e}=await Ge.get("/contact-lists/".concat(r));c(t=>({...t,...e}))}catch(e){He(e)}})()},[r,t]);const d=()=>{a(),c(i)};return o.a.createElement("div",{className:l.root},o.a.createElement(ta.a,{open:t,onClose:d,maxWidth:"xs",fullWidth:!0,scroll:"paper"},o.a.createElement(pa.a,{id:"form-dialog-title"},"".concat(r?Le.a.t("contactLists.dialog.edit"):Le.a.t("contactLists.dialog.add"))),o.a.createElement(tn.e,{initialValues:s,enableReinitialize:!0,validationSchema:Hc,onSubmit:(e,t)=>{setTimeout(()=>{(async e=>{const t={...e};try{r?await Ge.put("/contact-lists/".concat(r),t):await Ge.post("/contact-lists",t),C.b.success(Le.a.t("contactList.toasts.success"))}catch(a){He(a)}d()})(e),t.setSubmitting(!1)},400)}},e=>{let{touched:t,errors:a,isSubmitting:n}=e;return o.a.createElement(tn.d,null,o.a.createElement(ua.a,{dividers:!0},o.a.createElement("div",{className:l.multFieldLine},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("contactLists.dialog.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(a.name),helperText:t.name&&a.name,variant:"outlined",margin:"dense",fullWidth:!0}))),o.a.createElement(aa.a,null,o.a.createElement(st.a,{onClick:d,color:"secondary",disabled:n,variant:"outlined"},Le.a.t("contactLists.dialog.cancel")),o.a.createElement(st.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:l.btnWrapper},"".concat(r?Le.a.t("contactLists.dialog.okEdit"):Le.a.t("contactLists.dialog.okAdd")),n&&o.a.createElement(Wt.a,{size:24,className:l.buttonProgress}))))})))},Vc=a(533),Qc=a.n(Vc);const Kc=(e,t)=>{if("LOAD_CONTACTLISTS"===t.type){const a=t.payload,n=[];return a.forEach(t=>{const a=e.findIndex(e=>e.id===t.id);-1!==a?e[a]=t:n.push(t)}),[...e,...n]}if("UPDATE_CONTACTLIST"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a.id);return-1!==n?(e[n]=a,[...e]):[a,...e]}if("DELETE_CONTACTLIST"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===t.type)return[]},Gc=Object(k.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var Yc=()=>{const e=Gc(),t=Object(x.useHistory)(),[a,r]=Object(n.useState)(!1),[l,i]=Object(n.useState)(1),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[u,p]=Object(n.useState)(null),[g,b]=Object(n.useState)(!1),[E,f]=Object(n.useState)(!1),[A,h]=Object(n.useState)(""),[v,w]=Object(n.useReducer)(Kc,[]),S=Object(n.useContext)(y);Object(n.useEffect)(()=>{w({type:"RESET"}),i(1)},[A]),Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ge.get("/contact-lists/",{params:{searchParam:A,pageNumber:l}});w({type:"LOAD_CONTACTLISTS",payload:e.records}),c(e.hasMore),r(!1)}catch(e){He(e)}})()},500);return()=>clearTimeout(e)},[A,l]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),t=S.getSocket(e);return t.on("company-".concat(e,"-ContactList"),e=>{"update"!==e.action&&"create"!==e.action||w({type:"UPDATE_CONTACTLIST",payload:e.record}),"delete"===e.action&&w({type:"DELETE_CONTACTLIST",payload:+e.id})}),()=>{t.disconnect()}},[S]);return o.a.createElement(ai,null,o.a.createElement(ga,{title:u&&"".concat(Le.a.t("contactLists.confirmationModal.deleteTitle")," ").concat(u.name,"?"),open:E,onClose:f,onConfirm:()=>(async e=>{try{await Ge.delete("/contact-lists/".concat(e)),C.b.success(Le.a.t("contactLists.toasts.deleted"))}catch(t){He(t)}p(null),h(""),i(1)})(u.id)},Le.a.t("contactLists.confirmationModal.deleteMessage")),o.a.createElement(Uc,{open:g,onClose:()=>{m(null),b(!1)},"aria-labelledby":"form-dialog-title",contactListId:d&&d.id}),o.a.createElement(oi,null,o.a.createElement(_a.a,{style:{width:"99.6%"},container:!0},o.a.createElement(_a.a,{xs:12,sm:8,item:!0},o.a.createElement(ii,null,Le.a.t("contactLists.title"))),o.a.createElement(_a.a,{xs:12,sm:4,item:!0},o.a.createElement(_a.a,{spacing:2,container:!0},o.a.createElement(_a.a,{xs:7,sm:6,item:!0},o.a.createElement(it.a,{fullWidth:!0,placeholder:Le.a.t("contacts.searchPlaceholder"),type:"search",value:A,onChange:e=>{h(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(Zs.a,{position:"start"},o.a.createElement(qo.a,{style:{color:"gray"}}))}})),o.a.createElement(_a.a,{xs:5,sm:6,item:!0},o.a.createElement(st.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{m(null),b(!0)}},Le.a.t("contactLists.buttons.add"))))))),o.a.createElement(xn.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!s||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(t+100)<o&&i(e=>e+1)}},o.a.createElement(ao.a,{size:"small"},o.a.createElement(lo.a,null,o.a.createElement(io.a,null,o.a.createElement(oo.a,{align:"center"},Le.a.t("contactLists.table.name")),o.a.createElement(oo.a,{align:"center"},Le.a.t("contactLists.table.contacts")),o.a.createElement(oo.a,{align:"center"},Le.a.t("contactLists.table.actions")))),o.a.createElement(no.a,null,o.a.createElement(o.a.Fragment,null,v.map(e=>o.a.createElement(io.a,{key:e.id},o.a.createElement(oo.a,{align:"center"},e.name),o.a.createElement(oo.a,{align:"center"},e.contactsCount||0),o.a.createElement(oo.a,{align:"center"},o.a.createElement("a",{href:Qc.a,download:"planilha.xlsx"},o.a.createElement(I.a,{size:"small",title:"Baixar Planilha Exemplo"},o.a.createElement(Bc.a,null))),o.a.createElement(I.a,{size:"small",onClick:()=>{return a=e.id,void t.push("/contact-lists/".concat(a,"/contacts"));var a}},o.a.createElement(je.a,null)),o.a.createElement(I.a,{size:"small",onClick:()=>(e=>{m(e),b(!0)})(e)},o.a.createElement(pt.a,null)),o.a.createElement(I.a,{size:"small",onClick:t=>{f(!0),p(e)}},o.a.createElement(Yo.a,null))))),a&&o.a.createElement(ci,{columns:3}))))))},Xc=a(875),_c=a.n(Xc);const Zc=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),Jc=en.b().shape({name:en.d().min(2,Le.a.t("contactListItems.dialog.nameShort")).max(50,Le.a.t("contactListItems.dialog.nameLong")).required(Le.a.t("contactListItems.dialog.nameRequired")),number:en.d().min(8,Le.a.t("contactListItems.dialog.numberShort")).max(50,Le.a.t("contactListItems.dialog.numberLong")),email:en.d().email(Le.a.t("contactListItems.dialog.emailInvalid"))});var $c=e=>{let{open:t,onClose:a,contactId:r,initialValues:l,onSave:i}=e;const s=Zc(),c=Object(n.useRef)(!0),{user:{companyId:d}}=Object(n.useContext)($e),{contactListId:m}=Object(x.useParams)(),u={name:"",number:"",email:""},[p,g]=Object(n.useState)(u);Object(n.useEffect)(()=>()=>{c.current=!1},[]),Object(n.useEffect)(()=>{(async()=>{if(l&&g(e=>({...e,...l})),r)try{const{data:e}=await Ge.get("/contact-list-items/".concat(r));c.current&&g(e)}catch(e){He(e)}})()},[r,t,l]);const b=()=>{a(),g(u)};return o.a.createElement("div",{className:s.root},o.a.createElement(ta.a,{open:t,onClose:b,maxWidth:"lg",scroll:"paper"},o.a.createElement(pa.a,{id:"form-dialog-title"},"".concat(r?Le.a.t("contactModal.title.edit"):Le.a.t("contactModal.title.add"))),o.a.createElement(tn.e,{initialValues:p,enableReinitialize:!0,validationSchema:Jc,onSubmit:(e,t)=>{setTimeout(()=>{(async e=>{try{if(r)await Ge.put("/contact-list-items/".concat(r),{...e,companyId:d,contactListId:m}),b();else{const{data:t}=await Ge.post("/contact-list-items",{...e,companyId:d,contactListId:m});i&&i(t),b()}C.b.success(Le.a.t("contactModal.success"))}catch(t){He(t)}})(e),t.setSubmitting(!1)},400)}},e=>{let{values:t,errors:a,touched:n,isSubmitting:l}=e;return o.a.createElement(tn.d,null,o.a.createElement(ua.a,{dividers:!0},o.a.createElement(D.a,{variant:"subtitle1",gutterBottom:!0},Le.a.t("contactModal.form.mainInfo")),o.a.createElement(tn.b,{as:it.a,label:Le.a.t("contactModal.form.name"),name:"name",autoFocus:!0,error:n.name&&Boolean(a.name),helperText:n.name&&a.name,variant:"outlined",margin:"dense",className:s.textField}),o.a.createElement(tn.b,{as:it.a,label:Le.a.t("contactModal.form.number"),name:"number",error:n.number&&Boolean(a.number),helperText:n.number&&a.number,placeholder:"5513912344321",variant:"outlined",margin:"dense"}),o.a.createElement("div",null,o.a.createElement(tn.b,{as:it.a,label:Le.a.t("contactModal.form.email"),name:"email",error:n.email&&Boolean(a.email),helperText:n.email&&a.email,placeholder:Le.a.t("contactModal.form.email"),fullWidth:!0,margin:"dense",variant:"outlined"}))),o.a.createElement(aa.a,null,o.a.createElement(st.a,{onClick:b,color:"secondary",disabled:l,variant:"outlined"},Le.a.t("contactModal.buttons.cancel")),o.a.createElement(st.a,{type:"submit",color:"primary",disabled:l,variant:"contained",className:s.btnWrapper},"".concat(r?Le.a.t("contactModal.buttons.okEdit"):Le.a.t("contactModal.buttons.okAdd")),l&&o.a.createElement(Wt.a,{size:24,className:s.buttonProgress}))))})))};var ed=()=>({findById:async e=>{const{data:t}=await Ge.request({url:"/contact-lists/".concat(e),method:"GET"});return t},save:async e=>{const{data:t}=await Ge.request({url:"/contact-lists",method:"POST",data:e});return t},update:async e=>{const{data:t}=await Ge.request({url:"/contact-lists/".concat(e.id),method:"PUT",data:e});return t},deleteRecord:async e=>{const{data:t}=await Ge.request({url:"/contact-lists/".concat(e),method:"DELETE"});return t},list:async e=>{const{data:t}=await Ge.request({url:"/contact-lists/list",method:"GET",params:e});return t}});const td=(e,t)=>{if("LOAD_CONTACTS"===t.type){const a=t.payload,n=[];return a.forEach(t=>{const a=e.findIndex(e=>e.id===t.id);-1!==a?e[a]=t:n.push(t)}),[...e,...n]}if("UPDATE_CONTACTS"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a.id);return-1!==n?(e[n]=a,[...e]):[a,...e]}if("DELETE_CONTACT"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===t.type)return[]},ad=Object(k.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var nd=()=>{const e=ad(),{user:t}=Object(n.useContext)($e),{contactListId:a}=Object(x.useParams)(),r=Object(x.useHistory)(),[l,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(1),[d,m]=Object(n.useState)(""),[u,p]=Object(n.useReducer)(td,[]),[g,b]=Object(n.useState)(null),[E,f]=Object(n.useState)(!1),[A,h]=Object(n.useState)(null),[v,w]=Object(n.useState)(!1),[S,O]=Object(n.useState)(!1),[k,T]=Object(n.useState)({}),j=Object(n.useRef)(null),{findById:N}=ed(),M=Object(n.useContext)(y);Object(n.useEffect)(()=>{N(a).then(e=>{T(e)})},[a]),Object(n.useEffect)(()=>{p({type:"RESET"}),c(1)},[d]),Object(n.useEffect)(()=>{i(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ge.get("contact-list-items",{params:{searchParam:d,pageNumber:s,contactListId:a}});p({type:"LOAD_CONTACTS",payload:e.contacts}),O(e.hasMore),i(!1)}catch(e){He(e)}})()},500);return()=>clearTimeout(e)},[d,s,a]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),t=M.getSocket(e);return t.on("company-".concat(e,"-ContactListItem"),e=>{"update"!==e.action&&"create"!==e.action||p({type:"UPDATE_CONTACTS",payload:e.record}),"delete"===e.action&&p({type:"DELETE_CONTACT",payload:+e.id}),"reload"===e.action&&p({type:"LOAD_CONTACTS",payload:e.records})}),t.on("company-".concat(e,"-ContactListItem-").concat(a),e=>{"reload"===e.action&&p({type:"LOAD_CONTACTS",payload:e.records})}),()=>{t.disconnect()}},[a,M]);return o.a.createElement(ai,{className:e.mainContainer},o.a.createElement($c,{open:E,onClose:()=>{b(null),f(!1)},"aria-labelledby":"form-dialog-title",contactId:g}),o.a.createElement(ga,{title:A?"".concat(Le.a.t("contactListItems.confirmationModal.deleteTitle")," ").concat(A.name,"?"):"".concat(Le.a.t("contactListItems.confirmationModal.importTitlte")),open:v,onClose:w,onConfirm:()=>A?(async e=>{try{await Ge.delete("/contact-list-items/".concat(e)),C.b.success(Le.a.t("contacts.toasts.deleted"))}catch(t){He(t)}h(null),m(""),c(1)})(A.id):(async()=>{try{const e=new FormData;e.append("file",j.current.files[0]),await Ge.request({url:"contact-lists/".concat(a,"/upload"),method:"POST",data:e})}catch(e){He(e)}})()},A?"".concat(Le.a.t("contactListItems.confirmationModal.deleteMessage")):o.a.createElement(o.a.Fragment,null,Le.a.t("contactListItems.confirmationModal.importMessage"),o.a.createElement("a",{href:Qc.a,download:"planilha.xlsx"},Le.a.t("contactListItems.download")))),o.a.createElement(oi,null,o.a.createElement(_a.a,{style:{width:"99.6%"},container:!0},o.a.createElement(_a.a,{xs:12,sm:5,item:!0},o.a.createElement(ii,null,k.name)),o.a.createElement(_a.a,{xs:12,sm:7,item:!0},o.a.createElement(_a.a,{spacing:2,container:!0},o.a.createElement(_a.a,{xs:12,sm:6,item:!0},o.a.createElement(it.a,{fullWidth:!0,placeholder:Le.a.t("contactListItems.searchPlaceholder"),type:"search",value:d,onChange:e=>{m(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(Zs.a,{position:"start"},o.a.createElement(qo.a,{style:{color:"gray"}}))}})),o.a.createElement(_a.a,{xs:4,sm:2,item:!0},o.a.createElement(st.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{r.push("/contact-lists")}},Le.a.t("contactListItems.buttons.lists"))),o.a.createElement(_a.a,{xs:4,sm:2,item:!0},o.a.createElement(st.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{j.current.value=null,j.current.click()}},Le.a.t("contactListItems.buttons.import"))),o.a.createElement(_a.a,{xs:4,sm:2,item:!0},o.a.createElement(st.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>{b(null),f(!0)}},Le.a.t("contactListItems.buttons.add"))))))),o.a.createElement(xn.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!S||l)return;const{scrollTop:t,scrollHeight:a,clientHeight:n}=e.currentTarget;a-(t+100)<n&&c(e=>e+1)}},o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{style:{display:"none"},id:"upload",name:"file",type:"file",accept:".xls,.xlsx",onChange:()=>{w(!0)},ref:j})),o.a.createElement(ao.a,{size:"small"},o.a.createElement(lo.a,null,o.a.createElement(io.a,null,o.a.createElement(oo.a,{align:"center",style:{width:"0%"}},"#"),o.a.createElement(oo.a,null,Le.a.t("contactListItems.table.name")),o.a.createElement(oo.a,{align:"center"},Le.a.t("contactListItems.table.number")),o.a.createElement(oo.a,{align:"center"},Le.a.t("contactListItems.table.email")),o.a.createElement(oo.a,{align:"center"},Le.a.t("contactListItems.table.actions")))),o.a.createElement(no.a,null,o.a.createElement(o.a.Fragment,null,u.map(e=>o.a.createElement(io.a,{key:e.id},o.a.createElement(oo.a,{align:"center",style:{width:"0%"}},o.a.createElement(I.a,null,e.isWhatsappValid?o.a.createElement(Zn.a,{titleAccess:"Whatsapp V\xe1lido",htmlColor:"green"}):o.a.createElement(_c.a,{titleAccess:"Whatsapp Inv\xe1lido",htmlColor:"grey"}))),o.a.createElement(oo.a,null,e.name),o.a.createElement(oo.a,{align:"center"},e.number),o.a.createElement(oo.a,{align:"center"},e.email),o.a.createElement(oo.a,{align:"center"},o.a.createElement(I.a,{size:"small",onClick:()=>{return t=e.id,b(t),void f(!0);var t}},o.a.createElement(pt.a,null)),o.a.createElement(at,{role:t.profile,perform:"contacts-page:deleteContact",yes:()=>o.a.createElement(I.a,{size:"small",onClick:()=>{w(!0),h(e)}},o.a.createElement(Yo.a,null))})))),l&&o.a.createElement(ci,{columns:4}))))))};const od=a(1287),rd=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}})),ld=en.b().shape({shortcode:en.d().required("Obrigat\xf3rio")});var id=e=>{let{open:t,onClose:a,quickemessageId:r,reload:l}=e;const i=rd(),{user:s}=Object(n.useContext)($e),{profile:c}=s,d=Object(n.useRef)(),m={shortcode:"",message:"",geral:!1,status:!0},[u,p]=Object(n.useState)(!1),[g,b]=Object(n.useState)(m),[E,f]=Object(n.useState)(null),A=Object(n.useRef)(null);Object(n.useEffect)(()=>{try{(async()=>{if(!r)return;const{data:e}=await Ge.get("/quick-messages/".concat(r));b(t=>({...t,...e}))})()}catch(e){He(e)}},[r,t]);const h=()=>{b(m),f(null),a()};return o.a.createElement("div",{className:i.root},o.a.createElement(ga,{title:Le.a.t("quickMessages.confirmationModal.deleteTitle"),open:u,onClose:()=>p(!1),onConfirm:async()=>{E&&(f(null),A.current.value=null),g.mediaPath&&(await Ge.delete("/quick-messages/".concat(g.id,"/media-upload")),b(e=>({...e,mediaPath:null})),C.b.success(Le.a.t("quickMessages.toasts.deleted")),"function"==typeof l&&l())}},Le.a.t("quickMessages.confirmationModal.deleteMessage")),o.a.createElement(ta.a,{open:t,onClose:h,maxWidth:"xs",fullWidth:!0,scroll:"paper"},o.a.createElement(pa.a,{id:"form-dialog-title"},"".concat(r?Le.a.t("quickMessages.dialog.edit"):Le.a.t("quickMessages.dialog.add"))),o.a.createElement("div",{style:{display:"none"}},o.a.createElement("input",{type:"file",ref:A,onChange:e=>(e=>{const t=Object(ze.head)(e.target.files);t&&f(t)})(e)})),o.a.createElement(tn.e,{initialValues:g,enableReinitialize:!0,validationSchema:ld,onSubmit:(e,t)=>{setTimeout(()=>{(async e=>{const t={...e,isMedia:!0,mediaPath:E?String(E.name).replace(/ /g,"_"):e.mediaPath?od.basename(e.mediaPath).replace(/ /g,"_"):null};try{if(r){if(await Ge.put("/quick-messages/".concat(r),t),null!=E){const e=new FormData;e.append("typeArch","quickMessage"),e.append("file",E),await Ge.post("/quick-messages/".concat(r,"/media-upload"),e)}}else{const{data:e}=await Ge.post("/quick-messages",t);if(null!=E){const t=new FormData;t.append("typeArch","quickMessage"),t.append("file",E),await Ge.post("/quick-messages/".concat(e.id,"/media-upload"),t)}}C.b.success(Le.a.t("quickMessages.toasts.success")),"function"==typeof l&&l()}catch(a){He(a)}h()})(e),t.setSubmitting(!1)},400)}},e=>{let{touched:t,errors:a,isSubmitting:n,setFieldValue:l,values:s}=e;return o.a.createElement(tn.d,null,o.a.createElement(ua.a,{dividers:!0},o.a.createElement(_a.a,{spacing:2,container:!0},o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(tn.b,{as:it.a,autoFocus:!0,label:Le.a.t("quickMessages.dialog.shortcode"),name:"shortcode",error:t.shortcode&&Boolean(a.shortcode),helperText:t.shortcode&&a.shortcode,variant:"outlined",margin:"dense",fullWidth:!0})),o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("quickMessages.dialog.message"),name:"message",inputRef:d,error:t.message&&Boolean(a.message),helperText:t.message&&a.message,variant:"outlined",margin:"dense",multiline:!0,rows:7,fullWidth:!0})),o.a.createElement(_a.a,{item:!0},o.a.createElement(El,{disabled:n,onClick:e=>(async(e,t)=>{const a=d.current,n=a.value.substring(0,a.selectionStart),o=a.value.substring(a.selectionEnd),r=a.selectionStart+e.length;t("message","".concat(n).concat(e).concat(o)),await new Promise(e=>setTimeout(e,100)),d.current.setSelectionRange(r,r)})(e,l)})),(g.mediaPath||E)&&o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(st.a,{startIcon:o.a.createElement(Dr.a,null)},E?E.name:g.mediaName),o.a.createElement(I.a,{onClick:()=>p(!0),color:"secondary"},o.a.createElement(Yo.a,{color:"secondary"}))))),o.a.createElement(aa.a,null,!E&&!g.mediaPath&&o.a.createElement(st.a,{color:"primary",onClick:()=>A.current.click(),disabled:n,variant:"outlined"},Le.a.t("quickMessages.buttons.attach")),o.a.createElement(st.a,{onClick:h,color:"secondary",disabled:n,variant:"outlined"},Le.a.t("quickMessages.buttons.cancel")),o.a.createElement(st.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},"".concat(r?Le.a.t("quickMessages.buttons.edit"):Le.a.t("quickMessages.buttons.add")),n&&o.a.createElement(Wt.a,{size:24,className:i.buttonProgress}))))})))};const sd=(e,t)=>{if("LOAD_QUICKMESSAGES"===t.type){const a=t.payload,n=[];return Object(ze.isArray)(a)&&a.forEach(t=>{const a=e.findIndex(e=>e.id===t.id);-1!==a?e[a]=t:n.push(t)}),[...e,...n]}if("UPDATE_QUICKMESSAGES"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a.id);return-1!==n?(e[n]=a,[...e]):[a,...e]}if("DELETE_QUICKMESSAGE"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===t.type)return[]},cd=Object(k.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var dd=()=>{const e=cd(),[t,a]=Object(n.useState)(!1),[r,l]=Object(n.useState)(1),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(null),[m,u]=Object(n.useState)(null),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)(!1),[f,A]=Object(n.useState)(""),[h,v]=Object(n.useReducer)(sd,[]),{user:x}=Object(n.useContext)($e),{profile:w}=x,S=Object(n.useContext)(y);Object(n.useEffect)(()=>{v({type:"RESET"}),l(1)},[f]),Object(n.useEffect)(()=>{a(!0);const e=setTimeout(()=>{O()},500);return()=>clearTimeout(e)},[f,r]),Object(n.useEffect)(()=>{const e=x.companyId,t=S.getSocket(e);return t.on("company".concat(e,"-quickemessage"),e=>{"update"!==e.action&&"create"!==e.action||v({type:"UPDATE_QUICKMESSAGES",payload:e.record}),"delete"===e.action&&v({type:"DELETE_QUICKMESSAGE",payload:+e.id})}),()=>{t.disconnect()}},[S,x.companyId]);const O=async()=>{try{x.companyId;const{data:e}=await Ge.get("/quick-messages",{params:{searchParam:f,pageNumber:r,userId:x.id}});v({type:"LOAD_QUICKMESSAGES",payload:e.records}),s(e.hasMore),a(!1)}catch(e){He(e)}};return o.a.createElement(ai,null,o.a.createElement(ga,{title:m&&"".concat(Le.a.t("quickMessages.confirmationModal.deleteTitle")," ").concat(m.shortcode,"?"),open:b,onClose:E,onConfirm:()=>(async e=>{try{await Ge.delete("/quick-messages/".concat(e)),C.b.success(Le.a.t("quickemessages.toasts.deleted"))}catch(t){He(t)}u(null),A(""),l(1),O(),v({type:"RESET"})})(m.id)},Le.a.t("quickMessages.confirmationModal.deleteMessage")),o.a.createElement(id,{resetPagination:()=>{l(1),O()},open:p,onClose:()=>{d(null),g(!1),O()},"aria-labelledby":"form-dialog-title",quickemessageId:c&&c.id}),o.a.createElement(oi,null,o.a.createElement(_a.a,{style:{width:"99.6%"},container:!0},o.a.createElement(_a.a,{xs:12,sm:8,item:!0},o.a.createElement(ii,null,Le.a.t("quickMessages.title"))),o.a.createElement(_a.a,{xs:12,sm:4,item:!0},o.a.createElement(_a.a,{spacing:2,container:!0},o.a.createElement(_a.a,{xs:6,sm:6,item:!0},o.a.createElement(it.a,{fullWidth:!0,placeholder:Le.a.t("quickMessages.searchPlaceholder"),type:"search",value:f,onChange:e=>{A(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(Zs.a,{position:"start"},o.a.createElement(qo.a,{style:{color:"gray"}}))}})),o.a.createElement(_a.a,{xs:6,sm:6,item:!0},o.a.createElement(st.a,{fullWidth:!0,variant:"contained",onClick:()=>{d(null),g(!0)},color:"primary"},Le.a.t("quickMessages.buttons.add"))))))),o.a.createElement(xn.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!i||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(a+100)<o&&l(e=>e+1)}},o.a.createElement(ao.a,{size:"small"},o.a.createElement(lo.a,null,o.a.createElement(io.a,null,o.a.createElement(oo.a,{align:"center"},Le.a.t("quickMessages.table.shortcode")),o.a.createElement(oo.a,{align:"center"},Le.a.t("quickMessages.table.mediaName")),o.a.createElement(oo.a,{align:"center"},Le.a.t("quickMessages.table.actions")))),o.a.createElement(no.a,null,o.a.createElement(o.a.Fragment,null,h.map(e=>{var t;return o.a.createElement(io.a,{key:e.id},o.a.createElement(oo.a,{align:"center"},e.shortcode),o.a.createElement(oo.a,{align:"center"},null!==(t=e.mediaName)&&void 0!==t?t:Le.a.t("quickMessages.noAttachment")),o.a.createElement(oo.a,{align:"center"},o.a.createElement(I.a,{size:"small",onClick:()=>(e=>{d(e),g(!0)})(e)},o.a.createElement(pt.a,null)),o.a.createElement(I.a,{size:"small",onClick:t=>{E(!0),u(e)}},o.a.createElement(Yo.a,null))))}),t&&o.a.createElement(ci,{columns:5}))))))},md=a(876),ud=a.n(md);const pd=Object(k.a)(e=>({root:{display:"flex",alignItems:"center",padding:e.spacing(1)},button:{background:"#10a110",border:"none",padding:"10px",color:"white",fontWeight:"bold",borderRadius:"5px"}}));var gd=()=>{const e=pd(),t=Object(x.useHistory)(),[a,r]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{try{var e;const t=null!==(e=(await Ge.get("/tags/kanban")).data.lista)&&void 0!==e?e:[];r(t),await g(p)}catch(t){console.log(t)}})()},[]);const[l,i]=Object(n.useState)({lanes:[]}),[s,c]=Object(n.useState)([]),{user:d}=Object(n.useContext)($e),{profile:m,queues:u}=d,p=d.queues.map(e=>e.UserQueue.queueId),g=async e=>{try{const{data:t}=await Ge.get("/ticket/kanban",{params:{queueIds:JSON.stringify(e),showAll:"admin"===m}});c(t.tickets)}catch(t){console.log(t),c([])}},b=e=>{t.push("/tickets/"+e)};Object(n.useEffect)(()=>{(t=>{const n=s.filter(e=>0===e.tags.length),r=[{id:"lane0",title:Le.a.t("kanban.open"),label:n.length.toString(),cards:n.map(t=>({id:t.id.toString(),label:"Ticket n\xba "+t.id.toString(),description:o.a.createElement("div",null,o.a.createElement("p",null,t.contact.number,o.a.createElement("br",null),t.lastMessage),o.a.createElement("button",{className:e.button,onClick:()=>{b(t.uuid)}},Le.a.t("kanban.seeTicket"))),title:t.contact.name,draggable:!0,href:"/tickets/"+t.uuid}))},...a.map(t=>{const a=s.filter(e=>e.tags.map(e=>e.id).includes(t.id));return{id:t.id.toString(),title:t.name,label:a.length.toString(),cards:a.map(t=>({id:t.id.toString(),label:"Ticket n\xba "+t.id.toString(),description:o.a.createElement("div",null,o.a.createElement("p",null,t.contact.number,o.a.createElement("br",null),t.lastMessage),o.a.createElement("button",{className:e.button,onClick:()=>{b(t.uuid)}},Le.a.t("kanban.seeTicket"))),title:t.contact.name,draggable:!0,href:"/tickets/"+t.uuid})),style:{backgroundColor:t.color,color:"white"}}})];i({lanes:r})})()},[a,s]);return o.a.createElement("div",{className:e.root},o.a.createElement(ud.a,{data:l,onCardMoveAcrossLanes:async(e,t,a)=>{try{await Ge.delete("/ticket-tags/".concat(a)),C.b.success(Le.a.t("kanban.toasts.removed")),await Ge.put("/ticket-tags/".concat(a,"/").concat(t)),C.b.success(Le.a.t("kanban.toasts.added"))}catch(n){console.log(n)}},style:{backgroundColor:"rgba(252, 252, 252, 0.03)"}}))};var bd=e=>{let{component:t,isPrivate:a=!1,...r}=e;const{isAuth:l,loading:i}=Object(n.useContext)($e);return!l&&a?o.a.createElement(o.a.Fragment,null,i&&o.a.createElement(gn,null),o.a.createElement(x.Redirect,{to:{pathname:"/login",state:{from:r.location}}})):l&&!a?o.a.createElement(o.a.Fragment,null,i&&o.a.createElement(gn,null),o.a.createElement(x.Redirect,{to:{pathname:"/",state:{from:r.location}}}),";"):o.a.createElement(o.a.Fragment,null,i&&o.a.createElement(gn,null),o.a.createElement(x.Route,Object.assign({},r,{component:t})))},Ed=a(539);a(803),a(1342),a(1343),a(1344),a(1345);const fd={fontSize:"14px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"};var Ad={date:Le.a.t("schedules.messages.date"),time:Le.a.t("schedules.messages.time"),event:Le.a.t("schedules.messages.event"),allDay:Le.a.t("schedules.messages.allDay"),week:Le.a.t("schedules.messages.week"),work_week:Le.a.t("schedules.messages.work_week"),day:Le.a.t("schedules.messages.day"),month:Le.a.t("schedules.messages.month"),previous:Le.a.t("schedules.messages.previous"),next:Le.a.t("schedules.messages.next"),yesterday:Le.a.t("schedules.messages.yesterday"),tomorrow:Le.a.t("schedules.messages.tomorrow"),today:Le.a.t("schedules.messages.today"),agenda:Le.a.t("schedules.messages.agenda"),noEventsInRange:Le.a.t("schedules.messages.noEventsInRange"),showMore:function(e){return"+"+e+" "+Le.a.t("schedules.messages.showMore")}};const hd=(e,t)=>{if("LOAD_SCHEDULES"===t.type)return[...e,...t.payload];if("UPDATE_SCHEDULES"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a.id);return-1!==n?(e[n]=a,[...e]):[a,...e]}if("DELETE_SCHEDULE"===t.type){const a=t.payload;return e.filter(e=>e.id!==a)}return"RESET"===t.type?[]:e},yd=Object(k.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var vd=()=>{const e=(()=>{const e=localStorage.getItem("i18nextLng")||"en";return O.a.locale("pt"===e?"pt-br":e),Object(Ed.b)(O.a)})(),t=yd(),{user:a}=(Object(x.useHistory)(),Object(n.useContext)($e)),[r,l]=Object(n.useState)(!1),[i,s]=Object(n.useState)(1),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)(null),[p,g]=Object(n.useState)(null),[b,E]=Object(n.useState)(!1),[f,A]=Object(n.useState)(""),[h,v]=Object(n.useReducer)(hd,[]),[w,S]=Object(n.useState)(!1),[k,T]=Object(n.useState)((j="contactId",+new URLSearchParams(window.location.search).get(j)));var j;const I=Object(n.useCallback)(async()=>{try{const{data:e}=await Ge.get("/schedules/",{params:{searchParam:f,pageNumber:i}});v({type:"LOAD_SCHEDULES",payload:e.schedules}),d(e.hasMore),l(!1)}catch(e){He(e)}},[f,i]),N=Object(n.useCallback)(()=>{k&&P()},[k]),M=Object(n.useContext)(y);Object(n.useEffect)(()=>{v({type:"RESET"}),s(1)},[f]),Object(n.useEffect)(()=>{l(!0);const e=setTimeout(()=>{I()},500);return()=>clearTimeout(e)},[f,i,k,I,N]),Object(n.useEffect)(()=>{N();const e=M.getSocket(a.companyId);return e.on("company".concat(a.companyId,"-schedule"),e=>{"update"!==e.action&&"create"!==e.action||v({type:"UPDATE_SCHEDULES",payload:e.schedule}),"delete"===e.action&&v({type:"DELETE_SCHEDULE",payload:+e.scheduleId})}),()=>{e.disconnect()}},[N,M,a]);const P=()=>{u(null),S(!0)},R=async e=>{try{await Ge.delete("/schedules/".concat(e)),C.b.success(Le.a.t("schedules.toasts.deleted"))}catch(t){He(t)}g(null),A(""),s(1),v({type:"RESET"}),s(1),await I()};return o.a.createElement(ai,null,o.a.createElement(ga,{title:p&&"".concat(Le.a.t("schedules.confirmationModal.deleteTitle")),open:b,onClose:()=>E(!1),onConfirm:()=>R(p.id)},Le.a.t("schedules.confirmationModal.deleteMessage")),o.a.createElement(hl,{open:w,onClose:()=>{u(null),S(!1)},reload:I,"aria-labelledby":"form-dialog-title",scheduleId:m&&m.id,contactId:k,cleanContact:()=>{T("")}}),o.a.createElement(oi,null,o.a.createElement(ii,null,Le.a.t("schedules.title")," (",h.length,")"),o.a.createElement(li,null,o.a.createElement(it.a,{placeholder:Le.a.t("contacts.searchPlaceholder"),type:"search",value:f,onChange:e=>{A(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(Zs.a,{position:"start"},o.a.createElement(qo.a,{style:{color:"gray"}}))}}),o.a.createElement(st.a,{variant:"contained",color:"primary",onClick:P},Le.a.t("schedules.buttons.add")))),o.a.createElement(xn.a,{className:t.mainPaper,variant:"outlined",onScroll:e=>{if(!c||r)return;const{scrollTop:t,scrollHeight:a,clientHeight:n}=e.currentTarget;a-(t+100)<n&&s(e=>e+1)}},o.a.createElement(Ed.a,{messages:Ad,formats:{agendaDateFormat:"DD/MM ddd",weekdayFormat:"dddd"},localizer:e,events:h.map(e=>({title:o.a.createElement("div",{className:"event-container"},o.a.createElement("div",{style:fd},e.contact.name),o.a.createElement(Yo.a,{onClick:()=>R(e.id),className:"delete-icon"}),o.a.createElement(pt.a,{onClick:()=>{(e=>{u(e),S(!0)})(e),S(!0)},className:"edit-icon"})),start:new Date(e.sendAt),end:new Date(e.sendAt)})),startAccessor:"start",endAccessor:"end",style:{height:500}})))},xd=a(896),Cd=a.n(xd),wd=a(895),Sd=a.n(wd),Od=a(894),kd=a.n(Od);const Td=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap",backgroundColor:"#fff"},tabmsg:{backgroundColor:e.palette.campaigntab},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),jd=en.b().shape({name:en.d().min(2,Le.a.t("campaigns.dialog.form.nameShort")).max(50,Le.a.t("campaigns.dialog.form.nameLong")).required(Le.a.t("campaigns.dialog.form.nameRequired"))});var Id=e=>{let{open:t,onClose:a,campaignId:r,initialValues:l,onSave:i,resetPagination:s}=e;const c=Td(),d=Object(n.useRef)(!0),{user:m}=Object(n.useContext)($e),{companyId:u}=m,[p,g]=Object(n.useState)(null),b={name:"",message1:"",message2:"",message3:"",message4:"",message5:"",status:"INATIVA",scheduledAt:"",whatsappId:"",contactListId:"",tagListId:"Nenhuma",companyId:u},[E,f]=Object(n.useState)(b),[A,h]=Object(n.useState)([]),[y,v]=Object(n.useState)([]),[x,w]=Object(n.useState)(0),[S,k]=Object(n.useState)(null),[T,j]=Object(n.useState)(!1),[N,M]=Object(n.useState)(!0),P=Object(n.useRef)(null),[R,D]=Object(n.useState)([]);Object(n.useEffect)(()=>()=>{d.current=!1},[]),Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ge.get("/files/",{params:{companyId:u}});g(e.files)}catch(e){He(e)}})()},[]),Object(n.useEffect)(()=>{if(d.current){if(l&&f(e=>({...e,...l})),Ge.get("/contact-lists/list",{params:{companyId:u}}).then(e=>{let{data:t}=e;return v(t)}),Ge.get("/whatsapp",{params:{companyId:u,session:0}}).then(e=>{let{data:t}=e;return h(t)}),Ge.get("/tags",{params:{companyId:u}}).then(e=>{let{data:t}=e;const a=t.tags.map(e=>({id:e.id,name:e.name}));D(a)}).catch(e=>{console.error("Error retrieving tags:",e)}),!r)return;Ge.get("/campaigns/".concat(r)).then(e=>{let{data:t}=e;f(e=>{let a=Object.assign({},e);return Object.entries(t).forEach(e=>{let[t,n]=e;a[t]="scheduledAt"===t&&""!==n&&null!==n?O()(n).format("YYYY-MM-DDTHH:mm"):null===n?"":n}),{...a,tagListId:t.tagId||"Nenhuma"}})})}},[r,t,l,u]),Object(n.useEffect)(()=>{const e=O()(),t=O()(E.scheduledAt),a=!Number.isNaN(t.diff(e))&&t.diff(e,"hour")>1,n="INATIVA"===E.status||"PROGRAMADA"===E.status&&a;M(n)},[E.status,E.scheduledAt]);const q=()=>{a(),f(b)},L=e=>o.a.createElement(tn.b,{as:it.a,id:e,name:e,fullWidth:!0,rows:5,label:Le.a.t("campaigns.dialog.form.".concat(e)),placeholder:Le.a.t("campaigns.dialog.form.messagePlaceholder"),multiline:!0,variant:"outlined",helperText:Le.a.t("campaigns.dialog.form.helper"),disabled:!N&&"CANCELADA"!==E.status});return o.a.createElement("div",{className:c.root},o.a.createElement(ga,{title:Le.a.t("campaigns.confirmationModal.deleteTitle"),open:T,onClose:()=>j(!1),onConfirm:async()=>{S&&(k(null),P.current.value=null),E.mediaPath&&(await Ge.delete("/campaigns/".concat(E.id,"/media-upload")),f(e=>({...e,mediaPath:null,mediaName:null})),C.b.success(Le.a.t("campaigns.toasts.deleted")))}},Le.a.t("campaigns.confirmationModal.deleteMessage")),o.a.createElement(ta.a,{open:t,onClose:q,fullWidth:!0,maxWidth:"md",scroll:"paper"},o.a.createElement(pa.a,{id:"form-dialog-title"},N?o.a.createElement(o.a.Fragment,null,"".concat(r?Le.a.t("campaigns.dialog.update"):Le.a.t("campaigns.dialog.new"))):o.a.createElement(o.a.Fragment,null,"".concat(Le.a.t("campaigns.dialog.readonly")))),o.a.createElement("div",{style:{display:"none"}},o.a.createElement("input",{type:"file",ref:P,onChange:e=>(e=>{const t=Object(ze.head)(e.target.files);t&&k(t)})(e)})),o.a.createElement(tn.e,{initialValues:E,enableReinitialize:!0,validationSchema:jd,onSubmit:(e,t)=>{setTimeout(()=>{(async e=>{try{const t={};if(Object.entries(e).forEach(e=>{let[a,n]=e;t[a]="scheduledAt"===a&&""!==n&&null!==n?O()(n).format("YYYY-MM-DD HH:mm:ss"):""===n?null:n}),r){if(await Ge.put("/campaigns/".concat(r),t),null!=S){const e=new FormData;e.append("file",S),await Ge.post("/campaigns/".concat(r,"/media-upload"),e)}q()}else{const{data:e}=await Ge.post("/campaigns",t);if(null!=S){const t=new FormData;t.append("file",S),await Ge.post("/campaigns/".concat(e.id,"/media-upload"),t)}i&&i(e),q()}C.b.success(Le.a.t("campaigns.toasts.success"))}catch(t){console.log(t),He(t)}})(e),t.setSubmitting(!1)},400)}},e=>{let{values:t,errors:a,touched:n,isSubmitting:l}=e;return o.a.createElement(tn.d,null,o.a.createElement(ua.a,{dividers:!0},o.a.createElement(_a.a,{spacing:2,container:!0},o.a.createElement(_a.a,{xs:12,md:9,item:!0},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("campaigns.dialog.form.name"),name:"name",error:n.name&&Boolean(a.name),helperText:n.name&&a.name,variant:"outlined",margin:"dense",fullWidth:!0,className:c.textField,disabled:!N})),o.a.createElement(_a.a,{xs:12,md:4,item:!0},o.a.createElement(on.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:c.formControl},o.a.createElement(nn.a,{id:"contactList-selection-label"},Le.a.t("campaigns.dialog.form.contactList")),o.a.createElement(tn.b,{as:an.a,label:Le.a.t("campaigns.dialog.form.contactList"),placeholder:Le.a.t("campaigns.dialog.form.contactList"),labelId:"contactList-selection-label",id:"contactListId",name:"contactListId",error:n.contactListId&&Boolean(a.contactListId),disabled:!N},o.a.createElement(F.a,{value:""},"Nenhuma"),y&&y.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name))))),o.a.createElement(_a.a,{xs:12,md:4,item:!0},o.a.createElement(on.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:c.formControl},o.a.createElement(nn.a,{id:"tagList-selection-label"},Le.a.t("campaigns.dialog.form.tagList")),o.a.createElement(tn.b,{as:an.a,label:Le.a.t("campaigns.dialog.form.tagList"),placeholder:Le.a.t("campaigns.dialog.form.tagList"),labelId:"tagList-selection-label",id:"tagListId",name:"tagListId",error:n.tagListId&&Boolean(a.tagListId),disabled:!N},o.a.createElement(F.a,{value:""},"Nenhuma"),Array.isArray(R)&&R.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name))))),o.a.createElement(_a.a,{xs:12,md:4,item:!0},o.a.createElement(on.a,{variant:"outlined",margin:"dense",fullWidth:!0,className:c.formControl},o.a.createElement(nn.a,{id:"whatsapp-selection-label"},Le.a.t("campaigns.dialog.form.whatsapp")),o.a.createElement(tn.b,{as:an.a,label:Le.a.t("campaigns.dialog.form.whatsapp"),placeholder:Le.a.t("campaigns.dialog.form.whatsapp"),labelId:"whatsapp-selection-label",id:"whatsappId",name:"whatsappId",error:n.whatsappId&&Boolean(a.whatsappId),disabled:!N},o.a.createElement(F.a,{value:""},"Nenhuma"),A&&A.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name))))),o.a.createElement(_a.a,{xs:12,md:4,item:!0},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("campaigns.dialog.form.scheduledAt"),name:"scheduledAt",error:n.scheduledAt&&Boolean(a.scheduledAt),helperText:n.scheduledAt&&a.scheduledAt,variant:"outlined",margin:"dense",type:"datetime-local",InputLabelProps:{shrink:!0},fullWidth:!0,className:c.textField,disabled:!N})),o.a.createElement(_a.a,{xs:12,md:4,item:!0},o.a.createElement(on.a,{variant:"outlined",margin:"dense",className:c.FormControl,fullWidth:!0},o.a.createElement(nn.a,{id:"fileListId-selection-label"},Le.a.t("campaigns.dialog.form.fileList")),o.a.createElement(tn.b,{as:an.a,label:Le.a.t("campaigns.dialog.form.fileList"),name:"fileListId",id:"fileListId",placeholder:Le.a.t("campaigns.dialog.form.fileList"),labelId:"fileListId-selection-label",value:t.fileListId||""},o.a.createElement(F.a,{value:""},"Nenhum"),p.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name))))),o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(Lo.a,{value:x,indicatorColor:"primary",textColor:"primary",className:c.tabmsg,onChange:(e,t)=>w(t),variant:"fullWidth",centered:!0,style:{borderRadius:2}},o.a.createElement(Wo.a,{label:"Msg. 1",index:0}),o.a.createElement(Wo.a,{label:"Msg. 2",index:1}),o.a.createElement(Wo.a,{label:"Msg. 3",index:2}),o.a.createElement(Wo.a,{label:"Msg. 4",index:3}),o.a.createElement(Wo.a,{label:"Msg. 5",index:4})),o.a.createElement(Lt.a,{style:{paddingTop:20,border:"none"}},0===x&&o.a.createElement(o.a.Fragment,null,L("message1")),1===x&&o.a.createElement(o.a.Fragment,null,L("message2")),2===x&&o.a.createElement(o.a.Fragment,null,L("message3")),3===x&&o.a.createElement(o.a.Fragment,null,L("message4")),4===x&&o.a.createElement(o.a.Fragment,null,L("message5")))),(E.mediaPath||S)&&o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(st.a,{startIcon:o.a.createElement(Dr.a,null)},null!=S?S.name:E.mediaName),N&&o.a.createElement(I.a,{onClick:()=>j(!0),color:"secondary"},o.a.createElement(Yo.a,null))))),o.a.createElement(aa.a,null,"CANCELADA"===E.status&&o.a.createElement(st.a,{color:"primary",onClick:()=>(async()=>{try{await Ge.post("/campaigns/".concat(E.id,"/restart")),C.b.success(Le.a.t("campaigns.toasts.restart")),f(e=>({...e,status:"EM_ANDAMENTO"})),s()}catch(e){C.b.error(e.message)}})(),variant:"outlined"},Le.a.t("campaigns.dialog.buttons.restart")),"EM_ANDAMENTO"===E.status&&o.a.createElement(st.a,{color:"primary",onClick:()=>(async()=>{try{await Ge.post("/campaigns/".concat(E.id,"/cancel")),C.b.success(Le.a.t("campaigns.toasts.cancel")),f(e=>({...e,status:"CANCELADA"})),s()}catch(e){C.b.error(e.message)}})(),variant:"outlined"},Le.a.t("campaigns.dialog.buttons.cancel")),!S&&!E.mediaPath&&N&&o.a.createElement(st.a,{color:"primary",onClick:()=>P.current.click(),disabled:l,variant:"outlined"},Le.a.t("campaigns.dialog.buttons.attach")),o.a.createElement(st.a,{onClick:q,color:"secondary",disabled:l,variant:"outlined"},Le.a.t("campaigns.dialog.buttons.close")),(N||"CANCELADA"===E.status)&&o.a.createElement(st.a,{type:"submit",color:"primary",disabled:l,variant:"contained",className:c.btnWrapper},"".concat(r?Le.a.t("campaigns.dialog.buttons.edit"):Le.a.t("campaigns.dialog.buttons.add")),l&&o.a.createElement(Wt.a,{size:24,className:c.buttonProgress}))))})))};const Nd=(e,t)=>{if("LOAD_CAMPAIGNS"===t.type){const a=t.payload,n=[];return Object(ze.isArray)(a)&&a.forEach(t=>{const a=e.findIndex(e=>e.id===t.id);-1!==a?e[a]=t:n.push(t)}),[...e,...n]}if("UPDATE_CAMPAIGNS"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a.id);return-1!==n?(e[n]=a,[...e]):[a,...e]}if("DELETE_CAMPAIGN"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===t.type)return[]},Md=Object(k.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var Pd=()=>{const e=Md(),t=Object(x.useHistory)(),[a,r]=Object(n.useState)(!1),[l,i]=Object(n.useState)(1),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[u,p]=Object(n.useState)(null),[g,b]=Object(n.useState)(!1),[E,f]=Object(n.useState)(!1),[A,h]=Object(n.useState)(""),[v,w]=Object(n.useReducer)(Nd,[]),{datetimeToClient:S}=jn(),O=Object(n.useContext)(y);Object(n.useEffect)(()=>{w({type:"RESET"}),i(1)},[A]),Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{k()},500);return()=>clearTimeout(e)},[A,l]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),t=O.getSocket(e);return t.on("company-".concat(e,"-campaign"),e=>{"update"!==e.action&&"create"!==e.action||w({type:"UPDATE_CAMPAIGNS",payload:e.record}),"delete"===e.action&&w({type:"DELETE_CAMPAIGN",payload:+e.id})}),()=>{t.disconnect()}},[O]);const k=async()=>{try{const{data:e}=await Ge.get("/campaigns/",{params:{searchParam:A,pageNumber:l}});w({type:"LOAD_CAMPAIGNS",payload:e.records}),c(e.hasMore),r(!1)}catch(e){He(e)}};return o.a.createElement(ai,null,o.a.createElement(ga,{title:u&&"".concat(Le.a.t("campaigns.confirmationModal.deleteTitle")," ").concat(u.name,"?"),open:E,onClose:f,onConfirm:()=>(async e=>{try{await Ge.delete("/campaigns/".concat(e)),C.b.success(Le.a.t("campaigns.toasts.deleted"))}catch(t){He(t)}p(null),h(""),i(1)})(u.id)},Le.a.t("campaigns.confirmationModal.deleteMessage")),o.a.createElement(Id,{resetPagination:()=>{i(1),k()},open:g,onClose:()=>{m(null),b(!1)},"aria-labelledby":"form-dialog-title",campaignId:d&&d.id}),o.a.createElement(oi,null,o.a.createElement(_a.a,{style:{width:"99.6%"},container:!0},o.a.createElement(_a.a,{xs:12,sm:8,item:!0},o.a.createElement(ii,null,Le.a.t("campaigns.title"))),o.a.createElement(_a.a,{xs:12,sm:4,item:!0},o.a.createElement(_a.a,{spacing:2,container:!0},o.a.createElement(_a.a,{xs:6,sm:6,item:!0},o.a.createElement(it.a,{fullWidth:!0,placeholder:Le.a.t("campaigns.searchPlaceholder"),type:"search",value:A,onChange:e=>{h(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(Zs.a,{position:"start"},o.a.createElement(qo.a,{style:{color:"gray"}}))}})),o.a.createElement(_a.a,{xs:6,sm:6,item:!0},o.a.createElement(st.a,{fullWidth:!0,variant:"contained",onClick:()=>{m(null),b(!0)},color:"primary"},Le.a.t("campaigns.buttons.add"))))))),o.a.createElement(xn.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!s||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(t+100)<o&&i(e=>e+1)}},o.a.createElement(ao.a,{size:"small"},o.a.createElement(lo.a,null,o.a.createElement(io.a,null,o.a.createElement(oo.a,{align:"center"},Le.a.t("campaigns.table.name")),o.a.createElement(oo.a,{align:"center"},Le.a.t("campaigns.table.status")),o.a.createElement(oo.a,{align:"center"},Le.a.t("campaigns.table.contactList")),o.a.createElement(oo.a,{align:"center"},Le.a.t("campaigns.table.whatsapp")),o.a.createElement(oo.a,{align:"center"},Le.a.t("campaigns.table.scheduledAt")),o.a.createElement(oo.a,{align:"center"},Le.a.t("campaigns.table.completedAt")),o.a.createElement(oo.a,{align:"center"},Le.a.t("campaigns.table.actions")))),o.a.createElement(no.a,null,o.a.createElement(o.a.Fragment,null,v.map(e=>o.a.createElement(io.a,{key:e.id},o.a.createElement(oo.a,{align:"center"},e.name),o.a.createElement(oo.a,{align:"center"},(e=>{switch(e){case"INATIVA":return Le.a.t("campaigns.status.inactive");case"PROGRAMADA":return Le.a.t("campaigns.status.programmed");case"EM_ANDAMENTO":return Le.a.t("campaigns.status.inProgress");case"CANCELADA":return Le.a.t("campaigns.status.canceled");case"FINALIZADA":return Le.a.t("campaigns.status.finished");default:return e}})(e.status)),o.a.createElement(oo.a,{align:"center"},e.contactListId?e.contactList.name:Le.a.t("campaigns.table.notDefined")),o.a.createElement(oo.a,{align:"center"},e.whatsappId?e.whatsapp.name:Le.a.t("campaigns.table.notDefined2")),o.a.createElement(oo.a,{align:"center"},e.scheduledAt?S(e.scheduledAt):Le.a.t("campaigns.table.notScheduled")),o.a.createElement(oo.a,{align:"center"},e.completedAt?S(e.completedAt):Le.a.t("campaigns.table.notConcluded")),o.a.createElement(oo.a,{align:"center"},"EM_ANDAMENTO"===e.status&&o.a.createElement(I.a,{onClick:()=>(async e=>{try{await Ge.post("/campaigns/".concat(e.id,"/cancel")),C.b.success(Le.a.t("campaigns.toasts.cancel")),i(1),k()}catch(t){C.b.error(t.message)}})(e),title:Le.a.t("campaigns.table.stopCampaign"),size:"small"},o.a.createElement(kd.a,null)),"CANCELADA"===e.status&&o.a.createElement(I.a,{onClick:()=>(async e=>{try{await Ge.post("/campaigns/".concat(e.id,"/restart")),C.b.success(Le.a.t("campaigns.toasts.restart")),i(1),k()}catch(t){C.b.error(t.message)}})(e),title:Le.a.t("campaigns.table.stopCampaign"),size:"small"},o.a.createElement(Sd.a,null)),o.a.createElement(I.a,{onClick:()=>t.push("/campaign/".concat(e.id,"/report")),size:"small"},o.a.createElement(Cd.a,null)),o.a.createElement(I.a,{size:"small",onClick:()=>(e=>{m(e),b(!0)})(e)},o.a.createElement(pt.a,null)),o.a.createElement(I.a,{size:"small",onClick:t=>{f(!0),p(e)}},o.a.createElement(Yo.a,null))))),a&&o.a.createElement(ci,{columns:8}))))))};const Rd=Object(k.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles},textRight:{textAlign:"right"},tabPanelsContainer:{padding:e.spacing(2)}})),Dd={messageInterval:20,longerIntervalAfter:20,greaterInterval:60,variables:[]};var qd=()=>{const e=Rd(),[t,a]=Object(n.useState)(Dd),[r,l]=Object(n.useState)(!1),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(null),[m,u]=Object(n.useState)({key:"",value:""});Object(n.useEffect)(()=>{Ge.get("/campaign-settings").then(e=>{let{data:t}=e;const n=[];Array.isArray(t)&&t.length>0&&(t.forEach(e=>{n.push([e.key,JSON.parse(e.value)])}),a(Object.fromEntries(n)))})},[]);const p=e=>{if(null!==e.target.value){const t={};t[e.target.name]=e.target.value,u(e=>({...e,...t}))}},g=e=>{const t={};t[e.target.name]=e.target.value,a(e=>({...e,...t}))};return o.a.createElement(ai,null,o.a.createElement(ga,{title:Le.a.t("campaigns.confirmationModal.deleteTitle"),open:i,onClose:()=>s(!1),onConfirm:()=>{const e=t.variables.filter(e=>e.key!==c);a(t=>({...t,variables:e})),d(null)}},Le.a.t("campaigns.confirmationModal.deleteMessage")),o.a.createElement(oi,null,o.a.createElement(_a.a,{style:{width:"99.6%"},container:!0},o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(ii,null,Le.a.t("campaignsConfig.title"))))),o.a.createElement(xn.a,{className:e.mainPaper,variant:"outlined"},o.a.createElement(Lt.a,{className:e.tabPanelsContainer},o.a.createElement(_a.a,{spacing:2,container:!0},o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(D.a,{component:"h3"},Le.a.t("campaigns.config.interval"))),o.a.createElement(_a.a,{xs:12,md:4,item:!0},o.a.createElement(on.a,{variant:"outlined",className:e.formControl,fullWidth:!0},o.a.createElement(nn.a,{id:"messageInterval-label"},Le.a.t("campaigns.config.randomInterval")),o.a.createElement(an.a,{name:"messageInterval",id:"messageInterval",labelId:"messageInterval-label",label:Le.a.t("campaigns.config.randomInterval"),value:t.messageInterval,onChange:e=>g(e)},o.a.createElement(F.a,{value:0},Le.a.t("campaigns.config.noInterval")),o.a.createElement(F.a,{value:5},"5 ",Le.a.t("campaigns.config.seconds")),o.a.createElement(F.a,{value:10},"10 ",Le.a.t("campaigns.config.seconds")),o.a.createElement(F.a,{value:15},"15 ",Le.a.t("campaigns.config.seconds")),o.a.createElement(F.a,{value:20},"20 ",Le.a.t("campaigns.config.seconds"))))),o.a.createElement(_a.a,{xs:12,md:4,item:!0},o.a.createElement(on.a,{variant:"outlined",className:e.formControl,fullWidth:!0},o.a.createElement(nn.a,{id:"longerIntervalAfter-label"},Le.a.t("campaigns.config.biggerInterval")),o.a.createElement(an.a,{name:"longerIntervalAfter",id:"longerIntervalAfter",labelId:"longerIntervalAfter-label",label:Le.a.t("campaigns.config.biggerInterval"),value:t.longerIntervalAfter,onChange:e=>g(e)},o.a.createElement(F.a,{value:0},Le.a.t("campaigns.config.notDefined")),o.a.createElement(F.a,{value:1},"1 ",Le.a.t("campaigns.config.second")),o.a.createElement(F.a,{value:5},"5 ",Le.a.t("campaigns.config.seconds")),o.a.createElement(F.a,{value:10},"10 ",Le.a.t("campaigns.config.seconds")),o.a.createElement(F.a,{value:15},"15 ",Le.a.t("campaigns.config.seconds")),o.a.createElement(F.a,{value:20},"20 ",Le.a.t("campaigns.config.seconds")),o.a.createElement(F.a,{value:30},"30 ",Le.a.t("campaigns.config.seconds")),o.a.createElement(F.a,{value:40},"40 ",Le.a.t("campaigns.config.seconds")),o.a.createElement(F.a,{value:60},"60 ",Le.a.t("campaigns.config.seconds")),o.a.createElement(F.a,{value:80},"80 ",Le.a.t("campaigns.config.seconds")),o.a.createElement(F.a,{value:100},"100 ",Le.a.t("campaigns.config.seconds")),o.a.createElement(F.a,{value:120},"120 ",Le.a.t("campaigns.config.seconds"))))),o.a.createElement(_a.a,{xs:12,md:4,item:!0},o.a.createElement(on.a,{variant:"outlined",className:e.formControl,fullWidth:!0},o.a.createElement(nn.a,{id:"greaterInterval-label"},Le.a.t("campaigns.config.greaterInterval")),o.a.createElement(an.a,{name:"greaterInterval",id:"greaterInterval",labelId:"greaterInterval-label",label:Le.a.t("campaigns.config.greaterInterval"),value:t.greaterInterval,onChange:e=>g(e)},o.a.createElement(F.a,{value:0},Le.a.t("campaigns.config.noInterval")),o.a.createElement(F.a,{value:1},"1 ",Le.a.t("campaigns.config.second")),o.a.createElement(F.a,{value:5},"5 ",Le.a.t("campaigns.config.seconds")),o.a.createElement(F.a,{value:10},"10 ",Le.a.t("campaigns.config.seconds")),o.a.createElement(F.a,{value:15},"15 ",Le.a.t("campaigns.config.seconds")),o.a.createElement(F.a,{value:20},"20 ",Le.a.t("campaigns.config.seconds")),o.a.createElement(F.a,{value:30},"30 ",Le.a.t("campaigns.config.seconds")),o.a.createElement(F.a,{value:40},"40 ",Le.a.t("campaigns.config.seconds")),o.a.createElement(F.a,{value:60},"60 ",Le.a.t("campaigns.config.seconds")),o.a.createElement(F.a,{value:80},"80 ",Le.a.t("campaigns.config.seconds")),o.a.createElement(F.a,{value:100},"100 ",Le.a.t("campaigns.config.seconds")),o.a.createElement(F.a,{value:120},"120 ",Le.a.t("campaigns.config.seconds"))))),o.a.createElement(_a.a,{xs:12,className:e.textRight,item:!0},o.a.createElement(st.a,{onClick:()=>l(!r),color:"primary",style:{marginRight:10}},Le.a.t("campaigns.config.addVariable")),o.a.createElement(st.a,{onClick:async()=>{await Ge.post("/campaign-settings",{settings:t}),C.b.success(Le.a.t("campaigns.toasts.configSaved"))},color:"primary",variant:"contained"},Le.a.t("campaigns.config.save"))),r&&o.a.createElement(o.a.Fragment,null,o.a.createElement(_a.a,{xs:12,md:6,item:!0},o.a.createElement(it.a,{label:Le.a.t("campaigns.config.shortcut"),variant:"outlined",value:m.key,name:"key",onChange:p,fullWidth:!0})),o.a.createElement(_a.a,{xs:12,md:6,item:!0},o.a.createElement(it.a,{label:Le.a.t("campaigns.config.content"),variant:"outlined",value:m.value,name:"value",onChange:p,fullWidth:!0})),o.a.createElement(_a.a,{xs:12,className:e.textRight,item:!0},o.a.createElement(st.a,{onClick:()=>l(!r),color:"primary",style:{marginRight:10}},Le.a.t("campaigns.config.close")),o.a.createElement(st.a,{onClick:()=>{a(e=>{const a=t.variables.filter(e=>e.key===m.key),n=e.variables;return 0===a.length&&(n.push(Object.assign({},m)),u({key:"",value:""})),{...e,variables:n}})},color:"primary",variant:"contained"},Le.a.t("campaigns.config.add")))),t.variables.length>0&&o.a.createElement(_a.a,{xs:12,className:e.textRight,item:!0},o.a.createElement(ao.a,{size:"small"},o.a.createElement(lo.a,null,o.a.createElement(io.a,null,o.a.createElement(oo.a,{style:{width:"1%"}}),o.a.createElement(oo.a,null,Le.a.t("campaigns.config.shortcut")),o.a.createElement(oo.a,null,Le.a.t("campaigns.config.content")))),o.a.createElement(no.a,null,Array.isArray(t.variables)&&t.variables.map((e,t)=>o.a.createElement(io.a,{key:t},o.a.createElement(oo.a,null,o.a.createElement(I.a,{size:"small",onClick:()=>{d(e.key),s(!0)}},o.a.createElement(Yo.a,null))),o.a.createElement(oo.a,null,"{"+e.key+"}"),o.a.createElement(oo.a,null,e.value))))))))))},Fd=a(1569);const Ld=Object(k.a)(e=>({cardAvatar:{fontSize:"55px",color:Rt.a[500],backgroundColor:"#ffffff",width:e.spacing(7),height:e.spacing(7)},cardTitle:{fontSize:"18px",color:e.palette.text.primary},cardSubtitle:{color:Rt.a[600],fontSize:"14px"}}));function Wd(e){const{icon:t,title:a,value:n,loading:r}=e,l=Ld();return r?o.a.createElement(Ta.a,{variant:"rect",height:80}):o.a.createElement(Oa.a,null,o.a.createElement(ka.a,{avatar:o.a.createElement(Ft.a,{className:l.cardAvatar},t),title:o.a.createElement(D.a,{variant:"h6",component:"h2",className:l.cardTitle},a),subheader:o.a.createElement(D.a,{variant:"subtitle1",component:"p",className:l.cardSubtitle},n)}))}var Bd=a(897),zd=a.n(Bd),Hd=a(898),Ud=a.n(Hd);const Vd=Object(k.a)(e=>({mainPaper:{flex:1,padding:e.spacing(2),overflowY:"scroll",...e.scrollbarStyles},textRight:{textAlign:"right"},tabPanelsContainer:{padding:e.spacing(2)}}));var Qd=()=>{const e=Vd(),{campaignId:t}=Object(x.useParams)(),[a,r]=Object(n.useState)({}),[l,i]=Object(n.useState)(0),[s,c]=Object(n.useState)(0),[d,m]=Object(n.useState)(0),[u,p]=Object(n.useState)(!1),g=Object(n.useRef)(!0),{datetimeToClient:b}=jn(),E=Object(n.useContext)(y);Object(n.useEffect)(()=>(g.current&&f(),()=>{g.current=!1}),[]),Object(n.useEffect)(()=>{if(g.current&&Object(ze.has)(a,"shipping")){if(Object(ze.has)(a,"contactList")){const e=Object(ze.get)(a,"contactList");if(!e)return;const t=e.contacts.filter(e=>e.isWhatsappValid);i(t.length)}if(Object(ze.has)(a,"shipping")){const e=Object(ze.get)(a,"shipping");if(!e)return;const t=e.filter(e=>!Object(ze.isNull)(e.deliveredAt));c(t.length)}}},[a]),Object(n.useEffect)(()=>{m(s/l*100)},[s,l]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),a=E.getSocket(e);return a.on("company-".concat(e,"-campaign"),e=>{e.record.id===+t&&(r(e.record),"FINALIZADA"===e.record.status&&setTimeout(()=>{f()},5e3))}),()=>{a.disconnect()}},[t,E]);const f=async()=>{p(!0);const{data:e}=await Ge.get("/campaigns/".concat(t));r(e),p(!1)};return o.a.createElement(ai,null,o.a.createElement(oi,null,o.a.createElement(_a.a,{style:{width:"99.6%"},container:!0},o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(ii,null,Le.a.t("campaigns.report.title")," ",a.name||Le.a.t("campaigns.report.title2"))))),o.a.createElement(xn.a,{className:e.mainPaper,variant:"outlined"},o.a.createElement(D.a,{variant:"h6",component:"h2"},"Status: ",(e=>{switch(e){case"INATIVA":return Le.a.t("campaigns.status.inactive");case"PROGRAMADA":return Le.a.t("campaigns.status.programmed");case"EM_ANDAMENTO":return Le.a.t("campaigns.status.inProgress");case"CANCELADA":return Le.a.t("campaigns.status.canceled");case"FINALIZADA":return Le.a.t("campaigns.status.finished");default:return e}})(a.status)," ",s," ",Le.a.t("campaigns.report.of")," ",l),o.a.createElement(_a.a,{spacing:2,container:!0},o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(Fd.a,{variant:"determinate",style:{height:15,borderRadius:3,margin:"20px 0"},value:d})),o.a.createElement(_a.a,{xs:12,md:4,item:!0},o.a.createElement(Wd,{icon:o.a.createElement(zd.a,{fontSize:"inherit"}),title:Le.a.t("campaigns.report.validContacts"),value:l,loading:u})),o.a.createElement(_a.a,{xs:12,md:4,item:!0},o.a.createElement(Wd,{icon:o.a.createElement(Zn.a,{fontSize:"inherit"}),title:Le.a.t("campaigns.report.delivered"),value:s,loading:u})),a.whatsappId&&o.a.createElement(_a.a,{xs:12,md:4,item:!0},o.a.createElement(Wd,{icon:o.a.createElement(te.a,{fontSize:"inherit"}),title:Le.a.t("campaigns.report.connection"),value:a.whatsapp.name,loading:u})),a.contactListId&&o.a.createElement(_a.a,{xs:12,md:4,item:!0},o.a.createElement(Wd,{icon:o.a.createElement(Ne.a,{fontSize:"inherit"}),title:Le.a.t("campaigns.report.contactList"),value:a.contactList.name,loading:u})),o.a.createElement(_a.a,{xs:12,md:4,item:!0},o.a.createElement(Wd,{icon:o.a.createElement(Ud.a,{fontSize:"inherit"}),title:Le.a.t("campaigns.report.schedule"),value:b(a.scheduledAt),loading:u})),o.a.createElement(_a.a,{xs:12,md:4,item:!0},o.a.createElement(Wd,{icon:o.a.createElement(Ce.a,{fontSize:"inherit"}),title:Le.a.t("campaigns.report.conclusion"),value:b(a.completedAt),loading:u})))))};const Kd=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}})),Gd=en.b().shape({title:en.d().required(Le.a.t("announcements.dialog.form.required")),text:en.d().required(Le.a.t("announcements.dialog.form.required"))});var Yd=e=>{let{open:t,onClose:a,announcementId:r,reload:l}=e;const i=Kd(),s={title:"",text:"",priority:3,status:!0},[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)(s),[p,g]=Object(n.useState)(null),b=Object(n.useRef)(null);Object(n.useEffect)(()=>{try{(async()=>{if(!r)return;const{data:e}=await Ge.get("/announcements/".concat(r));u(t=>({...t,...e}))})()}catch(e){He(e)}},[r,t]);const E=()=>{u(s),g(null),a()};return o.a.createElement("div",{className:i.root},o.a.createElement(ga,{title:Le.a.t("announcements.confirmationModal.deleteTitle"),open:c,onClose:()=>d(!1),onConfirm:async()=>{p&&(g(null),b.current.value=null),m.mediaPath&&(await Ge.delete("/announcements/".concat(m.id,"/media-upload")),u(e=>({...e,mediaPath:null})),C.b.success(Le.a.t("announcements.toasts.deleted")),"function"==typeof l&&l())}},Le.a.t("announcements.confirmationModal.deleteMessage")),o.a.createElement(ta.a,{open:t,onClose:E,maxWidth:"xs",fullWidth:!0,scroll:"paper"},o.a.createElement(pa.a,{id:"form-dialog-title"},"".concat(r?Le.a.t("announcements.dialog.edit"):Le.a.t("announcements.dialog.add"))),o.a.createElement("div",{style:{display:"none"}},o.a.createElement("input",{type:"file",accept:".png,.jpg,.jpeg",ref:b,onChange:e=>(e=>{const t=Object(ze.head)(e.target.files);t&&g(t)})(e)})),o.a.createElement(tn.e,{initialValues:m,enableReinitialize:!0,validationSchema:Gd,onSubmit:(e,t)=>{setTimeout(()=>{(async e=>{const t={...e};try{if(r){if(await Ge.put("/announcements/".concat(r),t),null!=p){const e=new FormData;e.append("file",p),await Ge.post("/announcements/".concat(r,"/media-upload"),e)}}else{const{data:e}=await Ge.post("/announcements",t);if(null!=p){const t=new FormData;t.append("file",p),await Ge.post("/announcements/".concat(e.id,"/media-upload"),t)}}C.b.success(Le.a.t("announcements.toasts.success")),"function"==typeof l&&l()}catch(a){He(a)}E()})(e),t.setSubmitting(!1)},400)}},e=>{let{touched:t,errors:a,isSubmitting:n,values:l}=e;return o.a.createElement(tn.d,null,o.a.createElement(ua.a,{dividers:!0},o.a.createElement(_a.a,{spacing:2,container:!0},o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("announcements.dialog.form.title"),name:"title",error:t.title&&Boolean(a.title),helperText:t.title&&a.title,variant:"outlined",margin:"dense",fullWidth:!0})),o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("announcements.dialog.form.text"),name:"text",error:t.text&&Boolean(a.text),helperText:t.text&&a.text,variant:"outlined",margin:"dense",multiline:!0,rows:7,fullWidth:!0})),o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(on.a,{variant:"outlined",margin:"dense",fullWidth:!0},o.a.createElement(nn.a,{id:"status-selection-label"},Le.a.t("announcements.dialog.form.status")),o.a.createElement(tn.b,{as:an.a,label:Le.a.t("announcements.dialog.form.status"),placeholder:Le.a.t("announcements.dialog.form.status"),labelId:"status-selection-label",id:"status",name:"status",error:t.status&&Boolean(a.status)},o.a.createElement(F.a,{value:!0},"Ativo"),o.a.createElement(F.a,{value:!1},"Inativo")))),o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(on.a,{variant:"outlined",margin:"dense",fullWidth:!0},o.a.createElement(nn.a,{id:"priority-selection-label"},Le.a.t("announcements.dialog.form.priority")),o.a.createElement(tn.b,{as:an.a,label:Le.a.t("announcements.dialog.form.priority"),placeholder:Le.a.t("announcements.dialog.form.priority"),labelId:"priority-selection-label",id:"priority",name:"priority",error:t.priority&&Boolean(a.priority)},o.a.createElement(F.a,{value:1},"Alta"),o.a.createElement(F.a,{value:2},"M\xe9dia"),o.a.createElement(F.a,{value:3},"Baixa")))),(m.mediaPath||p)&&o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(st.a,{startIcon:o.a.createElement(Dr.a,null)},p?p.name:m.mediaName),o.a.createElement(I.a,{onClick:()=>d(!0),color:"secondary"},o.a.createElement(Yo.a,null))))),o.a.createElement(aa.a,null,!p&&!m.mediaPath&&o.a.createElement(st.a,{color:"primary",onClick:()=>b.current.click(),disabled:n,variant:"outlined"},Le.a.t("announcements.dialog.buttons.attach")),o.a.createElement(st.a,{onClick:E,color:"secondary",disabled:n,variant:"outlined"},Le.a.t("announcements.dialog.buttons.cancel")),o.a.createElement(st.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},"".concat(r?Le.a.t("announcements.dialog.buttons.add"):Le.a.t("announcements.dialog.buttons.edit")),n&&o.a.createElement(Wt.a,{size:24,className:i.buttonProgress}))))})))};const Xd=(e,t)=>{if("LOAD_ANNOUNCEMENTS"===t.type){const a=t.payload,n=[];return Object(ze.isArray)(a)&&a.forEach(t=>{const a=e.findIndex(e=>e.id===t.id);-1!==a?e[a]=t:n.push(t)}),[...e,...n]}if("UPDATE_ANNOUNCEMENTS"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a.id);return-1!==n?(e[n]=a,[...e]):[a,...e]}if("DELETE_ANNOUNCEMENT"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===t.type)return[]},_d=Object(k.a)(e=>({mainPaper:{flex:1,padding:e.padding,overflowY:"scroll",...e.scrollbarStyles}}));var Zd=()=>{const e=_d(),t=Object(x.useHistory)(),{user:a}=Object(n.useContext)($e),[r,l]=Object(n.useState)(!1),[i,s]=Object(n.useState)(1),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)(null),[p,g]=Object(n.useState)(null),[b,E]=Object(n.useState)(!1),[f,A]=Object(n.useState)(!1),[h,v]=Object(n.useState)(""),[w,S]=Object(n.useReducer)(Xd,[]),O=Object(n.useContext)(y);Object(n.useEffect)(()=>{!async function(){a.super||(C.b.error(Le.a.t("announcements.toasts.info")),setTimeout(()=>{t.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{S({type:"RESET"}),s(1)},[h]),Object(n.useEffect)(()=>{l(!0);const e=setTimeout(()=>{k()},500);return()=>clearTimeout(e)},[h,i]),Object(n.useEffect)(()=>{const e=a.companyId,t=O.getSocket(e);return t.on("company-announcement",e=>{"update"!==e.action&&"create"!==e.action||S({type:"UPDATE_ANNOUNCEMENTS",payload:e.record}),"delete"===e.action&&S({type:"DELETE_ANNOUNCEMENT",payload:+e.id})}),()=>{t.disconnect()}},[O,a.companyId]);const k=async()=>{try{const{data:e}=await Ge.get("/announcements/",{params:{searchParam:h,pageNumber:i}});S({type:"LOAD_ANNOUNCEMENTS",payload:e.records}),d(e.hasMore),l(!1)}catch(e){He(e)}};return o.a.createElement(ai,null,o.a.createElement(ga,{title:p&&"".concat(Le.a.t("announcements.confirmationModal.deleteTitle")," ").concat(p.name,"?"),open:f,onClose:A,onConfirm:()=>(async e=>{try{e.mediaName&&await Ge.delete("/announcements/".concat(e.id,"/media-upload")),await Ge.delete("/announcements/".concat(e.id)),C.b.success(Le.a.t("announcements.toasts.deleted"))}catch(t){He(t)}g(null),v(""),s(1)})(p)},Le.a.t("announcements.confirmationModal.deleteMessage")),o.a.createElement(Yd,{resetPagination:()=>{s(1),k()},open:b,onClose:()=>{u(null),E(!1)},"aria-labelledby":"form-dialog-title",announcementId:m&&m.id}),o.a.createElement(oi,null,o.a.createElement(_a.a,{style:{width:"99.6%"},container:!0},o.a.createElement(_a.a,{xs:12,sm:8,item:!0},o.a.createElement(ii,null,Le.a.t("announcements.title")," (",w.length,")")),o.a.createElement(_a.a,{xs:12,sm:4,item:!0},o.a.createElement(_a.a,{spacing:2,container:!0},o.a.createElement(_a.a,{xs:6,sm:6,item:!0},o.a.createElement(it.a,{fullWidth:!0,placeholder:Le.a.t("announcements.searchPlaceholder"),type:"search",value:h,onChange:e=>{v(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(Zs.a,{position:"start"},o.a.createElement(qo.a,{style:{color:"gray"}}))}})),o.a.createElement(_a.a,{xs:6,sm:6,item:!0},o.a.createElement(st.a,{fullWidth:!0,variant:"contained",onClick:()=>{u(null),E(!0)},color:"primary"},Le.a.t("announcements.buttons.add"))))))),o.a.createElement(xn.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!c||r)return;const{scrollTop:t,scrollHeight:a,clientHeight:n}=e.currentTarget;a-(t+100)<n&&s(e=>e+1)}},o.a.createElement(ao.a,{size:"small"},o.a.createElement(lo.a,null,o.a.createElement(io.a,null,o.a.createElement(oo.a,{align:"center"},Le.a.t("announcements.table.title")),o.a.createElement(oo.a,{align:"center"},Le.a.t("announcements.table.priority")),o.a.createElement(oo.a,{align:"center"},Le.a.t("announcements.table.mediaName")),o.a.createElement(oo.a,{align:"center"},Le.a.t("announcements.table.status")),o.a.createElement(oo.a,{align:"center"},Le.a.t("announcements.table.actions")))),o.a.createElement(no.a,null,o.a.createElement(o.a.Fragment,null,w.map(e=>{var t,a;return o.a.createElement(io.a,{key:e.id},o.a.createElement(oo.a,{align:"center"},e.title),o.a.createElement(oo.a,{align:"center"},1===(a=e.priority)?Le.a.t("announcements.high"):2===a?Le.a.t("announcements.medium"):3===a?Le.a.t("announcements.low"):void 0),o.a.createElement(oo.a,{align:"center"},null!==(t=e.mediaName)&&void 0!==t?t:Le.a.t("quickMessages.noAttachment")),o.a.createElement(oo.a,{align:"center"},e.status?Le.a.t("announcements.active"):Le.a.t("announcements.inactive")),o.a.createElement(oo.a,{align:"center"},o.a.createElement(I.a,{size:"small",onClick:()=>(e=>{u(e),E(!0)})(e)},o.a.createElement(pt.a,null)),o.a.createElement(I.a,{size:"small",onClick:t=>{A(!0),g(e)}},o.a.createElement(Yo.a,null))))}),r&&o.a.createElement(ci,{columns:5}))))))};const Jd=Object(k.a)(e=>({mainContainer:{display:"flex",flexDirection:"column",position:"relative",flex:1,height:"calc(100% - 58px)",overflow:"hidden",borderRadius:0,backgroundColor:e.palette.boxlist},chatList:{display:"flex",flexDirection:"column",position:"relative",flex:1,overflowY:"scroll",...e.scrollbarStyles},listItem:{cursor:"pointer"}}));function $d(e){let{chats:t,handleSelectChat:a,handleDeleteChat:r,handleEditChat:l,pageInfo:i,loading:s}=e;const c=Jd(),d=Object(x.useHistory)(),{user:m}=Object(n.useContext)($e),{datetimeToClient:u}=jn(),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)({}),{id:f}=Object(x.useParams)(),A=async e=>{if(h(e)>0)try{await Ge.post("/chats/".concat(e.id,"/read"),{userId:m.id})}catch(t){}f!==e.uuid&&(d.push("/chats/".concat(e.uuid)),a(e))},h=e=>e.users.find(e=>e.userId===m.id).unreads,y=e=>{const t=e.title,a=h(e);return o.a.createElement(o.a.Fragment,null,t,a>0&&o.a.createElement(rn.a,{size:"small",style:{marginLeft:5},label:a,color:"secondary"}))},v=e=>""!==e.lastMessage?"".concat(u(e.updatedAt),": ").concat(e.lastMessage):"",C=e=>({borderLeft:e.uuid===f?"6px solid #002d6e":null,backgroundColor:e.uuid===f?"theme.palette.chatlist":null});return o.a.createElement(o.a.Fragment,null,o.a.createElement(ga,{title:Le.a.t("chat.confirm.title"),open:p,onClose:g,onConfirm:()=>{r(b)}},Le.a.t("chat.confirm.message")),o.a.createElement("div",{className:c.mainContainer},o.a.createElement("div",{className:c.chatList},o.a.createElement(M.a,null,Array.isArray(t)&&t.length>0&&t.map((e,t)=>o.a.createElement(K.a,{onClick:()=>A(e),key:t,className:c.listItem,style:C(e),button:!0},o.a.createElement(Y.a,{primary:y(e),secondary:v(e)}),e.ownerId===m.id&&o.a.createElement(ct.a,null,o.a.createElement(I.a,{onClick:()=>{A(e).then(()=>{l(e)})},edge:"end","aria-label":"delete",size:"small",style:{marginRight:5}},o.a.createElement(pt.a,null)),o.a.createElement(I.a,{onClick:()=>{E(e),g(!0)},edge:"end","aria-label":"delete",size:"small"},o.a.createElement(mt.a,null)))))))))}var em=a(917);const tm=Object(k.a)(e=>({mainContainer:{display:"flex",flexDirection:"column",position:"relative",flex:1,overflow:"hidden",borderRadius:0,height:"100%",borderLeft:"1px solid rgba(0, 0, 0, 0.12)"},messageList:{position:"relative",overflowY:"auto",height:"100%",...e.scrollbarStyles,backgroundColor:e.palette.chatlist},inputArea:{position:"relative",height:"auto"},input:{padding:"20px"},buttonSend:{margin:e.spacing(1)},boxLeft:{padding:"10px 10px 5px",margin:"10px",position:"relative",backgroundColor:"blue",maxWidth:300,borderRadius:10,borderBottomLeftRadius:0,border:"1px solid rgba(0, 0, 0, 0.12)"},boxRight:{padding:"10px 10px 5px",margin:"10px 10px 10px auto",position:"relative",backgroundColor:"green",textAlign:"right",maxWidth:300,borderRadius:10,borderBottomRightRadius:0,border:"1px solid rgba(0, 0, 0, 0.12)"}}));function am(e){let{chat:t,messages:a,handleSendMessage:r,handleLoadMore:l,scrollToBottomRef:i,pageInfo:s,loading:c}=e;const d=tm(),{user:m}=Object(n.useContext)($e),{datetimeToClient:u}=jn(),p=Object(n.useRef)(),[g,b]=Object(n.useState)(""),E=()=>{p.current&&p.current.scrollIntoView({})};Object(n.useEffect)(()=>{if((e=>{if(void 0!==e){return e.users.find(e=>e.userId===m.id).unreads>0}return 0})(t)>0)try{Ge.post("/chats/".concat(t.id,"/read"),{userId:m.id})}catch(e){}i.current=E},[]);return o.a.createElement(xn.a,{className:d.mainContainer},o.a.createElement("div",{onScroll:e=>{const{scrollTop:t}=e.currentTarget;s.hasMore&&!c&&t<600&&l()},className:d.messageList},Array.isArray(a)&&a.map((e,t)=>e.senderId===m.id?o.a.createElement(Lt.a,{key:t,className:d.boxRight},o.a.createElement(D.a,{variant:"subtitle2"},e.sender.name),e.message,o.a.createElement(D.a,{variant:"caption",display:"block"},u(e.createdAt))):o.a.createElement(Lt.a,{key:t,className:d.boxLeft},o.a.createElement(D.a,{variant:"subtitle2"},e.sender.name),e.message,o.a.createElement(D.a,{variant:"caption",display:"block"},u(e.createdAt)))),o.a.createElement("div",{ref:p})),o.a.createElement("div",{className:d.inputArea},o.a.createElement(on.a,{variant:"outlined",fullWidth:!0},o.a.createElement(em.a,{multiline:!0,value:g,onKeyUp:e=>{"Enter"===e.key&&""!==g.trim()&&(r(g),b(""))},onChange:e=>b(e.target.value),className:d.input,endAdornment:o.a.createElement(Zs.a,{position:"end"},o.a.createElement(I.a,{onClick:()=>{""!==g.trim()&&(r(g),b(""))},className:d.buttonSend},o.a.createElement(Wr.a,null)))}))))}const nm=Object(k.a)(e=>({mainContainer:{display:"flex",flexDirection:"column",position:"relative",flex:1,padding:e.spacing(2),height:"calc(100% - 48px)",overflowY:"hidden",border:"1px solid rgba(0, 0, 0, 0.12)"},gridContainer:{flex:1,height:"100%",border:"1px solid rgba(0, 0, 0, 0.12)",backgroundColor:e.palette.dark},gridItem:{height:"100%"},gridItemTab:{height:"92%",width:"100%"},btnContainer:{textAlign:"right",padding:10}}));function om(e){let{open:t,chat:a,type:r,handleClose:l,handleLoadNewChat:i}=e;const[s,c]=Object(n.useState)([]),[d,m]=Object(n.useState)("");Object(n.useEffect)(()=>{if(m(""),c([]),"edit"===r){const e=a.users.map(e=>({id:e.user.id,name:e.user.name}));c(e),m(a.title)}},[a,t,r]);return o.a.createElement(ta.a,{open:t,onClose:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(pa.a,{id:"alert-dialog-title"},Le.a.t("chat.modal.title")),o.a.createElement(ua.a,null,o.a.createElement(_a.a,{spacing:2,container:!0},o.a.createElement(_a.a,{xs:12,style:{padding:18},item:!0},o.a.createElement(it.a,{label:Le.a.t("chat.modal.titleField"),placeholder:Le.a.t("chat.modal.titleField"),value:d,onChange:e=>m(e.target.value),variant:"outlined",size:"small",fullWidth:!0})),o.a.createElement(_a.a,{xs:12,item:!0},o.a.createElement(mr,{onFiltered:e=>c(e),initialUsers:s})))),o.a.createElement(aa.a,null,o.a.createElement(st.a,{onClick:l,color:"primary"},Le.a.t("chat.buttons.close")),o.a.createElement(st.a,{onClick:async()=>{try{if(!d)return void alert(Le.a.t("chat.toasts.fillTitle"));if(!s||0===s.length)return void alert(Le.a.t("chat.toasts.fillUser"));if("edit"===r)await Ge.put("/chats/".concat(a.id),{users:s,title:d});else{const{data:e}=await Ge.post("/chats",{users:s,title:d});i(e)}l()}catch(e){}},color:"primary",variant:"contained"},Le.a.t("chat.buttons.save"))))}var rm=Object(Ro.a)()((function(e){const t=nm(),{user:a}=Object(n.useContext)($e),r=Object(x.useHistory)(),[l,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)("new"),[d,m]=Object(n.useState)({}),[u,p]=Object(n.useState)([]),[g,b]=Object(n.useState)({hasMore:!1}),[E,f]=Object(n.useState)([]),[A,h]=Object(n.useState)({hasMore:!1}),[v,C]=Object(n.useState)(1),[w,S]=Object(n.useState)(!1),[O,k]=Object(n.useState)(0),T=Object(n.useRef)(!0),j=Object(n.useRef)(),{id:I}=Object(x.useParams)(),N=Object(n.useContext)(y);Object(n.useEffect)(()=>()=>{T.current=!1},[]),Object(n.useEffect)(()=>{T.current&&F().then(e=>{const{records:t}=e;if(t.length>0&&(p(t),b(e),I&&t.length)){const e=t.find(e=>e.uuid===I);M(e)}})},[]),Object(n.useEffect)(()=>{Object(ze.isObject)(d)&&Object(ze.has)(d,"id")&&D(d.id).then(()=>{"function"===typeof j.current&&setTimeout(()=>{j.current()},300)})},[d]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),t=N.getSocket(e);return t.on("company-".concat(e,"-chat-user-").concat(a.id),e=>{if("create"===e.action&&p(t=>[e.record,...t]),"update"===e.action){const t=u.map(t=>t.id===e.record.id?(m(e.record),{...e.record}):t);p(t)}}),t.on("company-".concat(e,"-chat"),e=>{if("delete"===e.action){const t=u.filter(t=>t.id!==+e.id);p(t),f([]),C(1),h({hasMore:!1}),m({}),r.push("/chats")}}),Object(ze.isObject)(d)&&Object(ze.has)(d,"id")&&t.on("company-".concat(e,"-chat-").concat(d.id),e=>{if("new-message"===e.action){f(t=>[...t,e.newMessage]);const t=u.map(t=>t.id===e.newMessage.chatId?{...e.chat}:t);p(t),j.current()}if("update"===e.action){const t=u.map(t=>t.id===e.chat.id?{...e.chat}:t);p(t),j.current()}}),()=>{t.disconnect()}},[d,N]);const M=e=>{try{f([]),C(1),m(e),k(1)}catch(t){}},P=async e=>{S(!0);try{await Ge.post("/chats/".concat(d.id,"/messages"),{message:e})}catch(t){}S(!1)},R=async e=>{try{await Ge.delete("/chats/".concat(e.id))}catch(t){}},D=async e=>{S(!0);try{const{data:t}=await Ge.get("/chats/".concat(e,"/messages?pageNumber=").concat(v));C(e=>e+1),h(t),f(e=>[...t.records,...e])}catch(t){}S(!1)},q=async()=>{w||D(d.id)},F=async()=>{try{const{data:e}=await Ge.get("/chats");return e}catch(e){console.log(e)}};return o.a.createElement(o.a.Fragment,null,o.a.createElement(om,{type:s,open:l,chat:d,handleLoadNewChat:e=>{f([]),C(1),m(e),k(1),r.push("/chats/".concat(e.uuid))},handleClose:()=>i(!1)}),o.a.createElement(xn.a,{className:t.mainContainer},Object(Ro.b)("md",e.width)?o.a.createElement(_a.a,{className:t.gridContainer,container:!0},o.a.createElement(_a.a,{className:t.gridItem,md:3,item:!0},o.a.createElement("div",{className:t.btnContainer},o.a.createElement(st.a,{onClick:()=>{c("new"),i(!0)},color:"primary",variant:"contained"},Le.a.t("chat.buttons.new"))),o.a.createElement($d,{chats:u,pageInfo:g,loading:w,handleSelectChat:e=>M(e),handleDeleteChat:e=>R(e),handleEditChat:()=>{c("edit"),i(!0)}})),o.a.createElement(_a.a,{className:t.gridItem,md:9,item:!0},Object(ze.isObject)(d)&&Object(ze.has)(d,"id")&&o.a.createElement(am,{chat:d,scrollToBottomRef:j,pageInfo:A,messages:E,loading:w,handleSendMessage:P,handleLoadMore:q}))):o.a.createElement(_a.a,{className:t.gridContainer,container:!0},o.a.createElement(_a.a,{md:12,item:!0},o.a.createElement(Lo.a,{value:O,indicatorColor:"primary",textColor:"primary",onChange:(e,t)=>k(t),"aria-label":"disabled tabs example"},o.a.createElement(Wo.a,{label:Le.a.t("chat.chats")}),o.a.createElement(Wo.a,{label:Le.a.t("chat.messages")}))),0===O&&o.a.createElement(_a.a,{className:t.gridItemTab,md:12,item:!0},o.a.createElement("div",{className:t.btnContainer},o.a.createElement(st.a,{onClick:()=>i(!0),color:"primary",variant:"contained"},Le.a.t("chat.buttons.newChat"))),o.a.createElement($d,{chats:u,pageInfo:g,loading:w,handleSelectChat:e=>M(e),handleDeleteChat:e=>R(e)})),1===O&&o.a.createElement(_a.a,{className:t.gridItemTab,md:12,item:!0},Object(ze.isObject)(d)&&Object(ze.has)(d,"id")&&o.a.createElement(am,{scrollToBottomRef:j,pageInfo:A,messages:E,loading:w,handleSendMessage:P,handleLoadMore:q})))))}));const lm=Object(k.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}})),im=e=>{const t=new Date,a=new Date(e),n=Math.abs(t.getTime()-a.getTime());return Math.ceil(n/864e5)};var sm=()=>{var e,t;const a=lm(),{user:r}=Object(n.useContext)($e),[l]=Object(n.useState)(!1),[,i]=Object(n.useState)(1),[s,c]=Object(n.useState)(null),[d,m]=Object(n.useState)(!1),[u]=Object(n.useState)(!1);return o.a.createElement(ai,{className:a.mainContainer},o.a.createElement(Gs,{open:d,onClose:()=>{c(null),m(!1)},"aria-labelledby":"form-dialog-title",contactId:s}),o.a.createElement(oi,null,o.a.createElement(ii,null,Le.a.t("subscription.title"))),o.a.createElement(_a.a,{item:!0,xs:12,sm:4},o.a.createElement(xn.a,{className:a.mainPaper,variant:"outlined",onScroll:e=>{if(!u||l)return;const{scrollTop:t,scrollHeight:a,clientHeight:n}=e.currentTarget;a-(t+100)<n&&i(e=>e+1)}},o.a.createElement("div",null,o.a.createElement(it.a,{id:"outlined-full-width",label:Le.a.t("subscription.testPeriod"),defaultValue:"".concat(Le.a.t("subscription.remainingTest")," ").concat(im(null===r||void 0===r||null===(e=r.company)||void 0===e?void 0:e.trialExpiration)," ").concat(Le.a.t("subscription.remainingTest2")),fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},InputProps:{readOnly:!0},variant:"outlined"})),o.a.createElement("div",null,o.a.createElement(it.a,{id:"outlined-full-width",label:Le.a.t("subscription.chargeEmail"),defaultValue:null===r||void 0===r||null===(t=r.company)||void 0===t?void 0:t.email,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},InputProps:{readOnly:!0},variant:"outlined"})),o.a.createElement("div",null,o.a.createElement(st.a,{variant:"contained",color:"primary",onClick:()=>{c(null),m(!0)},fullWidth:!0},Le.a.t("subscription.signNow"))))))};const cm=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap",gap:4},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:2e3},colorAdorment:{width:20,height:20}})),dm=en.b().shape({name:en.d().min(3,Le.a.t("fileModal.formErrors.name.short")).required(Le.a.t("fileModal.formErrors.name.required")),message:en.d().required(Le.a.t("fileModal.formErrors.message.required"))});var mm=e=>{let{open:t,onClose:a,fileListId:r,reload:l}=e;const i=cm(),{user:s}=Object(n.useContext)($e),[c,d]=Object(n.useState)([]),[m,u]=Object(n.useState)([]),p={name:"",message:"",options:[{name:"",path:"",mediaType:""}]},[g,b]=Object(n.useState)(p);Object(n.useEffect)(()=>{try{(async()=>{if(!r)return;const{data:e}=await Ge.get("/files/".concat(r));b(e)})()}catch(e){He(e)}},[r,t]);const E=()=>{b(p),d([]),a()};return o.a.createElement("div",{className:i.root},o.a.createElement(ta.a,{open:t,onClose:E,maxWidth:"md",fullWidth:!0,scroll:"paper"},o.a.createElement(pa.a,{id:"form-dialog-title"},"".concat(r?Le.a.t("fileModal.title.edit"):Le.a.t("fileModal.title.add"))),o.a.createElement(tn.e,{initialValues:g,enableReinitialize:!0,validationSchema:dm,onSubmit:(e,t)=>{setTimeout(()=>{(async e=>{const t=async(e,t,a)=>{const n=new FormData;n.append("fileId",a),n.append("typeArch","fileList"),t.forEach((t,a)=>{t.file&&(n.append("files",t.file),n.append("mediaType",t.file.type),n.append("name",e[a].name),n.append("id",e[a].id))});try{const{data:e}=await Ge.post("/files/uploadList/".concat(a),n);return d([]),e}catch(o){He(o)}return null},a={...e,userId:s.id};try{if(r){const{data:n}=await Ge.put("/files/".concat(r),a);n.options.length>0&&t(n.options,e.options,r)}else{const{data:n}=await Ge.post("/files",a);n.options.length>0&&t(n.options,e.options,n.id)}C.b.success(Le.a.t("fileModal.success")),"function"==typeof l&&l()}catch(n){He(n)}E()})(e),t.setSubmitting(!1)},400)}},e=>{let{touched:t,errors:a,isSubmitting:n,values:l}=e;return o.a.createElement(tn.d,null,o.a.createElement(ua.a,{dividers:!0},o.a.createElement("div",{className:i.multFieldLine},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("fileModal.form.name"),name:"name",error:t.name&&Boolean(a.name),helperText:t.name&&a.name,variant:"outlined",margin:"dense",fullWidth:!0})),o.a.createElement("br",null),o.a.createElement("div",{className:i.multFieldLine},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("fileModal.form.message"),type:"message",multiline:!0,minRows:5,fullWidth:!0,name:"message",error:t.message&&Boolean(a.message),helperText:t.message&&a.message,variant:"outlined",margin:"dense"})),o.a.createElement(D.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},Le.a.t("fileModal.form.fileOptions")),o.a.createElement(tn.c,{name:"options"},e=>{let{push:t,remove:a}=e;return o.a.createElement(o.a.Fragment,null,l.options&&l.options.length>0&&l.options.map((e,t)=>o.a.createElement("div",{className:i.extraAttr,key:"".concat(t,"-info")},o.a.createElement(_a.a,{container:!0,spacing:0},o.a.createElement(_a.a,{xs:6,md:10,item:!0},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("fileModal.form.extraName"),name:"options[".concat(t,"].name"),variant:"outlined",margin:"dense",multiline:!0,fullWidth:!0,minRows:2,className:i.textField})),o.a.createElement(_a.a,{xs:2,md:2,item:!0,style:{display:"flex",alignItems:"center",justifyContent:"flex-end"}},o.a.createElement("input",{type:"file",onChange:e=>{const a=e.target.files[0],n=[...l.options];n[t].file=a,d("options",n);const o=[...m];o[t]=a?a.name:"",u(o)},style:{display:"none"},name:"options[".concat(t,"].file"),id:"file-upload-".concat(t)}),o.a.createElement("label",{htmlFor:"file-upload-".concat(t)},o.a.createElement(I.a,{component:"span"},o.a.createElement(Dr.a,null))),o.a.createElement(I.a,{size:"small",onClick:()=>a(t)},o.a.createElement(Yo.a,null))),o.a.createElement(_a.a,{xs:12,md:12,item:!0},e.path?e.path:m[t])))),o.a.createElement("div",{className:i.extraAttr},o.a.createElement(st.a,{style:{flex:1,marginTop:8},variant:"outlined",color:"primary",onClick:()=>{t({name:"",path:""}),u([...m,""])}},"+ ".concat(Le.a.t("fileModal.buttons.fileOptions")))))})),o.a.createElement(aa.a,null,o.a.createElement(st.a,{onClick:E,color:"secondary",disabled:n,variant:"outlined"},Le.a.t("fileModal.buttons.cancel")),o.a.createElement(st.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},"".concat(r?Le.a.t("fileModal.buttons.okEdit"):Le.a.t("fileModal.buttons.okAdd")),n&&o.a.createElement(Wt.a,{size:24,className:i.buttonProgress}))))})))};const um=(e,t)=>{if("LOAD_FILES"===t.type){const a=t.payload,n=[];return a.forEach(t=>{const a=e.findIndex(e=>e.id===t.id);-1!==a?e[a]=t:n.push(t)}),[...e,...n]}if("UPDATE_FILES"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a.id);return-1!==n?(e[n]=a,[...e]):[a,...e]}if("DELETE_TAG"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===t.type)return[]},pm=Object(k.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var gm=()=>{const e=pm(),{user:t}=Object(n.useContext)($e),[a,r]=Object(n.useState)(!1),[l,i]=Object(n.useState)(1),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[u,p]=Object(n.useState)(null),[g,b]=Object(n.useState)(!1),[E,f]=Object(n.useState)(""),[A,h]=Object(n.useReducer)(um,[]),[v,x]=Object(n.useState)(!1),w=Object(n.useCallback)(async()=>{try{const{data:e}=await Ge.get("/files/",{params:{searchParam:E,pageNumber:l}});h({type:"LOAD_FILES",payload:e.files}),c(e.hasMore),r(!1)}catch(e){He(e)}},[E,l]),S=Object(n.useContext)(y);Object(n.useEffect)(()=>{h({type:"RESET"}),i(1)},[E]),Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{w()},500);return()=>clearTimeout(e)},[E,l,w]),Object(n.useEffect)(()=>{const e=S.getSocket(t.companyId);return e.on("company-".concat(t.companyId,"-file"),e=>{"update"!==e.action&&"create"!==e.action||h({type:"UPDATE_FILES",payload:e.files}),"delete"===e.action&&h({type:"DELETE_USER",payload:+e.fileId})}),()=>{e.disconnect()}},[S,t]);return o.a.createElement(ai,null,o.a.createElement(ga,{title:u&&"".concat(Le.a.t("files.confirmationModal.deleteTitle")),open:g,onClose:b,onConfirm:()=>(async e=>{try{await Ge.delete("/files/".concat(e)),C.b.success(Le.a.t("files.toasts.deleted"))}catch(t){He(t)}p(null),f(""),i(1),h({type:"RESET"}),i(1),await w()})(u.id)},Le.a.t("files.confirmationModal.deleteMessage")),o.a.createElement(mm,{open:v,onClose:()=>{m(null),x(!1)},reload:w,"aria-labelledby":"form-dialog-title",fileListId:d&&d.id}),o.a.createElement(oi,null,o.a.createElement(ii,null,Le.a.t("files.title")," (",A.length,")"),o.a.createElement(li,null,o.a.createElement(it.a,{placeholder:Le.a.t("contacts.searchPlaceholder"),type:"search",value:E,onChange:e=>{f(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(Zs.a,{position:"start"},o.a.createElement(qo.a,{style:{color:"gray"}}))}}),o.a.createElement(st.a,{variant:"contained",color:"primary",onClick:()=>{m(null),x(!0)}},Le.a.t("files.buttons.add")))),o.a.createElement(xn.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!s||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(t+100)<o&&i(e=>e+1)}},o.a.createElement(ao.a,{size:"small"},o.a.createElement(lo.a,null,o.a.createElement(io.a,null,o.a.createElement(oo.a,{align:"center"},Le.a.t("files.table.name")),o.a.createElement(oo.a,{align:"center"},Le.a.t("files.table.actions")))),o.a.createElement(no.a,null,o.a.createElement(o.a.Fragment,null,A.map(e=>o.a.createElement(io.a,{key:e.id},o.a.createElement(oo.a,{align:"center"},e.name),o.a.createElement(oo.a,{align:"center"},o.a.createElement(I.a,{size:"small",onClick:()=>(e=>{m(e),x(!0)})(e)},o.a.createElement(pt.a,null)),o.a.createElement(I.a,{size:"small",onClick:t=>{b(!0),p(e)}},o.a.createElement(Yo.a,null))))),a&&o.a.createElement(ci,{columns:4}))))))},bm=a(1570),Em=a(1571);const fm=Object(k.a)(e=>({formControl:{margin:e.spacing(1),minWidth:120}}));var Am=(e,t)=>{const a=fm(),[r,l]=Object(n.useState)([]);return Object(n.useEffect)(()=>{(async()=>{try{const{data:e}=await Ge.get("/queue");l(e)}catch(e){He("QUEUESELETSINGLE >>> ".concat(e))}})()},[]),o.a.createElement("div",{style:{marginTop:6}},o.a.createElement(on.a,{variant:"outlined",className:a.FormControl,margin:"dense",fullWidth:!0},o.a.createElement("div",null,o.a.createElement(D.a,null,Le.a.t("queueSelect.inputLabel")),o.a.createElement(tn.b,{as:an.a,label:Le.a.t("queueSelect.inputLabel"),name:"queueId",labelId:"queue-selection-label",id:"queue-selection",error:e.queueId&&Boolean(t.queueId),helpertext:e.name&&t.name,fullWidth:!0},r.map(e=>o.a.createElement(F.a,{key:e.id,value:e.id},e.name))))))};const hm=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}})),ym=en.b().shape({name:en.d().min(5,Le.a.t("promptModal.formErrors.name.short")).max(100,Le.a.t("promptModal.formErrors.name.long")).required(Le.a.t("promptModal.formErrors.name.required")),prompt:en.d().min(50,Le.a.t("promptModal.formErrors.prompt.short")).required(Le.a.t("promptModal.formErrors.prompt.required")),model:en.d().required(Le.a.t("promptModal.formErrors.modal.required")),maxTokens:en.a().required(Le.a.t("promptModal.formErrors.maxTokens.required")),temperature:en.a().required(Le.a.t("promptModal.formErrors.temperature.required")),apiKey:en.d().required(Le.a.t("promptModal.formErrors.apikey.required")),queueId:en.a().required(Le.a.t("promptModal.formErrors.queueId.required")),maxMessages:en.a().required(Le.a.t("promptModal.formErrors.maxMessages.required"))});var vm=e=>{let{open:t,onClose:a,promptId:r,refreshPrompts:l}=e;const i=hm(),[s,c]=Object(n.useState)("gpt-3.5-turbo-1106"),[d,m]=Object(n.useState)(!1),u=()=>{m(!d)},p={name:"",prompt:"",model:"gpt-3.5-turbo-1106",maxTokens:100,temperature:1,apiKey:"",queueId:"",maxMessages:10},[g,b]=Object(n.useState)(p);Object(n.useEffect)(()=>{(async()=>{if(r)try{const{data:e}=await Ge.get("/prompt/".concat(r));b(t=>({...t,...e})),c(e.model)}catch(e){He(e)}else b(p)})()},[r,t]);const E=()=>{b(p),c("gpt-3.5-turbo-1106"),a()},f=e=>{c(e.target.value)};return o.a.createElement("div",{className:i.root},o.a.createElement(ta.a,{open:t,onClose:E,maxWidth:"md",scroll:"paper",fullWidth:!0},o.a.createElement(pa.a,{id:"form-dialog-title"},"".concat(r?Le.a.t("promptModal.title.edit"):Le.a.t("promptModal.title.add"))),o.a.createElement(tn.e,{initialValues:g,enableReinitialize:!0,validationSchema:ym,onSubmit:(e,t)=>{setTimeout(()=>{(async e=>{const t={...e,model:s};if(console.log(t),e.queueId){try{r?await Ge.put("/prompt/".concat(r),t):await Ge.post("/prompt",t),C.b.success(Le.a.t("promptModal.success")),l()}catch(a){He(a)}E()}else He(Le.a.t("promptModal.setor"))})(e),t.setSubmitting(!1)},400)}},e=>{let{touched:t,errors:a,isSubmitting:n,values:l}=e;return o.a.createElement(tn.d,{style:{width:"100%"}},o.a.createElement(ua.a,{dividers:!0},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("promptModal.form.name"),name:"name",error:t.name&&Boolean(a.name),helperText:t.name&&a.name,variant:"outlined",margin:"dense",fullWidth:!0}),o.a.createElement(on.a,{fullWidth:!0,margin:"dense",variant:"outlined"},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("promptModal.form.apikey"),name:"apiKey",type:d?"text":"password",error:t.apiKey&&Boolean(a.apiKey),helperText:t.apiKey&&a.apiKey,variant:"outlined",margin:"dense",fullWidth:!0,InputProps:{endAdornment:o.a.createElement(Zs.a,{position:"end"},o.a.createElement(I.a,{onClick:u},d?o.a.createElement(bm.a,null):o.a.createElement(Em.a,null)))}})),o.a.createElement(tn.b,{as:it.a,label:Le.a.t("promptModal.form.prompt"),name:"prompt",error:t.prompt&&Boolean(a.prompt),helperText:t.prompt&&a.prompt,variant:"outlined",margin:"dense",fullWidth:!0,rows:10,multiline:!0}),o.a.createElement(Am,{touched:t,errors:a}),o.a.createElement("div",{className:i.multFieldLine},o.a.createElement(on.a,{fullWidth:!0,margin:"dense",variant:"outlined"},o.a.createElement(nn.a,null,Le.a.t("promptModal.form.model")),o.a.createElement(an.a,{id:"type-select",labelWidth:60,name:"model",value:s,onChange:f,multiple:!1},o.a.createElement(F.a,{key:"gpt-3.5",value:"gpt-3.5-turbo-1106"},"GPT 3.5 turbo"),o.a.createElement(F.a,{key:"gpt-4",value:"gpt-4o-mini"},"GPT 4.0"))),o.a.createElement(tn.b,{as:it.a,label:Le.a.t("promptModal.form.temperature"),name:"temperature",error:t.temperature&&Boolean(a.temperature),helperText:t.temperature&&a.temperature,variant:"outlined",margin:"dense",fullWidth:!0,type:"number",inputProps:{step:"0.1",min:"0",max:"1"}})),o.a.createElement("div",{className:i.multFieldLine},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("promptModal.form.max_tokens"),name:"maxTokens",error:t.maxTokens&&Boolean(a.maxTokens),helperText:t.maxTokens&&a.maxTokens,variant:"outlined",margin:"dense",fullWidth:!0}),o.a.createElement(tn.b,{as:it.a,label:Le.a.t("promptModal.form.max_messages"),name:"maxMessages",error:t.maxMessages&&Boolean(a.maxMessages),helperText:t.maxMessages&&a.maxMessages,variant:"outlined",margin:"dense",fullWidth:!0}))),o.a.createElement(aa.a,null,o.a.createElement(st.a,{onClick:E,color:"secondary",disabled:n,variant:"outlined"},Le.a.t("promptModal.buttons.cancel")),o.a.createElement(st.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},"".concat(r?Le.a.t("promptModal.buttons.okEdit"):Le.a.t("promptModal.buttons.okAdd")),n&&o.a.createElement(Wt.a,{size:24,className:i.buttonProgress}))))})))},xm=a(337);const Cm=Object(k.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles},customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"},redBox:{backgroundColor:"#ffcccc",padding:e.spacing(2),marginBottom:e.spacing(2)}})),wm=(e,t)=>{if("LOAD_PROMPTS"===t.type){const a=t.payload,n=[];return 0===a.length?[]:(a.forEach(t=>{const a=e.findIndex(e=>e.id===t.id);-1!==a?e[a]=t:n.push(t)}),[...e,...n])}if("UPDATE_PROMPTS"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a.id);return-1!==n?(e[n]=a,[...e]):[a,...e]}if("DELETE_PROMPT"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===t.type)return[]};var Sm=()=>{const e=Cm(),[t,a]=Object(n.useReducer)(wm,[]),[r,l]=Object(n.useState)(!1),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(null),[m,u]=Object(n.useState)(!1),{user:p}=Object(n.useContext)($e),{getPlanCompany:g}=yt(),b=Object(xm.useHistory)(),E=p.companyId,f=Object(n.useContext)(y);Object(n.useEffect)(()=>{!async function(){(await g(void 0,E)).plan.useOpenAi||(C.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{b.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{(async()=>{l(!0);try{A(),l(!1)}catch(e){He(e),l(!1)}})()},[]),Object(n.useEffect)(()=>{const e=f.getSocket(E);return e.on("company-".concat(E,"-prompt"),e=>{"update"!==e.action&&"create"!==e.action||a({type:"UPDATE_PROMPTS",payload:e.prompt}),"delete"===e.action&&a({type:"DELETE_PROMPT",payload:e.promptId})}),()=>{e.disconnect()}},[E,f]);const A=async()=>{const{data:e}=await Ge.get("/prompt");a({type:"LOAD_PROMPTS",payload:e.prompts})};return o.a.createElement(ai,null,o.a.createElement(ga,{title:c&&"".concat(Le.a.t("prompts.confirmationModal.deleteTitle")," ").concat(c.name,"?"),open:m,onClose:()=>{u(!1),d(null)},onConfirm:()=>(async e=>{try{const{data:t}=await Ge.delete("/prompt/".concat(e));a({type:"DELETE_PROMPT",payload:e}),C.b.info(Le.a.t(t.message))}catch(t){He(t)}d(null)})(c.id)},Le.a.t("prompts.confirmationModal.deleteMessage")),o.a.createElement(vm,{open:i,onClose:()=>{s(!1),d(null)},promptId:null===c||void 0===c?void 0:c.id,refreshPrompts:A}),o.a.createElement(oi,null,o.a.createElement(ii,null,Le.a.t("prompts.title")),o.a.createElement(li,null,o.a.createElement(st.a,{variant:"contained",color:"primary",onClick:()=>{s(!0),d(null)}},Le.a.t("prompts.buttons.add")))),o.a.createElement(xn.a,{className:e.mainPaper,variant:"outlined"},o.a.createElement(ao.a,{size:"small"},o.a.createElement(lo.a,null,o.a.createElement(io.a,null,o.a.createElement(oo.a,{align:"left"},Le.a.t("prompts.table.name")),o.a.createElement(oo.a,{align:"left"},Le.a.t("prompts.table.queue")),o.a.createElement(oo.a,{align:"left"},Le.a.t("prompts.table.max_tokens")),o.a.createElement(oo.a,{align:"center"},Le.a.t("prompts.table.actions")))),o.a.createElement(no.a,null,o.a.createElement(o.a.Fragment,null,t.map(e=>{var t;return o.a.createElement(io.a,{key:e.id},o.a.createElement(oo.a,{align:"left"},e.name),o.a.createElement(oo.a,{align:"left"},null===(t=e.queue)||void 0===t?void 0:t.name),o.a.createElement(oo.a,{align:"left"},e.maxTokens),o.a.createElement(oo.a,{align:"center"},o.a.createElement(I.a,{size:"small",onClick:()=>(e=>{d(e),s(!0)})(e)},o.a.createElement($l.a,null)),o.a.createElement(I.a,{size:"small",onClick:()=>{d(e),u(!0)}},o.a.createElement(ei.a,null))))}),r&&o.a.createElement(ci,{columns:4}))))))},Om=a(899),km=a.n(Om),Tm=a(900),jm=a.n(Tm),Im=a(901),Nm=a.n(Im),Mm=a(902),Pm=a.n(Mm);const Rm=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap",gap:4},textField:{marginRight:e.spacing(1),flex:1},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},btnLeft:{display:"flex",marginRight:"auto",marginLeft:12},colorAdorment:{width:20,height:20}})),Dm=en.b().shape({name:en.d().min(2,"Too Short!").max(50,"Too Long!").required("Required")});var qm=e=>{let{open:t,onClose:a,integrationId:r}=e;const l=Rm(),i={type:"typebot",name:"",projectName:"",jsonContent:"",language:"",urlN8N:"",typebotDelayMessage:1e3,typebotExpires:1,typebotKeywordFinish:"",typebotKeywordRestart:"",typebotRestartMessage:"",typebotSlug:"",typebotUnknownMessage:""},[s,c]=Object(n.useState)(i);Object(n.useEffect)(()=>((async()=>{if(r)try{const{data:e}=await Ge.get("/queueIntegration/".concat(r));c(t=>({...t,...e}))}catch(e){He(e)}})(),()=>{c({type:"dialogflow",name:"",projectName:"",jsonContent:"",language:"",urlN8N:"",typebotDelayMessage:1e3})}),[r,t]);const d=()=>{a(),c(i)};return o.a.createElement("div",{className:l.root},o.a.createElement(ta.a,{open:t,onClose:d,fullWidth:!0,maxWidth:"md",scroll:"paper"},o.a.createElement(pa.a,null,"".concat(r?Le.a.t("queueIntegrationModal.title.edit"):Le.a.t("queueIntegrationModal.title.add"))),o.a.createElement(tn.e,{initialValues:s,enableReinitialize:!0,validationSchema:Dm,onSubmit:(e,t,a)=>{setTimeout(()=>{(async e=>{try{"n8n"!==e.type&&"webhook"!==e.type&&"typebot"!==e.type&&"flowbuilder"!==e.type||(e.projectName=e.name),r?(await Ge.put("/queueIntegration/".concat(r),e),C.b.success(Le.a.t("queueIntegrationModal.messages.editSuccess"))):(await Ge.post("/queueIntegration",e),C.b.success(Le.a.t("queueIntegrationModal.messages.addSuccess"))),d()}catch(t){He(t)}})(e),t.setSubmitting(!1)},400)}},e=>{let{touched:t,errors:a,isSubmitting:n,values:i}=e;return o.a.createElement(tn.d,null,o.a.createElement(xn.a,{square:!0,className:l.mainPaper,elevation:1},o.a.createElement(ua.a,{dividers:!0},o.a.createElement(_a.a,{container:!0,spacing:1},o.a.createElement(_a.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(on.a,{variant:"outlined",className:l.formControl,margin:"dense",fullWidth:!0},o.a.createElement(nn.a,{id:"type-selection-input-label"},Le.a.t("queueIntegrationModal.form.type")),o.a.createElement(tn.b,{as:an.a,label:Le.a.t("queueIntegrationModal.form.type"),name:"type",labelId:"profile-selection-label",error:t.type&&Boolean(a.type),helpertext:t.type&&a.type,id:"type",required:!0},o.a.createElement(F.a,{value:"dialogflow"},"DialogFlow"),o.a.createElement(F.a,{value:"n8n"},"N8N"),o.a.createElement(F.a,{value:"webhook"},"WebHooks"),o.a.createElement(F.a,{value:"typebot"},"Typebot"),o.a.createElement(F.a,{value:"flowbuilder"},"Flowbuilder")))),"dialogflow"===i.type&&o.a.createElement(o.a.Fragment,null,o.a.createElement(_a.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueIntegrationModal.form.name"),autoFocus:!0,name:"name",fullWidth:!0,error:t.name&&Boolean(a.name),helpertext:t.name&&a.name,variant:"outlined",margin:"dense",className:l.textField})),o.a.createElement(_a.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(on.a,{variant:"outlined",className:l.formControl,margin:"dense",fullWidth:!0},o.a.createElement(nn.a,{id:"language-selection-input-label"},Le.a.t("queueIntegrationModal.form.language")),o.a.createElement(tn.b,{as:an.a,label:Le.a.t("queueIntegrationModal.form.language"),name:"language",labelId:"profile-selection-label",fullWidth:!0,error:t.language&&Boolean(a.language),helpertext:t.language&&a.language,id:"language-selection",required:!0},o.a.createElement(F.a,{value:"pt-BR"},"Portugues"),o.a.createElement(F.a,{value:"en"},"Ingl\xeas"),o.a.createElement(F.a,{value:"es"},"Espa\xf1ol")))),o.a.createElement(_a.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueIntegrationModal.form.projectName"),name:"projectName",error:t.projectName&&Boolean(a.projectName),helpertext:t.projectName&&a.projectName,fullWidth:!0,variant:"outlined",margin:"dense"})),o.a.createElement(_a.a,{item:!0,xs:12,md:12,xl:12},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueIntegrationModal.form.jsonContent"),type:"jsonContent",multiline:!0,maxRows:5,minRows:5,fullWidth:!0,name:"jsonContent",error:t.jsonContent&&Boolean(a.jsonContent),helpertext:t.jsonContent&&a.jsonContent,variant:"outlined",margin:"dense"}))),("n8n"===i.type||"webhook"===i.type)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(_a.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueIntegrationModal.form.name"),autoFocus:!0,required:!0,name:"name",error:t.name&&Boolean(a.name),helpertext:t.name&&a.name,variant:"outlined",margin:"dense",fullWidth:!0,className:l.textField})),o.a.createElement(_a.a,{item:!0,xs:12,md:12,xl:12},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueIntegrationModal.form.urlN8N"),name:"urlN8N",error:t.urlN8N&&Boolean(a.urlN8N),helpertext:t.urlN8N&&a.urlN8N,variant:"outlined",margin:"dense",required:!0,fullWidth:!0,className:l.textField}))),"typebot"===i.type&&o.a.createElement(o.a.Fragment,null,o.a.createElement(_a.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueIntegrationModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(a.name),helpertext:t.name&&a.name,variant:"outlined",margin:"dense",required:!0,fullWidth:!0,className:l.textField})),o.a.createElement(_a.a,{item:!0,xs:12,md:12,xl:12},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueIntegrationModal.form.urlN8N"),name:"urlN8N",error:t.urlN8N&&Boolean(a.urlN8N),helpertext:t.urlN8N&&a.urlN8N,variant:"outlined",margin:"dense",required:!0,fullWidth:!0,className:l.textField})),o.a.createElement(_a.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueIntegrationModal.form.typebotSlug"),name:"typebotSlug",error:t.typebotSlug&&Boolean(a.typebotSlug),helpertext:t.typebotSlug&&a.typebotSlug,required:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:l.textField})),o.a.createElement(_a.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueIntegrationModal.form.typebotExpires"),name:"typebotExpires",error:t.typebotExpires&&Boolean(a.typebotExpires),helpertext:t.typebotExpires&&a.typebotExpires,variant:"outlined",margin:"dense",fullWidth:!0,className:l.textField})),o.a.createElement(_a.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueIntegrationModal.form.typebotDelayMessage"),name:"typebotDelayMessage",error:t.typebotDelayMessage&&Boolean(a.typebotDelayMessage),helpertext:t.typebotDelayMessage&&a.typebotDelayMessage,variant:"outlined",margin:"dense",fullWidth:!0,className:l.textField})),o.a.createElement(_a.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueIntegrationModal.form.typebotKeywordFinish"),name:"typebotKeywordFinish",error:t.typebotKeywordFinish&&Boolean(a.typebotKeywordFinish),helpertext:t.typebotKeywordFinish&&a.typebotKeywordFinish,variant:"outlined",margin:"dense",fullWidth:!0,className:l.textField})),o.a.createElement(_a.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueIntegrationModal.form.typebotKeywordRestart"),name:"typebotKeywordRestart",error:t.typebotKeywordRestart&&Boolean(a.typebotKeywordRestart),helpertext:t.typebotKeywordRestart&&a.typebotKeywordRestart,variant:"outlined",margin:"dense",fullWidth:!0,className:l.textField})),o.a.createElement(_a.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueIntegrationModal.form.typebotUnknownMessage"),name:"typebotUnknownMessage",error:t.typebotUnknownMessage&&Boolean(a.typebotUnknownMessage),helpertext:t.typebotUnknownMessage&&a.typebotUnknownMessage,variant:"outlined",margin:"dense",fullWidth:!0,className:l.textField})),o.a.createElement(_a.a,{item:!0,xs:12,md:12,xl:12},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueIntegrationModal.form.typebotRestartMessage"),name:"typebotRestartMessage",error:t.typebotRestartMessage&&Boolean(a.typebotRestartMessage),helpertext:t.typebotRestartMessage&&a.typebotRestartMessage,variant:"outlined",margin:"dense",fullWidth:!0,className:l.textField}))),"flowbuilder"===i.type&&o.a.createElement(_a.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueIntegrationModal.form.name"),autoFocus:!0,name:"name",fullWidth:!0,error:t.name&&Boolean(a.name),helpertext:t.name&&a.name,variant:"outlined",margin:"dense",className:l.textField}))))),o.a.createElement(aa.a,null,"dialogflow"===i.type&&o.a.createElement(st.a,{onClick:e=>(async(e,t)=>{try{const{projectName:e,jsonContent:a,language:n}=t;await Ge.post("/queueIntegration/testSession",{projectName:e,jsonContent:a,language:n}),C.b.success(Le.a.t("queueIntegrationModal.messages.testSuccess"))}catch(a){He(a)}})(0,i),color:"inherit",disabled:n,name:"testSession",variant:"outlined",className:l.btnLeft},Le.a.t("queueIntegrationModal.buttons.test")),o.a.createElement(st.a,{onClick:d,color:"secondary",disabled:n,variant:"outlined"},Le.a.t("queueIntegrationModal.buttons.cancel")),o.a.createElement(st.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:l.btnWrapper},"".concat(r?Le.a.t("queueIntegrationModal.buttons.okEdit"):Le.a.t("queueIntegrationModal.buttons.okAdd")),n&&o.a.createElement(Wt.a,{size:24,className:l.buttonProgress}))))})))};const Fm=(e,t)=>{if("LOAD_INTEGRATIONS"===t.type){const a=t.payload,n=[];return a.forEach(t=>{const a=e.findIndex(e=>e.id===t.id);-1!==a?e[a]=t:n.push(t)}),[...e,...n]}if("UPDATE_INTEGRATIONS"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a.id);return-1!==n?(e[n]=a,[...e]):[a,...e]}if("DELETE_INTEGRATION"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===t.type)return[]},Lm=Object(k.a)(e=>({mainPaper:{flex:1,padding:e.spacing(2),margin:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles},avatar:{width:"140px",height:"40px",borderRadius:4}}));var Wm=()=>{const e=Lm(),[t,a]=Object(n.useState)(!1),[r,l]=Object(n.useState)(1),[i,s]=Object(n.useState)(!1),[c,d]=Object(n.useState)(null),[m,u]=Object(n.useState)(null),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)(!1),[f,A]=Object(n.useState)(""),[h,v]=Object(n.useReducer)(Fm,[]),{user:x}=Object(n.useContext)($e),{getPlanCompany:w}=yt(),S=x.companyId,O=Object(xm.useHistory)(),k=Object(n.useContext)(y);Object(n.useEffect)(()=>{!async function(){(await w(void 0,S)).plan.useIntegrations||(C.b.error("Esta empresa n\xe3o possui permiss\xe3o para acessar essa p\xe1gina! Estamos lhe redirecionando."),setTimeout(()=>{O.push("/")},1e3))}()},[]),Object(n.useEffect)(()=>{v({type:"RESET"}),l(1)},[f]),Object(n.useEffect)(()=>{a(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ge.get("/queueIntegration/",{params:{searchParam:f,pageNumber:r}});v({type:"LOAD_INTEGRATIONS",payload:e.queueIntegrations}),s(e.hasMore),a(!1)}catch(e){He(e)}})()},500);return()=>clearTimeout(e)},[f,r]),Object(n.useEffect)(()=>{const e=localStorage.getItem("companyId"),t=k.getSocket(e);return t.on("company-".concat(e,"-queueIntegration"),e=>{"update"!==e.action&&"create"!==e.action||v({type:"UPDATE_INTEGRATIONS",payload:e.queueIntegration}),"delete"===e.action&&v({type:"DELETE_INTEGRATION",payload:+e.integrationId})}),()=>{t.disconnect()}},[k]);return o.a.createElement(ai,null,o.a.createElement(ga,{title:m&&"".concat(Le.a.t("queueIntegration.confirmationModal.deleteTitle")," ").concat(m.name,"?"),open:b,onClose:E,onConfirm:()=>(async e=>{try{await Ge.delete("/queueIntegration/".concat(e)),C.b.success(Le.a.t("queueIntegration.toasts.deleted"))}catch(t){He(t)}u(null),A(""),l(1)})(m.id)},Le.a.t("queueIntegration.confirmationModal.deleteMessage")),o.a.createElement(qm,{open:p,onClose:()=>{d(null),g(!1)},"aria-labelledby":"form-dialog-title",integrationId:c&&c.id}),o.a.createElement(oi,null,o.a.createElement(ii,null,Le.a.t("queueIntegration.title")," (",h.length,")"),o.a.createElement(li,null,o.a.createElement(it.a,{placeholder:Le.a.t("queueIntegration.searchPlaceholder"),type:"search",value:f,onChange:e=>{A(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(Zs.a,{position:"start"},o.a.createElement(qo.a,{color:"secondary"}))}}),o.a.createElement(st.a,{variant:"contained",color:"primary",onClick:()=>{d(null),g(!0)}},Le.a.t("queueIntegration.buttons.add")))),o.a.createElement(xn.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!i||t)return;const{scrollTop:a,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(a+100)<o&&l(e=>e+1)}},o.a.createElement(ao.a,{size:"small"},o.a.createElement(lo.a,null,o.a.createElement(io.a,null,o.a.createElement(oo.a,{padding:"checkbox"}),o.a.createElement(oo.a,{align:"center"},Le.a.t("queueIntegration.table.id")),o.a.createElement(oo.a,{align:"center"},Le.a.t("queueIntegration.table.name")))),o.a.createElement(no.a,null,o.a.createElement(o.a.Fragment,null,h.map(t=>o.a.createElement(io.a,{key:t.id},o.a.createElement(oo.a,null,"dialogflow"===t.type&&o.a.createElement(Ft.a,{src:jm.a,className:e.avatar}),"n8n"===t.type&&o.a.createElement(Ft.a,{src:km.a,className:e.avatar}),"webhook"===t.type&&o.a.createElement(Ft.a,{src:Nm.a,className:e.avatar}),"typebot"===t.type&&o.a.createElement(Ft.a,{src:Pm.a,className:e.avatar})),o.a.createElement(oo.a,{align:"center"},t.id),o.a.createElement(oo.a,{align:"center"},t.name),o.a.createElement(oo.a,{align:"center"},o.a.createElement(I.a,{size:"small",onClick:()=>(e=>{d(e),g(!0)})(t)},o.a.createElement($l.a,{color:"secondary"})),o.a.createElement(I.a,{size:"small",onClick:e=>{E(!0),u(t)}},o.a.createElement(ei.a,{color:"secondary"}))))),t&&o.a.createElement(ci,{columns:7}))))))},Bm=a(659),zm=a.n(Bm);const Hm=Object(k.a)(e=>({root:{width:"100vw",height:"100vh",background:"black",backgroundRepeat:"no-repeat",backgroundSize:"100% 100%",backgroundPosition:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},paper:{backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",padding:"55px 30px",borderRadius:"12.5px"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},powered:{color:"white"}})),Um=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/;var Vm=()=>{const e=Hm(),t=Object(x.useHistory)();let a=null;const[r,l]=Object(n.useState)(!1),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(!1),[g,b]=Object(n.useState)(""),E=()=>{m(!d)},f=()=>{p(!u)},A=Bl.a.parse(window.location.search);void 0!==A.companyId&&(a=A.companyId);const[h]=Object(n.useState)({email:""}),y=(O()().add(3,"day").format(),s),w=en.b().shape({email:en.d().email(Le.a.t("resetPassword.formErrors.email.invalid")).required(Le.a.t("resetPassword.formErrors.email.required")),newPassword:y?en.d().required(Le.a.t("resetPassword.formErrors.newPassword.required")).matches(Um,Le.a.t("resetPassword.formErrors.newPassword.matches")):en.d(),confirmPassword:en.d().when("newPassword",{is:e=>y&&e,then:en.d().oneOf([en.c("newPassword"),null],Le.a.t("resetPassword.formErrors.confirmPassword.matches")).required(Le.a.t("resetPassword.formErrors.confirmPassword.required")),otherwise:en.d()})});return o.a.createElement("div",{className:e.root},o.a.createElement(Hn.a,{component:"main",maxWidth:"xs"},o.a.createElement(i.a,null),o.a.createElement("div",{className:e.paper},o.a.createElement("div",null,o.a.createElement("img",{style:{margin:"0 auto",height:"80px",width:"100%"},src:Tn.a,alt:"Whats"})),o.a.createElement(D.a,{component:"h1",variant:"h5"},Le.a.t("resetPassword.title")),o.a.createElement(tn.e,{initialValues:{email:"",token:"",newPassword:"",confirmPassword:""},enableReinitialize:!0,validationSchema:w,onSubmit:(e,a)=>{setTimeout(()=>{s?(async e=>{const a=e.email,n=e.token,o=e.newPassword;if(o===e.confirmPassword)try{await Ge.post("".concat("https://api.zettabot.com.br","/resetpasswords/").concat(a,"/").concat(n,"/").concat(o)),b(""),C.b.success(Le.a.t("resetPassword.toasts.passwordUpdated")),t.push("/login")}catch(r){console.log(r)}})(e):(async e=>{const t=e.email;try{const e=await Ge.post("".concat("https://api.zettabot.com.br","/forgetpassword/").concat(t));console.log("API Response:",e.data),404===e.data.status?C.b.error(Le.a.t("resetPassword.toasts.emailNotFound")):C.b.success(Le.a.t("resetPassword.toasts.emailSent"))}catch(a){console.log("API Error:",a),He(a)}})(e),a.setSubmitting(!1),l(!r),c(!r)},400)}},t=>{let{touched:a,errors:n,isSubmitting:l}=t;return o.a.createElement(tn.d,{className:e.form},o.a.createElement(_a.a,{container:!0,spacing:2},o.a.createElement(_a.a,{item:!0,xs:12},o.a.createElement(tn.b,{as:it.a,variant:"outlined",fullWidth:!0,id:"email",label:Le.a.t("resetPassword.form.email"),name:"email",error:a.email&&Boolean(n.email),helperText:a.email&&n.email,autoComplete:"email",required:!0})),r&&o.a.createElement(o.a.Fragment,null,o.a.createElement(_a.a,{item:!0,xs:12},o.a.createElement(tn.b,{as:it.a,variant:"outlined",fullWidth:!0,id:"token",label:Le.a.t("resetPassword.form.verificationCode"),name:"token",error:a.token&&Boolean(n.token),helperText:a.token&&n.token,autoComplete:"off",required:!0})),o.a.createElement(_a.a,{item:!0,xs:12},o.a.createElement(tn.b,{as:it.a,variant:"outlined",fullWidth:!0,type:d?"text":"password",id:"newPassword",label:Le.a.t("resetPassword.form.newPassword"),name:"newPassword",error:a.newPassword&&Boolean(n.newPassword),helperText:a.newPassword&&n.newPassword,autoComplete:"off",required:!0,InputProps:{endAdornment:o.a.createElement(Zs.a,{position:"end"},o.a.createElement(I.a,{onClick:E},d?o.a.createElement(ea.a,null):o.a.createElement(zm.a,null)))}})),o.a.createElement(_a.a,{item:!0,xs:12},o.a.createElement(tn.b,{as:it.a,variant:"outlined",fullWidth:!0,type:u?"text":"password",id:"confirmPassword",label:Le.a.t("resetPassword.form.confirmPassword"),name:"confirmPassword",error:a.confirmPassword&&Boolean(n.confirmPassword),helperText:a.confirmPassword&&n.confirmPassword,autoComplete:"off",required:!0,InputProps:{endAdornment:o.a.createElement(Zs.a,{position:"end"},o.a.createElement(I.a,{onClick:f},u?o.a.createElement(ea.a,null):o.a.createElement(zm.a,null)))}})))),s?o.a.createElement(st.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},Le.a.t("resetPassword.buttons.submitPassword")):o.a.createElement(st.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},Le.a.t("resetPassword.buttons.submitEmail")),o.a.createElement(_a.a,{container:!0,justifyContent:"flex-end"},o.a.createElement(_a.a,{item:!0},o.a.createElement(Er.a,{href:"#",variant:"body2",component:v.b,to:"/signup"},Le.a.t("resetPassword.buttons.back")))),g&&o.a.createElement(D.a,{variant:"body2",color:"error"},g))})),o.a.createElement(Lt.a,{mt:5})))},Qm=a(1572),Km=a(1573),Gm=a(1616),Ym=a(1633),Xm=a(1595),_m=a(1614),Zm=a(1596);const Jm=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var $m=e=>{let{open:t,onClose:a,FlowCampaignId:r,onSave:l}=e;const i=Jm(),{user:s}=(Object(n.useRef)(!0),Object(n.useContext)($e)),{companyId:c}=s,[d,m]=Object(n.useState)(!0),u=Object(n.useRef)(null),[p,g]=Object(n.useState)({name:"",phrase:""}),[b,E]=Object(n.useState)({name:!1,flowId:!1,phrase:!1}),[f,A]=Object(n.useState)(),[h,y]=Object(n.useState)([]),[v,x]=Object(n.useState)([]),[w,S]=Object(n.useState)(""),[O,k]=Object(n.useState)([]),[T,j]=Object(n.useState)(!0),[I,N]=Object(n.useState)(!0),M=async()=>{const e=await(async()=>{const e=await Ge.get("/flowbuilder");return x(e.data.flows),y(e.data.flows.map(e=>e.name)),e.data.flows})();r?await(async e=>{N(!0),await Ge.get("/flowcampaign/".concat(r)).then(t=>{console.log("dete",t.data),g({name:t.data.details.name,phrase:t.data.details.phrase}),j(t.data.details.status);const a=e.filter(e=>e.id===t.data.details.flowId);a.length>0&&A(a[0].name),N(!1)})})(e):(P(),N(!1))};Object(n.useEffect)(()=>{N(!0);const e=setTimeout(()=>{(async()=>{Ge.get("/whatsapp",{params:{companyId:c,session:0}}).then(e=>{let{data:t}=e;k(t)})})(),N(!1)},500);return()=>clearTimeout(e)},[]),Object(n.useEffect)(()=>{N(!0),!0===t&&M()},[t]);const P=()=>{A(),g({name:"",phrase:""})},R=()=>{let e=0;if(""!==p.name&&0!==p.name.length||(E(e=>({...e,name:!0})),e++),f||(E(e=>({...e,flowId:!0})),e++),""!==p.phrase&&0!==p.phrase.length||(E(e=>({...e,phrase:!0})),e++),w||E(e=>({...e,whatsappId:!0})),0!==e)return;const t=v.filter(e=>e.name===f)[0].id,n=""!==w?w:null;r?(Ge.put("/flowcampaign",{id:r,name:p.name,flowId:t,whatsappId:n,phrase:p.phrase,status:T}),a(),l("ok"),C.b.success("Frase alterada com sucesso!"),P()):(Ge.post("/flowcampaign",{name:p.name,flowId:t,whatsappId:n,phrase:p.phrase}),a(),l("ok"),C.b.success("Frase criada com sucesso!"),P())};return o.a.createElement("div",{className:i.root},o.a.createElement(ta.a,{open:t,onClose:()=>{a()},fullWidth:!0,maxWidth:"md",scroll:"paper"},o.a.createElement(pa.a,{id:"form-dialog-title"},d?o.a.createElement(o.a.Fragment,null,r?"Editar campanha com fluxo por frase":"Nova campanha com fluxo por frase"):o.a.createElement(o.a.Fragment,null,"".concat(Le.a.t("campaigns.dialog.readonly")))),o.a.createElement("div",{style:{display:"none"}},o.a.createElement("input",{type:"file",ref:u})),!I&&o.a.createElement(So.a,{sx:{padding:"52px"}},o.a.createElement(So.a,{sx:{gap:"14px"}},o.a.createElement(So.a,{gap:1},o.a.createElement(D.a,null,"Nome do disparo por frase"),o.a.createElement(it.a,{label:"",name:"text",variant:"outlined",error:b.name,defaultValue:p.name,margin:"dense",onChange:e=>{g(t=>{let a=t;return a.name=e.target.value,a})},className:i.textField,style:{width:"100%"}})),o.a.createElement(So.a,{gap:1},o.a.createElement(D.a,null,"Escolha um fluxo"),o.a.createElement(Xm.a,{disablePortal:!0,id:"combo-box-demo",value:f,error:b.flowId,defaultValue:f,options:h,onChange:(e,t)=>{A(t)},sx:{width:"100%"},renderInput:e=>o.a.createElement(it.a,Object.assign({},e,{error:b.flowId,variant:"outlined",style:{width:"100%"},placeholder:"Escolha um fluxo"})),renderTags:(e,t)=>e.map((e,a)=>o.a.createElement(_m.a,Object.assign({variant:"outlined",label:e},t({index:a}),{style:{borderRadius:"8px"}})))})),o.a.createElement(So.a,{gap:1},o.a.createElement(an.a,{required:!0,fullWidth:!0,displayEmpty:!0,variant:"outlined",value:w,onChange:e=>{S(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:()=>{if(""===w)return"Selecione uma Conex\xe3o";return O.find(e=>e.id===w).name}},(null===O||void 0===O?void 0:O.length)>0&&O.map((e,t)=>o.a.createElement(F.a,{dense:!0,key:t,value:e.id},o.a.createElement(Y.a,{primary:o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{component:"span",style:{fontSize:14,marginLeft:"10px",display:"inline-flex",alignItems:"center",lineHeight:"2"}},e.name," \xa0"," ",o.a.createElement("p",{className:"CONNECTED"===e.status?i.online:i.offline},"(",e.status,")")))}))))),o.a.createElement(So.a,{gap:1},o.a.createElement(D.a,null,"Qual frase dispara o fluxo?"),o.a.createElement(it.a,{label:"",name:"text",variant:"outlined",error:b.phrase,defaultValue:p.phrase,margin:"dense",onChange:e=>{g(t=>{let a=t;return a.phrase=e.target.value,a})},className:i.textField,style:{width:"100%"}})),o.a.createElement(So.a,{direction:"row",gap:2},o.a.createElement(So.a,{justifyContent:"center"},o.a.createElement(D.a,null,"Status")),o.a.createElement(Zm.a,{checked:T,onChange:()=>j(e=>!e)}))),o.a.createElement(So.a,{direction:"row",spacing:2,alignSelf:"end",marginTop:"16px"},o.a.createElement(st.a,{variant:"outlined",onClick:()=>{a(),E({name:!1,flowId:!1,whatsappId:!1,phrase:!1})}},"Cancelar"),r?o.a.createElement(st.a,{variant:"contained",color:"primary",onClick:()=>R()},"Salvar campanha"):o.a.createElement(st.a,{variant:"contained",color:"primary",onClick:()=>R()},"Criar campanha"))),I&&o.a.createElement(So.a,{justifyContent:"center",alignItems:"center",minHeight:"10vh",sx:{padding:"52px"}},o.a.createElement(Wt.a,null))))};const eu=Object(k.a)(e=>({mainPaper:{flex:1,borderRadius:12,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var tu=()=>{const e=eu(),{user:t}=(Object(x.useHistory)(),Object(n.useContext)($e)),[a,r]=Object(n.useState)(!0),[l,i]=Object(n.useState)(1),[s,c]=Object(n.useState)(!1),[d,m]=Object(n.useState)(null),[u,p]=Object(n.useState)(null),[g,b]=Object(n.useState)(!1),[E,f]=Object(n.useState)(!1),[A,h]=Object(n.useState)(""),[y,v]=Object(n.useState)(!1),[w,S]=Object(n.useState)(null),[O,k]=Object(n.useState)([]),[T,j]=Object(n.useState)(!1),[N,M]=Object(n.useState)(),P=async()=>{r(!0),await Ge.get("/flowcampaign").then(e=>{k(e.data.flow)}).finally(()=>{r(!1)})};return Object(n.useEffect)(()=>{P()},[]),o.a.createElement(ai,null,o.a.createElement(ga,{title:u&&"".concat(Le.a.t("campaigns.confirmationModal.deleteTitle")," ").concat(u.name,"?"),open:E,onClose:f,onConfirm:()=>(async e=>{try{await Ge.delete("/flowcampaign/".concat(e)),C.b.success("Frase deletada"),P()}catch(t){He(t)}})(w.id)},Le.a.t("campaigns.confirmationModal.deleteMessage")),o.a.createElement($m,{open:T,onClose:()=>j(!1),FlowCampaignId:N,onSave:()=>{P()}}),o.a.createElement(oi,null,o.a.createElement(Gm.a,{style:{width:"99.6%"},container:!0},o.a.createElement(Gm.a,{xs:12,sm:8,item:!0},o.a.createElement(ii,null,"Campanhas")),o.a.createElement(Gm.a,{xs:12,sm:4,item:!0},o.a.createElement(Gm.a,{spacing:2,container:!0},o.a.createElement(Gm.a,{xs:6,sm:6,item:!0}),o.a.createElement(Gm.a,{xs:6,sm:6,item:!0},o.a.createElement(st.a,{fullWidth:!0,variant:"contained",onClick:()=>{M(),j(!0)},color:"primary",style:{textTransform:"none"}},o.a.createElement(So.a,{direction:"row",gap:1},o.a.createElement(Qm.a,null),"Campanha"))))))),o.a.createElement(xn.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!s||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:o}=e.currentTarget}},o.a.createElement(So.a,null,o.a.createElement(Gm.a,{container:!0,style:{padding:"8px"}},o.a.createElement(Gm.a,{item:!0,xs:4},"Nome"),o.a.createElement(Gm.a,{item:!0,xs:4,align:"center"},"Status"),o.a.createElement(Gm.a,{item:!0,xs:4,align:"end"},Le.a.t("contacts.table.actions"))),o.a.createElement(o.a.Fragment,null,!a&&O.map(e=>o.a.createElement(Gm.a,{container:!0,key:e.id,sx:{padding:"8px",borderRadius:4,marginTop:.5}},o.a.createElement(Gm.a,{item:!0,xs:4},o.a.createElement(So.a,{justifyContent:"center",height:"100%",style:{color:"#252525"}},o.a.createElement(So.a,{direction:"row"},o.a.createElement(Km.a,null),o.a.createElement(So.a,{justifyContent:"center",marginLeft:1},e.name)))),o.a.createElement(Gm.a,{item:!0,xs:4,align:"center",style:{color:"#252525"}},o.a.createElement(So.a,{justifyContent:"center",height:"100%"},e.status?"Ativo":"Desativado")),o.a.createElement(Gm.a,{item:!0,xs:4,align:"end"},o.a.createElement(I.a,{size:"small",onClick:()=>{M(e.id),j(!0)}},o.a.createElement(pt.a,{style:{color:"#252525"}})),o.a.createElement(at,{role:t.profile,perform:"contacts-page:deleteContact",yes:()=>o.a.createElement(I.a,{size:"small",onClick:t=>{f(!0),S(e)}},o.a.createElement(Yo.a,{style:{color:"#252525"}}))})))),a&&o.a.createElement(So.a,{justifyContent:"center",alignItems:"center",minHeight:"50vh"},o.a.createElement(Ym.a,null))))))},au=a(1574),nu=a(1575),ou=a(909),ru=a(1603);const lu=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),iu=en.b().shape({name:en.d().min(2,"Muito curto!").max(50,"Muito longo!").required("Digite um nome!")});var su=e=>{let{open:t,onClose:a,flowId:r,nameWebhook:l="",initialValues:i,onSave:s}=e;const c=lu(),d=Object(n.useRef)(!0),[m,u]=Object(n.useState)({name:l});Object(n.useEffect)(()=>()=>{d.current=!1},[]);const p=()=>{a(),u({name:""})};return o.a.createElement("div",{className:c.root},o.a.createElement(ta.a,{open:t,onClose:p,fullWidth:"md",scroll:"paper"},o.a.createElement(pa.a,{id:"form-dialog-title"},r?"Editar Fluxo":"Adicionar Fluxo"),o.a.createElement(tn.e,{initialValues:m,enableReinitialize:!0,validationSchema:iu,onSubmit:(e,t)=>{setTimeout(()=>{(async e=>{if(r)try{await Ge.put("/flowbuilder",{name:e.name,flowId:r}),s(e.name),p(),C.b.success(Le.a.t("webhookModal.toasts.update"))}catch(t){He(t)}else try{await Ge.post("/flowbuilder",{name:e.name}),s(e.name),p(),C.b.success(Le.a.t("webhookModal.saveSuccess"))}catch(t){He(t)}})(e),t.setSubmitting(!1)},400)}},e=>{let{errors:t,isSubmitting:a}=e;return o.a.createElement(tn.d,null,o.a.createElement(ua.a,{dividers:!0},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("contactModal.form.name"),name:"name",autoFocus:!0,defaultValue:m.name,error:Boolean(t.name),helperText:t.name,variant:"outlined",margin:"dense",className:c.textField,style:{width:"95%"}})),o.a.createElement(aa.a,null,o.a.createElement(st.a,{onClick:p,color:"secondary",disabled:a,variant:"outlined"},Le.a.t("contactModal.buttons.cancel")),o.a.createElement(st.a,{type:"submit",color:"primary",disabled:a,variant:"contained",className:c.btnWrapper},"".concat(r?Le.a.t("contactModal.buttons.okEdit"):Le.a.t("contactModal.buttons.okAdd")),a&&o.a.createElement(Wt.a,{size:24,className:c.buttonProgress}))))})))};const cu=(e,t)=>{if("LOAD_CONTACTS"===t.type){const a=t.payload,n=[];return a.forEach(t=>{const a=e.findIndex(e=>e.id===t.id);-1!==a?e[a]=t:n.push(t)}),[...e,...n]}if("UPDATE_CONTACTS"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a.id);return-1!==n?(e[n]=a,[...e]):[a,...e]}if("DELETE_CONTACT"===t.type){const a=t.payload,n=e.findIndex(e=>e.id===a);return-1!==n&&e.splice(n,1),[...e]}if("RESET"===t.type)return[]},du=Object(k.a)(e=>({mainPaper:{flex:1,borderRadius:12,padding:e.spacing(1),overflowY:"scroll",...e.scrollbarStyles}}));var mu=()=>{const e=du(),t=Object(x.useHistory)(),[a,r]=Object(n.useState)(!1),[l,i]=Object(n.useState)(1),[s,c]=Object(n.useState)(""),[d,m]=Object(n.useReducer)(cu,[]),[u,p]=Object(n.useState)([]),[g,b]=Object(n.useState)(null),[E,f]=Object(n.useState)(null),[A,h]=Object(n.useState)(!1),[y,v]=Object(n.useState)(!1),[w,S]=Object(n.useState)({}),[O,k]=Object(n.useState)(null),[T,j]=Object(n.useState)(!1),[I,N]=Object(n.useState)(!1),[M,P]=Object(n.useState)(!1),[R,D]=Object(n.useState)(!1),{user:q,socket:F}=Object(n.useContext)($e);Object(n.useEffect)(()=>{m({type:"RESET"}),i(1)},[s]),Object(n.useEffect)(()=>{r(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ge.get("/flowbuilder");p(e.flows),m({type:"LOAD_CONTACTS",payload:e.flows}),P(e.hasMore)}catch(e){He(e)}finally{r(!1)}})()},500);return()=>clearTimeout(e)},[s,l,R]);const[L,W]=Object(n.useState)(null),B=Boolean(L),z=()=>{W(null)};return o.a.createElement(ai,{className:e.mainContainer},o.a.createElement(ar,{modalOpen:y,initialContact:w,onClose:e=>{(e=>{v(!1),void 0!==e&&void 0!==e.uuid&&t.push("/tickets/".concat(e.uuid))})(e)}}),o.a.createElement(su,{open:A,onClose:()=>{b(null),h(!1)},"aria-labelledby":"form-dialog-title",flowId:g,nameWebhook:E,onSave:()=>D(e=>!e)}),o.a.createElement(ga,{title:O?"".concat(Le.a.t("contacts.confirmationModal.deleteTitle")," ").concat(O.name,"?"):"".concat(Le.a.t("contacts.confirmationModal.importTitlte")),open:T,onClose:j,onConfirm:e=>O?(async e=>{try{await Ge.delete("/flowbuilder/".concat(e)).then(e=>{k(null),D(e=>!e)}),C.b.success("Fluxo exclu\xeddo com sucesso")}catch(t){He(t)}})(O.id):()=>{}},O?"Tem certeza que deseja deletar este fluxo? Todas as integra\xe7\xf5es relacionados ser\xe3o perdidos.":"".concat(Le.a.t("contacts.confirmationModal.importMessage"))),o.a.createElement(ga,{title:O?"Deseja duplicar o fluxo ".concat(O.name,"?"):"".concat(Le.a.t("contacts.confirmationModal.importTitlte")),open:I,onClose:N,onConfirm:e=>O?(async e=>{try{await Ge.post("/flowbuilder/duplicate",{flowId:e}).then(e=>{k(null),D(e=>!e)}),C.b.success("Fluxo duplicado com sucesso")}catch(t){He(t)}})(O.id):()=>{}},O?"Tem certeza que deseja duplicar este fluxo?":"".concat(Le.a.t("contacts.confirmationModal.importMessage"))),o.a.createElement(oi,null,o.a.createElement(ii,null,"Fluxos de conversa"),o.a.createElement(li,null,o.a.createElement(it.a,{placeholder:Le.a.t("contacts.searchPlaceholder"),type:"search",value:s,onChange:e=>{c(e.target.value.toLowerCase())},InputProps:{startAdornment:o.a.createElement(Zs.a,{position:"start"},o.a.createElement(qo.a,{style:{color:"gray"}}))}}),o.a.createElement(ko.a,{variant:"contained",onClick:()=>{b(null),h(!0)},color:"primary"},o.a.createElement(So.a,{direction:"row",gap:1},o.a.createElement(Qm.a,null),"Adicionar Fluxo")))),o.a.createElement(xn.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!M||a)return;const{scrollTop:t,scrollHeight:n,clientHeight:o}=e.currentTarget;n-(t+100)<o&&i(e=>e+1)}},o.a.createElement(So.a,null,o.a.createElement(Gm.a,{container:!0,style:{padding:"8px"}},o.a.createElement(Gm.a,{item:!0,xs:4},Le.a.t("contacts.table.name")),o.a.createElement(Gm.a,{item:!0,xs:4,align:"center"},"Status"),o.a.createElement(Gm.a,{item:!0,xs:4,align:"end"},Le.a.t("contacts.table.actions"))),o.a.createElement(o.a.Fragment,null,u.map(e=>o.a.createElement(Gm.a,{container:!0,key:e.id,sx:{padding:"8px",borderRadius:2,marginTop:.5}},o.a.createElement(Gm.a,{item:!0,xs:4,onClick:()=>t.push("/flowbuilder/".concat(e.id))},o.a.createElement(So.a,{justifyContent:"center",height:"100%",style:{color:"#252525"}},o.a.createElement(So.a,{direction:"row"},o.a.createElement(au.a,null),o.a.createElement(So.a,{justifyContent:"center",marginLeft:1},e.name)))),o.a.createElement(Gm.a,{item:!0,xs:4,align:"center",style:{color:"#252525"},onClick:()=>t.push("/flowbuilder/".concat(e.id))},o.a.createElement(So.a,{justifyContent:"center",height:"100%"},e.active?"Ativo":"Desativado")),o.a.createElement(Gm.a,{item:!0,xs:4,align:"end"},o.a.createElement(ko.a,{id:"basic-button","aria-controls":B?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":B?"true":void 0,onClick:t=>{W(t.currentTarget),k(e)},sx:{borderRadius:"36px",minWidth:"24px"}},o.a.createElement(nu.a,{sx:{color:"#252525",width:"21px",height:"21px"}}))))),o.a.createElement(ou.a,{id:"basic-menu",anchorEl:L,open:B,sx:{borderRadius:"40px"},onClose:z,MenuListProps:{"aria-labelledby":"basic-button"}},o.a.createElement(ru.a,{onClick:()=>{z(),b(O.id),f(O.name),h(!0)}},"Editar nome"),o.a.createElement(ru.a,{onClick:()=>{z(),t.push("/flowbuilder/".concat(O.id))}},"Editar fluxo"),o.a.createElement(ru.a,{onClick:()=>{z(),N(!0)}},"Duplicar"),o.a.createElement(ru.a,{onClick:()=>{z(),j(!0)}},"Excluir")),a&&o.a.createElement(So.a,{justifyContent:"center",alignItems:"center",minHeight:"50vh"},o.a.createElement(Ym.a,null))))))},uu=a(538),pu=a(534),gu=a.n(pu),bu=a(1577),Eu=a(1578),fu=a(1579),Au=a(48),hu=a(278);const yu=a.n(hu)()(e=>({node:"",connect:"",action:"idle",setNodesStorage:t=>e(e=>({...e,node:t})),setConnectsStorage:t=>e(e=>({...e,connect:t})),setAct:t=>e(e=>({...e,action:t}))}));var vu=Object(n.memo)(e=>{let{data:t,isConnectable:a,id:n}=e;const r=yu();return o.a.createElement("div",{style:{backgroundColor:"#555",padding:"8px",borderRadius:"8px"}},o.a.createElement(Au.a,{type:"target",position:"left",style:{background:"#0000FF"},onConnect:e=>console.log("handle onConnect",e),isConnectable:a}),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(bu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#ffff"}}),o.a.createElement(Eu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct("delete")},sx:{width:"12px",height:"12px",color:"#ffff"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(fu.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px"}}),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px"}},"Audio")),o.a.createElement("div",{style:{color:"#ededed",fontSize:"12px"}},o.a.createElement("div",{style:{position:"absolute",right:"50px",top:"12px"}},t.record&&t.record?o.a.createElement("div",null,"Gravado na hora"):o.a.createElement("div",null,"Audio enviado")),o.a.createElement("audio",{controls:"controls"},o.a.createElement("source",{src:"".concat("https://api.zettabot.com.br","/public/").concat(t.url),type:"audio/mp3"}),"seu navegador n\xe3o suporta HTML5")),o.a.createElement(Au.a,{type:"source",position:"right",id:"a",style:{background:"#0000FF"},isConnectable:a}))}),xu=a(1580),Cu=Object(n.memo)(e=>{let{data:t,isConnectable:a,id:n}=e;const r=yu();return console.log(12,"ticketNode",t),o.a.createElement("div",{style:{backgroundColor:"#ffffff",padding:"8px",borderRadius:"8px",boxShadow:"rgba(0, 0, 0, 0.05) 0px 3px 5px",border:"1px solid rgba(33, 94, 151, 0.25)"}},o.a.createElement(Au.a,{type:"target",position:"left",style:{background:"#0872b9",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:a},o.a.createElement(xu.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(bu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#F7953B"}}),o.a.createElement(Eu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct("delete")},sx:{width:"12px",height:"12px",color:"#F7953B"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(Lt.a,{component:"img",sx:{width:16,height:16,marginRight:4,marginTop:4,color:"#3aba38"},src:gu.a,alt:"icon"}),o.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"TypeBot")),o.a.createElement("div",{style:{color:"#232323",fontSize:"12px",width:180}},o.a.createElement("div",{style:{backgroundColor:"#F6EEEE",marginBottom:"3px",borderRadius:"5px"}},o.a.createElement("div",{style:{gap:"5px",padding:"6px"}},o.a.createElement("div",{style:{textAlign:"center"}},"TypeBot")))),o.a.createElement(Au.a,{type:"source",position:"right",id:"a",style:{background:"#0872b9",width:"18px",height:"18px",top:"70%",right:"-11px",cursor:"pointer"},isConnectable:a},o.a.createElement(xu.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),wu=Object(n.memo)(e=>{let{data:t,isConnectable:a,id:n}=e;const r=yu();return console.log(12,"ticketNode",t),o.a.createElement("div",{style:{backgroundColor:"#ffffff",padding:"8px",borderRadius:"8px",boxShadow:"rgba(0, 0, 0, 0.05) 0px 3px 5px",border:"1px solid rgba(33, 94, 151, 0.25)"}},o.a.createElement(Au.a,{type:"target",position:"left",style:{background:"#0872b9",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:a},o.a.createElement(xu.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(bu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#F7953B"}}),o.a.createElement(Eu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct("delete")},sx:{width:"12px",height:"12px",color:"#F7953B"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(uu.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#3aba38"}}),o.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"OpenAI")),o.a.createElement("div",{style:{color:"#232323",fontSize:"12px",width:180}},o.a.createElement("div",{style:{backgroundColor:"#F6EEEE",marginBottom:"3px",borderRadius:"5px"}},o.a.createElement("div",{style:{gap:"5px",padding:"6px"}},o.a.createElement("div",{style:{textAlign:"center"}},"OpenAI")))),o.a.createElement(Au.a,{type:"source",position:"right",id:"a",style:{background:"#0872b9",width:"18px",height:"18px",top:"70%",right:"-11px",cursor:"pointer"},isConnectable:a},o.a.createElement(xu.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),Su=a(1581),Ou=Object(n.memo)(e=>{let{data:t,isConnectable:a,id:n}=e;const r=yu();return o.a.createElement("div",{style:{backgroundColor:"#555",padding:"8px",borderRadius:"8px"}},o.a.createElement(Au.a,{type:"target",position:"left",style:{background:"#0000FF",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:a},o.a.createElement(xu.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"3.5px",marginBottom:"1px",pointerEvents:"none"}})),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(bu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#ffff"}}),o.a.createElement(Eu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct("delete")},sx:{width:"12px",height:"12px",color:"#ffff"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(Su.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px"}}),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px"}},"Mensagem")),o.a.createElement("div",{style:{color:"#ededed",fontSize:"12px",width:180}},t.label),o.a.createElement(Au.a,{type:"source",position:"right",id:"a",style:{background:"#0000FF",width:"18px",height:"18px",top:"70%",right:"-11px",cursor:"pointer"},isConnectable:a},o.a.createElement(xu.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),ku=a(1582),Tu=Object(n.memo)(e=>{let{data:t,isConnectable:a}=e;return o.a.createElement("div",{style:{backgroundColor:"#F9FDF9",padding:"8px",borderRadius:"8px",boxShadow:"rgba(0, 0, 0, 0.05) 0px 3px 5px",border:"1px solid rgba(58, 186, 56, 0.25)"}},o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(ku.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#3aba38"}}),o.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"Inicio do fluxo")),o.a.createElement("div",{style:{color:"#727272",fontSize:"12px"}},"Este bloco marca o inicio do seu fluxo!"),o.a.createElement(Au.a,{type:"source",position:"right",id:"a",style:{background:"#0000FF",width:"18px",height:"18px",top:"70%",right:"-11px",cursor:"pointer"},isConnectable:a},o.a.createElement(xu.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),ju=a(1583),Iu=Object(n.memo)(e=>{let{data:t,isConnectable:a,id:n}=e;const r=yu();return o.a.createElement("div",{style:{backgroundColor:"#FAFBFF",padding:"8px",borderRadius:"8px",maxWidth:"155px",boxShadow:"0px 3px 5px rgba(0,0,0,.05)",border:"1px solid rgba(104, 58, 200, 0.25)",width:180}},o.a.createElement(Au.a,{type:"target",position:"left",style:{background:"#0000FF",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:a},o.a.createElement(xu.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"3.5px",marginBottom:"1px",pointerEvents:"none"}})),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(bu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#683AC8"}}),o.a.createElement(Eu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct("delete")},sx:{width:"12px",height:"12px",color:"#683AC8"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(ju.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#683AC8"}}),o.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"Menu")),o.a.createElement("div",null,o.a.createElement("div",{style:{color:"#232323",fontSize:"12px",height:"50px",overflow:"hidden",marginBottom:"8px"}},t.message)),t.arrayOption.map(e=>o.a.createElement("div",{style:{marginBottom:"9px",justifyContent:"end",display:"flex"}},o.a.createElement("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"10px",position:"relative",display:"flex",color:"#232323",justifyContent:"center",flexDirection:"column",alignSelf:"end"}},"[".concat(e.number,"] ").concat(e.value)),o.a.createElement(Au.a,{type:"source",position:"right",id:"a"+e.number,style:{top:74+23*e.number,background:"#0000FF",width:"18px",height:"18px",right:"-11px",cursor:"pointer"},isConnectable:a},o.a.createElement(xu.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))))}),Nu=a(1584),Mu=Object(n.memo)(e=>{let{data:t,isConnectable:a,id:n}=e;const r=yu();return o.a.createElement("div",{style:{backgroundColor:"#FFFBFA",padding:"8px",borderRadius:"8px",minWidth:"155px",border:"1px solid rgba(240, 135, 90, 0.25)",boxShadow:"rgba(0, 0, 0, 0.05) 0px 3px 5px"}},o.a.createElement(Au.a,{type:"target",position:"left",style:{background:"#0000FF",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:a},o.a.createElement(xu.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"3.5px",marginBottom:"1px",pointerEvents:"none"}})),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(bu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#F7953B"}}),o.a.createElement(Eu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct("delete")},sx:{width:"12px",height:"12px",color:"#F7953B"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(Nu.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#F7953B"}}),o.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"Intervalo")),o.a.createElement("div",{style:{color:"#232323",fontSize:"12px"}},t.sec," segundos"),o.a.createElement(Au.a,{type:"source",position:"right",id:"a",style:{background:"#0000FF",width:"18px",height:"18px",top:"70%",right:"-11px",cursor:"pointer"},isConnectable:a},o.a.createElement(xu.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),Pu=a(1585),Ru=Object(n.memo)(e=>{let{data:t,isConnectable:a,id:n}=e;const r=yu();return o.a.createElement("div",{style:{backgroundColor:"#555",padding:"8px",borderRadius:"8px"}},o.a.createElement(Au.a,{type:"target",position:"left",style:{background:"#0000FF"},onConnect:e=>console.log("handle onConnect",e),isConnectable:a}),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(bu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#ffff"}}),o.a.createElement(Eu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct("delete")},sx:{width:"12px",height:"12px",color:"#ffff"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(Pu.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px"}}),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px"}},"Imagem")),o.a.createElement("div",{style:{color:"#ededed",fontSize:"12px",width:180}},o.a.createElement("img",{src:"".concat("https://api.zettabot.com.br","/public/").concat(t.url),style:{width:"180px"}})),o.a.createElement(Au.a,{type:"source",position:"right",id:"a",style:{background:"#0000FF"},isConnectable:a}))}),Du=a(1586),qu=Object(n.memo)(e=>{let{data:t,isConnectable:a,id:n}=e;const r=yu();return o.a.createElement("div",{style:{backgroundColor:"#F8FCFD",padding:"8px",borderRadius:"8px",width:"185px",border:"1px solid rgba(31, 186, 220, 0.25)"}},o.a.createElement(Au.a,{type:"target",position:"left",style:{background:"#0000FF",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:a},o.a.createElement(xu.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"3.5px",marginBottom:"1px",pointerEvents:"none"}})),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(bu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#1FBADC"}}),o.a.createElement(Eu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct("delete")},sx:{width:"12px",height:"12px",color:"#1FBADC"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(Du.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#1FBADC"}}),o.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"Randomizador")),o.a.createElement("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"16px",justifyContent:"end",position:"relative",display:"flex",color:"#232323"}},"".concat(t.percent,"%")),o.a.createElement(Au.a,{type:"source",position:"right",id:"a",style:{background:"#0000FF",width:"18px",height:"18px",right:"-11px",marginTop:"-5px",cursor:"pointer"},isConnectable:a},o.a.createElement(xu.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})),o.a.createElement("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"16px",justifyContent:"end",position:"relative",display:"flex",marginTop:"8px",color:"#232323"}},"".concat(100-t.percent,"%")),o.a.createElement(Au.a,{type:"source",position:"right",id:"b",style:{background:"#0000FF",width:"18px",height:"18px",right:"-11px",top:73,cursor:"pointer"},isConnectable:a},o.a.createElement(xu.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),Fu=a(1587),Lu=Object(n.memo)(e=>{let{data:t,isConnectable:a,id:n}=e;const r=yu();return o.a.createElement("div",{style:{backgroundColor:"#555",padding:"8px",borderRadius:"8px"}},o.a.createElement(Au.a,{type:"target",position:"left",style:{background:"#0000FF"},onConnect:e=>console.log("handle onConnect",e),isConnectable:a}),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(bu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#ffff"}}),o.a.createElement(Eu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct("delete")},sx:{width:"12px",height:"12px",color:"#ffff"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(Fu.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px"}}),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px"}},"Video")),o.a.createElement("div",{style:{color:"#ededed",fontSize:"12px",width:180}},o.a.createElement("video",{controls:"controls",width:"180px"},o.a.createElement("source",{src:"".concat("https://api.zettabot.com.br","/public/").concat(t.url),type:"video/mp4"}),"seu navegador n\xe3o suporta HTML5")),o.a.createElement(Au.a,{type:"source",position:"right",id:"a",style:{background:"#0000FF"},isConnectable:a}))}),Wu=a(1627),Bu=a(396),zu=a.n(Bu),Hu=Object(n.memo)(e=>{var t;let{data:a,isConnectable:n,id:r}=e;const l=yu();return o.a.createElement("div",{style:{backgroundColor:"#FEFAFA",padding:"8px",borderRadius:"8px",border:"1px solid rgba(236, 88, 88, 0.25)",boxShadow:"rgba(0, 0, 0, 0.05) 0px 3px 5px"}},o.a.createElement(Au.a,{type:"target",position:"left",style:{background:"#0000FF",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:n},o.a.createElement(xu.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"3.5px",marginBottom:"1px",pointerEvents:"none"}})),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(bu.a,{onClick:()=>{l.setNodesStorage(r),l.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#EC5858"}}),o.a.createElement(Eu.a,{onClick:()=>{l.setNodesStorage(r),l.setAct("delete")},sx:{width:"12px",height:"12px",color:"#EC5858"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(zu.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#EC5858"}}),o.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"Pergunta")),o.a.createElement("div",{style:{color:"#232323",fontSize:"12px",width:180}},o.a.createElement("div",{style:{gap:"5px",padding:"6px"}},o.a.createElement("div",{style:{display:"flex",position:"relative",flexDirection:"row",justifyContent:"center"}},o.a.createElement(zu.a,{sx:{color:"#EC5858"}})),o.a.createElement(Wu.a,{textAlign:"center",sx:{textOverflow:"ellipsis",fontSize:"10px",whiteSpace:"nowrap",overflow:"hidden"}},null===a||void 0===a||null===(t=a.typebotIntegration)||void 0===t?void 0:t.message))),o.a.createElement(Au.a,{type:"source",position:"right",id:"a",style:{background:"#0000FF",width:"18px",height:"18px",top:"90%",right:"-11px",cursor:"pointer"},isConnectable:n},o.a.createElement(xu.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))});a(1347);var Uu=a(1588),Vu=Object(n.memo)(e=>{let{data:t,isConnectable:a,id:n}=e;const r=yu();return o.a.createElement("div",{style:{backgroundColor:"#FEFAFA",padding:"8px",borderRadius:"8px",border:"1px solid rgba(236, 88, 88, 0.25)",boxShadow:"rgba(0, 0, 0, 0.05) 0px 3px 5px"}},o.a.createElement(Au.a,{type:"target",position:"left",style:{background:"#0000FF",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:a},o.a.createElement(xu.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"3.5px",marginBottom:"1px",pointerEvents:"none"}})),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(bu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#EC5858"}}),o.a.createElement(Eu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct("delete")},sx:{width:"12px",height:"12px",color:"#EC5858"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(Uu.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#EC5858"}}),o.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"Conte\xfado")),o.a.createElement("div",{style:{color:"#232323",fontSize:"12px",width:180}},t.seq.map(e=>o.a.createElement("div",{style:{backgroundColor:"#F6EEEE",marginBottom:"3px",borderRadius:"5px"}},e.includes("message")&&o.a.createElement("div",{style:{gap:"5px",padding:"6px"}},o.a.createElement("div",{style:{display:"flex",position:"relative",flexDirection:"row",justifyContent:"center"}},o.a.createElement(Su.a,{sx:{color:"#EC5858"}})),o.a.createElement(Wu.a,{textAlign:"center",sx:{textOverflow:"ellipsis",fontSize:"10px",whiteSpace:"nowrap",overflow:"hidden"}},t.elements.filter(t=>t.number===e)[0].value)),e.includes("interval")&&o.a.createElement("div",{style:{gap:"5px",padding:"6px"}},o.a.createElement("div",{style:{display:"flex",position:"relative",flexDirection:"row",justifyContent:"center"}},o.a.createElement(Nu.a,{sx:{color:"#EC5858"}})),o.a.createElement(Wu.a,{textAlign:"center",sx:{textOverflow:"ellipsis",fontSize:"10px",whiteSpace:"nowrap",overflow:"hidden"}},t.elements.filter(t=>t.number===e)[0].value," ","segundos")),e.includes("img")&&o.a.createElement("div",{style:{gap:"5px",padding:"6px"}},o.a.createElement("div",{style:{display:"flex",position:"relative",flexDirection:"row",justifyContent:"center"}},o.a.createElement(Pu.a,{sx:{color:"#EC5858"}})),o.a.createElement(Wu.a,{textAlign:"center",sx:{textOverflow:"ellipsis",fontSize:"10px",whiteSpace:"nowrap",overflow:"hidden"}},t.elements.filter(t=>t.number===e)[0].original)),e.includes("audio")&&o.a.createElement("div",{style:{gap:"5px",padding:"6px"}},o.a.createElement("div",{style:{display:"flex",position:"relative",flexDirection:"row",justifyContent:"center"}},o.a.createElement(fu.a,{sx:{color:"#EC5858"}})),o.a.createElement(Wu.a,{textAlign:"center",sx:{textOverflow:"ellipsis",fontSize:"10px",whiteSpace:"nowrap",overflow:"hidden"}},t.elements.filter(t=>t.number===e)[0].original)),e.includes("video")&&o.a.createElement("div",{style:{gap:"5px",padding:"6px"}},o.a.createElement("div",{style:{display:"flex",position:"relative",flexDirection:"row",justifyContent:"center"}},o.a.createElement(Fu.a,{sx:{color:"#EC5858"}})),o.a.createElement(Wu.a,{textAlign:"center",sx:{textOverflow:"ellipsis",fontSize:"10px",whiteSpace:"nowrap",overflow:"hidden"}},t.elements.filter(t=>t.number===e)[0].original))))),o.a.createElement(Au.a,{type:"source",position:"right",id:"a",style:{background:"#0000FF",width:"18px",height:"18px",top:"90%",right:"-11px",cursor:"pointer"},isConnectable:a},o.a.createElement(xu.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),Qu=a(1589),Ku=Object(n.memo)(e=>{let{data:t,isConnectable:a,id:n}=e;const r=yu();return console.log(12,"ticketNode",t),o.a.createElement("div",{style:{backgroundColor:"#ffffff",padding:"8px",borderRadius:"8px",boxShadow:"rgba(0, 0, 0, 0.05) 0px 3px 5px",border:"1px solid rgba(33, 94, 151, 0.25)"}},o.a.createElement(Au.a,{type:"target",position:"left",style:{background:"#0872b9",width:"18px",height:"18px",top:"20px",left:"-12px",cursor:"pointer"},onConnect:e=>console.log("handle onConnect",e),isConnectable:a},o.a.createElement(xu.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})),o.a.createElement("div",{style:{display:"flex",position:"absolute",right:5,top:5,cursor:"pointer",gap:6}},o.a.createElement(bu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct("duplicate")},sx:{width:"12px",height:"12px",color:"#F7953B"}}),o.a.createElement(Eu.a,{onClick:()=>{r.setNodesStorage(n),r.setAct("delete")},sx:{width:"12px",height:"12px",color:"#F7953B"}})),o.a.createElement("div",{style:{color:"#ededed",fontSize:"16px",flexDirection:"row",display:"flex"}},o.a.createElement(Qu.a,{sx:{width:"16px",height:"16px",marginRight:"4px",marginTop:"4px",color:"#3aba38"}}),o.a.createElement("div",{style:{color:"#232323",fontSize:"16px"}},"Ticket")),o.a.createElement("div",{style:{color:"#232323",fontSize:"12px",width:180}},o.a.createElement("div",{style:{backgroundColor:"#F6EEEE",marginBottom:"3px",borderRadius:"5px"}},o.a.createElement("div",{style:{gap:"5px",padding:"6px"}},o.a.createElement("div",{style:{textAlign:"center"}},"data"===Object.keys(t)[0]?t.data.name:t.name)))),o.a.createElement(Au.a,{type:"source",position:"right",id:"a",style:{background:"#0872b9",width:"18px",height:"18px",top:"70%",right:"-11px",cursor:"pointer"},isConnectable:a},o.a.createElement(xu.a,{sx:{color:"#ffff",width:"10px",height:"10px",marginLeft:"2.9px",marginBottom:"1px",pointerEvents:"none"}})))}),Gu=a(1617),Yu=a(1618),Xu=a(1612),_u=(a(1348),a(8)),Zu=a(283),Ju=a(804),$u=a(805);const ep=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));en.b().shape({name:en.d().min(2,"Muito curto!").max(50,"Muito longo!").required("Digite um nome!"),text:en.d().min(2,"Muito curto!").max(50,"Muito longo!").required("Digite uma mensagem!")});var tp=e=>{let{open:t,onSave:a,onUpdate:r,data:l,close:i}=e;const s=ep(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)({title:"Adicionar mensagem ao fluxo",btn:"Adicionar"}),[g,b]=Object(n.useState)();Object(n.useEffect)(()=>{"edit"===t?(p({title:"Editar mensagem ao fluxo",btn:"Salvar"}),b(l.data.label),m(!0)):"create"===t?(p({title:"Adicionar mensagem ao fluxo",btn:"Adicionar"}),b(""),m(!0)):m(!1)},[t]),Object(n.useEffect)(()=>()=>{c.current=!1},[]);const E=()=>{i(null),m(!1)};return o.a.createElement("div",{className:s.root},o.a.createElement(ta.a,{open:d,onClose:E,fullWidth:"md",scroll:"paper"},o.a.createElement(pa.a,{id:"form-dialog-title"},u.title),o.a.createElement(So.a,null,o.a.createElement(ua.a,{dividers:!0},o.a.createElement(it.a,{label:"Mensagem",multiline:!0,rows:7,name:"text",variant:"outlined",value:g,margin:"dense",onChange:e=>b(e.target.value),className:s.textField,style:{width:"95%"}})),o.a.createElement(aa.a,null,o.a.createElement(st.a,{onClick:E,color:"secondary",variant:"outlined"},Le.a.t("contactModal.buttons.cancel")),o.a.createElement(st.a,{type:"submit",color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>(async()=>{if("edit"===t)return E(),void r({...l,data:{label:g}});"create"===t&&(E(),a({text:g}))})()},"".concat(u.btn))))))};const ap=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var np=e=>{let{open:t,onSave:a,data:r,onUpdate:l,close:i}=e;const s=ap(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(0),[u,p]=Object(n.useState)(!1);Object(n.useEffect)(()=>("edit"===t?(m(r.data.sec),p(!0)):"create"===t&&(m(0),p(!0)),()=>{c.current=!1}),[t]);const g=()=>{i(null),p(!1)};return o.a.createElement("div",{className:s.root},o.a.createElement(ta.a,{open:u,onClose:g,fullWidth:"md",scroll:"paper"},o.a.createElement(pa.a,{id:"form-dialog-title"},"create"===t?"Adicionar um intervalo ao fluxo":"Editar intervalo"),o.a.createElement(So.a,null,o.a.createElement(ua.a,{dividers:!0},o.a.createElement(it.a,{label:"Tempo em segundos",name:"timer",type:"number",value:d,onChange:e=>m(e.target.value),autoFocus:!0,variant:"outlined",InputProps:{inputProps:{min:0}},margin:"dense",className:s.textField,style:{width:"95%"}})),o.a.createElement(aa.a,null,o.a.createElement(st.a,{onClick:g,color:"secondary",variant:"outlined"},Le.a.t("contactModal.buttons.cancel")),o.a.createElement(st.a,{type:"submit",color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>(async e=>!d||parseInt(d)<=0?C.b.error("Adicione o valor de intervalo"):parseInt(d)>120?C.b.error("M\xe1ximo de tempo atingido 120 segundos"):("edit"===t?l({...r,data:{sec:d}}):"create"===t&&a({sec:d}),void g()))()},"create"===t?"Adicionar":"Editar")))))};a(1630),a(1609),a(1601);Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),en.b().shape({name:en.d().min(2,"Muito curto!").max(50,"Muito longo!").required("Digite um nome!"),text:en.d().min(2,"Muito curto!").max(50,"Muito longo!").required("Digite uma mensagem!")});const op=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));en.b().shape({name:en.d().min(2,"Muito curto!").max(50,"Muito longo!").required("Digite um nome!"),text:en.d().min(2,"Muito curto!").max(50,"Muito longo!").required("Digite uma mensagem!")});var rp=e=>{let{open:t,onSave:a,onUpdate:r,data:l,close:i}=e;const s=op(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(),[g,b]=Object(n.useState)(),[E,f]=Object(n.useState)([]),[A,h]=Object(n.useState)({title:"Adicionar menu ao fluxo",btn:"Adicionar"});Object(n.useEffect)(()=>{"edit"===t?(h({title:"Editar menu",btn:"Salvar"}),b(l.data.message),f(l.data.arrayOption),m(!0)):"create"===t?(h({title:"Adicionar menu ao fluxo",btn:"Adicionar"}),b(),f([]),m(!0)):m(!1)},[t]),Object(n.useEffect)(()=>()=>{c.current=!1},[]);const y=()=>{i(null),m(!1)};return o.a.createElement("div",{className:s.root},o.a.createElement(ta.a,{open:d,onClose:y,fullWidth:"md",scroll:"paper"},o.a.createElement(pa.a,{id:"form-dialog-title"},A.title),o.a.createElement(So.a,null,o.a.createElement(So.a,{dividers:!0,style:{gap:"8px",padding:"16px"}},o.a.createElement(it.a,{label:"Mensagem de explica\xe7\xe3o do menu",rows:4,name:"text",multiline:!0,variant:"outlined",value:g,onChange:e=>b(e.target.value),className:s.textField,style:{width:"100%"}}),o.a.createElement(So.a,{direction:"row",justifyContent:"space-between"},o.a.createElement(D.a,null,"Adicionar Op\xe7\xe3o"),o.a.createElement(st.a,{onClick:()=>f(e=>[...e,{number:e.length+1,value:""}]),color:"primary",variant:"contained"},o.a.createElement(Qm.a,null))),E.map((e,t)=>o.a.createElement(So.a,{width:"100%",key:e.number},o.a.createElement(D.a,null,"Digite ",e.number),o.a.createElement(So.a,{direction:"row",width:"100%",style:{gap:"8px"}},o.a.createElement(it.a,{placeholder:"Digite op\xe7\xe3o",variant:"outlined",defaultValue:e.value,style:{width:"100%"},onChange:e=>f(a=>{let n=a;return n[t].value=e.target.value,n})}),E.length===e.number&&o.a.createElement(I.a,{onClick:()=>{return t=e.number,void f(e=>e.filter(e=>e.number!==t));var t}},o.a.createElement(Eu.a,null)))))),o.a.createElement(aa.a,null,o.a.createElement(st.a,{onClick:y,color:"secondary",variant:"outlined"},Le.a.t("contactModal.buttons.cancel")),o.a.createElement(st.a,{type:"submit",color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>(async()=>{if("edit"===t)return y(),void r({...l,data:{message:g,arrayOption:E}});"create"===t&&(y(),a({message:g,arrayOption:E}))})()},"".concat(A.btn))))))},lp=a(232),ip=a.n(lp);const sp=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var cp=e=>{let{open:t,onSave:a,onUpdate:r,data:l,close:i}=e;const s=sp(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(!1),[g,b]=Object(n.useState)(),[E,f]=Object(n.useState)(),[A,h]=Object(n.useState)({title:"Adicionar imagem ao fluxo",btn:"Adicionar"}),[y,v]=Object(n.useState)([]);Object(n.useEffect)(()=>{"edit"===t?(h({title:"Editar imagem",btn:"Salvar"}),f(l.data.url),b("https://api.zettabot.com.br/public/"+l.data.url),m(!0)):"create"===t?(h({title:"Adicionar imagem ao fluxo",btn:"Adicionar"}),m(!0)):m(!1)},[t]),Object(n.useEffect)(()=>()=>{c.current=!1},[]);const x=()=>{i(null),m(!1)};return o.a.createElement("div",{className:s.root},o.a.createElement(ta.a,{open:d,onClose:x,fullWidth:"md",scroll:"paper"},o.a.createElement(pa.a,{id:"form-dialog-title"},A.title),o.a.createElement(So.a,null,o.a.createElement(ua.a,{dividers:!0},o.a.createElement(So.a,{gap:"16px"},g&&o.a.createElement("img",{src:g,style:{width:"552px"}}),!u&&"edit"!==t&&o.a.createElement(st.a,{variant:"contained",component:"label"},"Enviar imagem",o.a.createElement("input",{type:"file",accept:"image/png, image/jpg, image/jpeg",disabled:u,hidden:!0,onChange:e=>{if(!e.target.files)return;if(e.target.files[0].size>2e6)return void C.b.error("Arquivo \xe9 muito grande! 2MB m\xe1ximo");const t=Array.from(e.target.files);b(URL.createObjectURL(e.target.files[0])),v(t)}})),u&&o.a.createElement(o.a.Fragment,null,o.a.createElement(So.a,{justifyContent:"center",alignSelf:"center"},o.a.createElement(Wt.a,null))))),o.a.createElement(aa.a,null,!u&&o.a.createElement(o.a.Fragment,null,o.a.createElement(st.a,{onClick:()=>{x(),v([]),b()},color:"secondary",variant:"outlined"},Le.a.t("contactModal.buttons.cancel")),"edit"!==t&&o.a.createElement(st.a,{type:"submit",disabled:u,color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>(async()=>{if("edit"===t)return x(),void r({...l,data:{url:""}});if("create"===t){p(!0);const e=new FormData;e.append("fromMe",!0),y.forEach(async(t,a)=>{const n=t;n&&("image"==(null===t||void 0===t?void 0:t.type.split("/")[0])?new ip.a(n,{quality:.7,async success(t){e.append("medias",t),e.append("body",t.name)},error(e){alert("erro"),console.log(e.message)}}):(e.append("medias",t),e.append("body",t.name)))}),setTimeout(async()=>{console.log(e),await Ge.post("/flowbuilder/img",e).then(e=>{x(),a({url:e.data.name}),C.b.success("Imagem adicionada com sucesso!"),p(!1),v([]),b()})},1e3)}})()},"".concat(A.btn)))))))};const dp=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var mp=e=>{let{open:t,onSave:a,data:r,onUpdate:l,close:i}=e;const s=dp(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)([]),[g,b]=Object(n.useState)();Object(n.useEffect)(()=>("edit"===t?(async()=>{try{const{data:e}=await Ge.get("/queue");p(e);const t=e.find(e=>e.id===r.data.id);console.log("queue",t),t&&b(t.id),m(!0)}catch(e){console.log(e)}})():"create"===t&&(async()=>{try{const{data:e}=await Ge.get("/queue");p(e),m(!0)}catch(e){console.log(e)}})(),()=>{c.current=!1}),[t]);const E=()=>{i(null),m(!1)};return o.a.createElement("div",{className:s.root},o.a.createElement(ta.a,{open:d,onClose:E,fullWidth:"md",scroll:"paper"},o.a.createElement(pa.a,{id:"form-dialog-title"},"create"===t?"Adicionar um intervalo ao fluxo":"Editar intervalo"),o.a.createElement(So.a,null,o.a.createElement(ua.a,{dividers:!0},o.a.createElement(an.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:g,style:{width:"95%"},onChange:e=>{b(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:()=>{if(""===g)return"Selecione uma Conex\xe3o";return u.find(e=>e.id===g).name}},u.length>0&&u.map((e,t)=>o.a.createElement(F.a,{dense:!0,key:t,value:e.id},e.name)))),o.a.createElement(aa.a,null,o.a.createElement(st.a,{onClick:E,color:"secondary",variant:"outlined"},Le.a.t("contactModal.buttons.cancel")),o.a.createElement(st.a,{type:"submit",color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>{if(!g)return C.b.error("Adicione uma fila");if("edit"===t){const e=u.find(e=>e.id===g);l({...r,data:e})}else if("create"===t){const e=u.find(e=>e.id===g);a({data:e})}E()}},"create"===t?"Adicionar":"Editar")))))};const up=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var pp=e=>{let{open:t,onSave:a,onUpdate:r,data:l,close:i}=e;const s=up(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(!1),[g,b]=Object(n.useState)(!1),[E,f]=Object(n.useState)(),[A,h]=Object(n.useState)({title:"Adicionar audio ao fluxo",btn:"Adicionar"}),[y,v]=Object(n.useState)(),[x,w]=Object(n.useState)([]);Object(n.useEffect)(()=>{"edit"===t?(h({title:"Editar audio",btn:"Salvar"}),f("https://api.zettabot.com.br/public/"+l.data.url),b(l.data.record),m(!0)):"create"===t?(h({title:"Adicionar audio ao fluxo",btn:"Adicionar"}),v(""),m(!0)):m(!1)},[t]),Object(n.useEffect)(()=>()=>{c.current=!1},[]);const S=()=>{i(null),m(!1)};return o.a.createElement("div",{className:s.root},o.a.createElement(ta.a,{open:d,onClose:S,fullWidth:"md",scroll:"paper"},o.a.createElement(pa.a,{id:"form-dialog-title"},A.title),o.a.createElement(So.a,null,o.a.createElement(ua.a,{dividers:!0},o.a.createElement(So.a,{gap:"16px"},E&&o.a.createElement(So.a,{direction:"row",justifyContent:"center"},o.a.createElement("audio",{controls:"controls"},o.a.createElement("source",{src:E,type:"audio/mp3"}),"seu navegador n\xe3o suporta HTML5")),E&&o.a.createElement(So.a,{direction:"row",justifyContent:"center"},o.a.createElement(Zm.a,{checked:g,onChange:e=>b(e=>!e)}),o.a.createElement(So.a,{justifyContent:"center"},o.a.createElement(D.a,null,"Enviar como audio gravado na hora"))),!u&&"edit"!==t&&o.a.createElement(st.a,{variant:"contained",component:"label"},"Enviar audio",o.a.createElement("input",{type:"file",accept:"audio/ogg, audio/mp3",disabled:u,hidden:!0,onChange:e=>{if(!e.target.files)return;if(e.target.files[0].size>5e6)return void C.b.error("Arquivo \xe9 muito grande! 5MB m\xe1ximo");const t=Array.from(e.target.files);f(URL.createObjectURL(e.target.files[0])),w(t)}})),u&&o.a.createElement(o.a.Fragment,null,o.a.createElement(So.a,{justifyContent:"center",alignSelf:"center"},o.a.createElement(Wt.a,null))))),o.a.createElement(aa.a,null,!u&&o.a.createElement(o.a.Fragment,null,o.a.createElement(st.a,{onClick:()=>{S(),w([]),f()},color:"secondary",variant:"outlined"},Le.a.t("contactModal.buttons.cancel")),o.a.createElement(st.a,{type:"submit",disabled:u,color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>(async()=>{if("edit"===t)return S(),void r({...l,data:{url:l.data.url,record:g}});if("create"===t){p(!0);const e=new FormData;e.append("fromMe",!0),x.forEach(async(t,a)=>{const n=t;n&&("image"==(null===t||void 0===t?void 0:t.type.split("/")[0])?new ip.a(n,{quality:.7,async success(t){e.append("medias",t),e.append("body",t.name)},error(e){alert("erro"),console.log(e.message)}}):(e.append("medias",t),e.append("body",t.name)))}),setTimeout(async()=>{console.log(e),await Ge.post("/flowbuilder/audio",e).then(e=>{S(),a({url:e.data.name,record:g}),C.b.success("Audio adicionada com sucesso!"),p(!1),w([]),f()})},1e3)}})()},"".concat(A.btn)))))))},gp=a(1597);const bp=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var Ep=e=>{let{open:t,onSave:a,data:r,onUpdate:l,close:i}=e;const s=bp(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(0),[u,p]=Object(n.useState)(!1);Object(n.useEffect)(()=>("edit"===t?(m(r.data.percent),p(!0)):"create"===t&&(m(0),p(!0)),()=>{c.current=!1}),[t]);const g=()=>{i(null),p(!1)};return o.a.createElement("div",{className:s.root},o.a.createElement(ta.a,{open:u,onClose:g,fullWidth:"md",scroll:"paper"},o.a.createElement(pa.a,{id:"form-dialog-title"},"create"===t?"Adicionar um randomizador ao fluxo":"Editar randomizador"),o.a.createElement(So.a,null,o.a.createElement(ua.a,{dividers:!0},o.a.createElement(So.a,{direction:"row",minHeight:120,alignItems:"center",gap:4},o.a.createElement(D.a,null,d,"%"),o.a.createElement(gp.a,{"aria-label":"Temperature",defaultValue:d,valueLabelDisplay:"auto",onChange:(e,t)=>{m(t)},step:10,marks:!0,min:0,max:100}),o.a.createElement(D.a,null,100-d,"%"))),o.a.createElement(aa.a,null,o.a.createElement(st.a,{onClick:g,color:"secondary",variant:"outlined"},Le.a.t("contactModal.buttons.cancel")),o.a.createElement(st.a,{type:"submit",color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>(async e=>!d||parseInt(d)<=0?C.b.error("Adicione o valor de intervalo"):parseInt(d)>120?C.b.error("M\xe1ximo de tempo atingido 120 segundos"):("edit"===t?l({...r,data:{percent:d}}):"create"===t&&a({percent:d}),void g()))()},"create"===t?"Adicionar":"Editar")))))};const fp=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var Ap=e=>{let{open:t,onSave:a,onUpdate:r,data:l,close:i}=e;const s=fp(),c=Object(n.useRef)(!0),[d,m]=Object(n.useState)(!1),[u,p]=Object(n.useState)(!1),[g,b]=Object(n.useState)(!1),[E,f]=Object(n.useState)(),[A,h]=Object(n.useState)({title:"Adicionar video ao fluxo",btn:"Adicionar"}),[y,v]=Object(n.useState)([]);Object(n.useEffect)(()=>{"edit"===t?(h({title:"Editar video",btn:"Salvar"}),f("https://api.zettabot.com.br/public/"+l.data.url),b(l.data.record),m(!0)):"create"===t?(h({title:"Adicionar video ao fluxo",btn:"Adicionar"}),m(!0)):m(!1)},[t]),Object(n.useEffect)(()=>()=>{c.current=!1},[]);const x=()=>{i(null),m(!1)};return o.a.createElement("div",{className:s.root},o.a.createElement(ta.a,{open:d,onClose:x,fullWidth:"md",scroll:"paper"},o.a.createElement(pa.a,{id:"form-dialog-title"},A.title),o.a.createElement(So.a,null,o.a.createElement(ua.a,{dividers:!0},o.a.createElement(So.a,{gap:"16px"},E&&o.a.createElement(So.a,{direction:"row",justifyContent:"center"},o.a.createElement("video",{controls:"controls",width:"552px"},o.a.createElement("source",{src:E,type:"video/mp4"}),"seu navegador n\xe3o suporta HTML5")),!u&&"edit"!==t&&!E&&o.a.createElement(o.a.Fragment,null,o.a.createElement(st.a,{variant:"contained",component:"label"},"Enviar video",o.a.createElement("input",{type:"file",accept:"video/mp4",disabled:u,hidden:!0,onChange:e=>{if(!e.target.files)return;if(e.target.files[0].size>2e7)return void C.b.error("Arquivo \xe9 muito grande! 20MB m\xe1ximo");const t=Array.from(e.target.files);f(URL.createObjectURL(e.target.files[0])),v(t)}})),o.a.createElement(D.a,null,"ATEN\xc7\xc3O! Apenas videos em MP4!")),u&&o.a.createElement(o.a.Fragment,null,o.a.createElement(So.a,{justifyContent:"center",alignSelf:"center"},o.a.createElement(Wt.a,null))))),o.a.createElement(aa.a,null,!u&&o.a.createElement(o.a.Fragment,null,o.a.createElement(st.a,{onClick:()=>{x(),v([]),f()},color:"secondary",variant:"outlined"},Le.a.t("contactModal.buttons.cancel")),o.a.createElement(st.a,{type:"submit",disabled:u,color:"primary",variant:"contained",className:s.btnWrapper,onClick:()=>(async()=>{if("edit"===t)return x(),void r({...l,data:{url:l.data.url,record:g}});if("create"===t){p(!0);const e=new FormData;e.append("fromMe",!0),y.forEach(async(t,a)=>{const n=t;n&&("image"==(null===t||void 0===t?void 0:t.type.split("/")[0])?new ip.a(n,{quality:.7,async success(t){e.append("medias",t),e.append("body",t.name)},error(e){alert("erro"),console.log(e.message)}}):(e.append("medias",t),e.append("body",t.name)))}),setTimeout(async()=>{await Ge.post("/flowbuilder/audio",e).then(e=>{x(),a({url:e.data.name}),C.b.success("Audio adicionada com sucesso!"),p(!1),v([]),f()})},1e3)}})()},"".concat(A.btn)))))))};function hp(e){return 0===e.length?e:e.charAt(0).toUpperCase()+e.slice(1)}const yp=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var vp=e=>{let{open:t,onSave:a,onUpdate:r,data:l,close:i}=e;yp();const s=Object(n.useRef)(!0),[c,d]=Object(n.useState)(!1),[m,u]=Object(n.useState)(),[p,g]=Object(n.useState)([]),[b,E]=Object(n.useState)(),[f,A]=Object(n.useState)([]),[h,y]=Object(n.useState)([]),[v,x]=Object(n.useState)([]),[w,S]=Object(n.useState)([]),[O,k]=Object(n.useState)(0),[T,j]=Object(n.useState)(0),[I,M]=Object(n.useState)(0),[P,R]=Object(n.useState)(0),[D,q]=Object(n.useState)(0),[F,L]=Object(n.useState)(0),[W,B]=Object(n.useState)(0),[z,H]=Object(n.useState)(0),[U,V]=Object(n.useState)(0),[Q,K]=Object(n.useState)(0),[G,Y]=Object(n.useState)(!1),[X,_]=Object(n.useState)([]),[Z,J]=Object(n.useState)([]),[$,ee]=Object(n.useState)([]),[te,ae]=Object(n.useState)([]),[ne,oe]=Object(n.useState)([]),[re,le]=Object(n.useState)({title:"Adicionar conte\xfado ao fluxo",btn:"Adicionar"}),ie=e=>{let t=[];const a=h.filter(e=>e.includes("message")),n=h.filter(e=>e.includes("interval")),o=h.filter(e=>e.includes("img")),r=h.filter(e=>e.includes("audio")),l=h.filter(e=>e.includes("video"));for(let i=0;i<O;i++){const e=document.querySelector(".".concat(a[i])).querySelector(".MuiInputBase-input").value;if(!e)throw C.b.error("Campos de mensagem vazio!"),Y(!1),"";t.push({type:"message",value:e,number:a[i]}),console.log("text")}for(let i=0;i<I;i++){const e=document.querySelector(".".concat(n[i])).querySelector(".MuiInputBase-input").value;if(0===parseInt(e)||parseInt(e)>120)throw C.b.error("Intervalo n\xe3o pode ser 0 ou maior que 120!"),Y(!1),"";t.push({type:"interval",value:e,number:n[i]}),console.log("int")}for(let i=0;i<U;i++){const a=null!==e&&e.filter(e=>e.includes("png")||e.includes("jpg")||e.includes("jpeg")),n=p.filter(e=>e.name.includes("png")||e.name.includes("jpg")||e.name.includes("jpeg"));if(v.includes(o[i])){const e=w.filter(e=>e.number===o[i])[0];t.push({type:"img",value:e.value,original:e.original,number:e.number})}else{let e=0;e=v.filter(e=>e.includes("img")).length>0?v.filter(e=>e.includes("img")).length-i:i,t.push({type:"img",value:a[e],original:n[e].name,number:o[i]})}}for(let i=0;i<D;i++){const a=null!==e&&e.filter(e=>e.includes("mp3")||e.includes("ogg")||e.includes("mpeg")||e.includes("opus")),n=p.filter(e=>e.name.includes("mp3")||e.name.includes("ogg")||e.name.includes("mpeg")||e.name.includes("opus"));if(v.includes(r[i])){const e=w.filter(e=>e.number===r[i])[0];t.push({type:"audio",value:e.value,original:e.original,number:e.number,record:document.querySelector(".check".concat(r[i])).querySelector(".PrivateSwitchBase-input").checked})}else{let e=0;e=v.filter(e=>e.includes("audio")).length>0?v.filter(e=>e.includes("audio")).length-i:i,t.push({type:"audio",value:a[e],original:n[e].name,number:r[i],record:document.querySelector(".check".concat(r[i])).querySelector(".PrivateSwitchBase-input").checked})}}for(let i=0;i<W;i++){const a=null!==e&&e.filter(e=>e.includes("mp4")||e.includes("avi")),n=p.filter(e=>e.name.includes("mp4")||e.name.includes("avi"));if(v.includes(l[i])){const e=w.filter(e=>e.number===l[i])[0];t.push({type:"video",value:e.value,original:e.original,number:e.number})}else{let e=0;e=v.filter(e=>e.includes("video")).length>0?v.filter(e=>e.includes("video")).length-i:i,t.push({type:"video",value:a[e],original:n[e].name,number:l[i]})}}return console.log(t),t},se=(e,t)=>{"message"===t&&(k(e=>e-1),y(t=>t.filter(t=>t!=="message".concat(e))),x(t=>t.filter(t=>t!=="message".concat(e))),document.querySelector(".stackMessage".concat(e)).remove()),"interval"===t&&(M(e=>e-1),y(t=>t.filter(t=>t!=="interval".concat(e))),x(t=>t.filter(t=>t!=="interval".concat(e))),document.querySelector(".stackInterval".concat(e)).remove()),"img"===t&&(V(e=>e-1),_(t=>(g(a=>{try{return a.filter(a=>a.name!==t.filter(t=>t.number===e)[0].name)}catch(n){return a}}),t.filter(t=>t.number!==e))),y(t=>t.filter(t=>t!=="img".concat(e))),x(t=>t.filter(t=>t!=="img".concat(e))),document.querySelector(".stackImg".concat(e)).remove()),"audio"===t&&(q(e=>e-1),J(t=>(g(a=>{try{return a.filter(a=>a.name!==t.filter(t=>t.number===e)[0].name)}catch(n){return a}}),t.filter(t=>t.number!==e))),y(t=>t.filter(t=>t!=="audio".concat(e))),x(t=>t.filter(t=>t!=="audio".concat(e))),document.querySelector(".stackAudio".concat(e)).remove()),"video"===t&&(B(e=>e-1),ee(t=>(g(a=>{try{return a.filter(a=>a.name!==t.filter(t=>t.number===e)[0].name)}catch(n){return a}}),t.filter(t=>t.number!==e))),y(t=>t.filter(t=>t!=="video".concat(e))),x(t=>t.filter(t=>t!=="video".concat(e))),document.querySelector(".stackVideo".concat(e)).remove())};const ce=(e,t)=>{if(!e.target.files)return;if(e.target.files[0].size>2e6)return void C.b.error("Arquivo \xe9 muito grande! 2MB m\xe1ximo");const a=URL.createObjectURL(e.target.files[0]);_(n=>[...n,{number:t,url:a,name:e.target.files[0].name}]);const n=Array.from(e.target.files);g(e=>[...e,n[0]]),document.querySelector(".img".concat(t)).src=a,document.querySelector(".btnImg".concat(t)).remove()},de=(e,t)=>{if(!e.target.files)return;if(e.target.files[0].size>5e6)return void C.b.error("Arquivo \xe9 muito grande! 5MB m\xe1ximo");const a=URL.createObjectURL(e.target.files[0]);J(n=>[...n,{number:t,url:a,name:e.target.files[0].name}]);const n=Array.from(e.target.files);g(e=>[...e,n[0]]),document.querySelector(".audio".concat(t)).innerHTML='<audio controls="controls">\n    <source src="'.concat(a,'" type="audio/mp3" />\n    seu navegador n\xe3o suporta HTML5\n  </audio>'),document.querySelector(".btnAudio".concat(t)).remove()},me=(e,t)=>{if(!e.target.files)return;if(e.target.files[0].size>2e7)return void C.b.error("Arquivo \xe9 muito grande! 20MB m\xe1ximo");const a=URL.createObjectURL(e.target.files[0]);ee(n=>[...n,{number:t,url:a,name:e.target.files[0].name}]);var n=document.createElement("div");const o=Array.from(e.target.files);g(e=>[...e,o[0]]),n.innerHTML='<video controls="controls" style="width: 200px;">\n    <source src="'.concat(a,'" type="video/mp4" />\n    seu navegador n\xe3o suporta HTML5\n  </video>'),document.querySelector(".video".concat(t)).appendChild(n),document.querySelector(".btnVideo".concat(t)).remove()},ue=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o.a.createElement(So.a,{sx:{border:"1px solid #0000FF",borderRadius:"7px",padding:"6px",position:"relative"},className:"stackImg".concat(e),key:"stackImg".concat(e)},o.a.createElement(So.a,{sx:{position:"absolute",right:6}},o.a.createElement(Eu.a,{onClick:()=>se(e,"img")})),o.a.createElement(Wu.a,{textAlign:"center"},"Imagem"),o.a.createElement(So.a,{direction:"row",justifyContent:"center"},o.a.createElement("img",{src:t.length>0?"https://api.zettabot.com.br/public/"+t:"",className:"img".concat(e),style:{width:"200px"}})),0===t.length&&o.a.createElement(st.a,{variant:"contained",component:"label",className:"btnImg".concat(e)},"Enviar imagem",o.a.createElement("input",{type:"file",accept:"image/png, image/jpg, image/jpeg",hidden:!0,onChange:t=>ce(t,e)})))},pe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return o.a.createElement(So.a,{sx:{border:"1px solid #0000FF",borderRadius:"7px",padding:"6px",position:"relative"},className:"stackAudio".concat(e),key:"stackAudio".concat(e)},o.a.createElement(So.a,{sx:{position:"absolute",right:6},direction:"row",gap:1},o.a.createElement(Eu.a,{sx:{cursor:"pointer"},onClick:()=>se(e,"audio")})),o.a.createElement(Wu.a,{textAlign:"center"},"Audio"),o.a.createElement("div",{className:"audio".concat(e),style:{display:"flex",flexDirection:"row",justifyContent:"center"}},t.length>0&&o.a.createElement("audio",{controls:"controls"},o.a.createElement("source",{src:"https://api.zettabot.com.br/public/"+t,type:"audio/mp3"}),"seu navegador n\xe3o suporta HTML5")),0===t.length&&o.a.createElement(st.a,{variant:"contained",component:"label",className:"btnAudio".concat(e)},"Enviar audio",o.a.createElement("input",{type:"file",accept:"audio/ogg, audio/mp3, audio/opus",hidden:!0,onChange:t=>de(t,e)})),o.a.createElement(So.a,{direction:"row",justifyContent:"center"},o.a.createElement(Zm.a,{className:"checkaudio".concat(e),defaultChecked:"ok"!==a}),o.a.createElement(So.a,{justifyContent:"center"},o.a.createElement(Wu.a,null,"Enviar como audio gravado na hora"))))},ge=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o.a.createElement(So.a,{sx:{border:"1px solid #0000FF",borderRadius:"7px",padding:"6px",position:"relative"},className:"stackVideo".concat(e),key:"stackVideo".concat(e)},o.a.createElement(So.a,{sx:{position:"absolute",right:6}},o.a.createElement(Eu.a,{onClick:()=>se(e,"video")})),o.a.createElement(Wu.a,{textAlign:"center"},"Video"),o.a.createElement("div",{className:"video".concat(e),style:{display:"flex",flexDirection:"row",justifyContent:"center"}},t.length>0&&o.a.createElement("video",{controls:"controls",style:{width:"200px"}},o.a.createElement("source",{src:"https://api.zettabot.com.br/public/"+t,type:"video/mp4"}),"seu navegador n\xe3o suporta HTML5")),0===t.length&&o.a.createElement(st.a,{variant:"contained",component:"label",className:"btnVideo".concat(e)},"Enviar video",o.a.createElement("input",{type:"file",accept:"video/mp4",hidden:!0,onChange:t=>me(t,e)})))},be=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o.a.createElement(So.a,{sx:{border:"1px solid #0000FF",borderRadius:"7px",padding:"6px",position:"relative"},className:"stackMessage".concat(e),key:"stackMessage".concat(e)},o.a.createElement(So.a,{sx:{position:"absolute",right:6}},o.a.createElement(Eu.a,{onClick:()=>se(e,"message")})),o.a.createElement(Wu.a,{textAlign:"center"},"Texto"),o.a.createElement(it.a,{label:"Mensagem",defaultValue:t,multiline:!0,rows:7,className:"message".concat(e),name:"text",variant:"outlined",margin:"dense",style:{width:"100%"}}))},Ee=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.a.createElement(So.a,{sx:{border:"1px solid #0000FF",borderRadius:"7px",padding:"6px",position:"relative"},className:"stackInterval".concat(e),key:"stackInterval".concat(e)},o.a.createElement(So.a,{sx:{position:"absolute",right:6}},o.a.createElement(Eu.a,{onClick:()=>se(e,"interval")})),o.a.createElement(Wu.a,{textAlign:"center"},"Intervalo"),o.a.createElement(it.a,{label:"Tempo em segundos",className:"interval".concat(e),defaultValue:t,type:"number",InputProps:{inputProps:{min:0,max:120}},variant:"outlined",margin:"dense",style:{width:"100%"}}))};Object(n.useEffect)(()=>{const e=localStorage.getItem("variables");if(e&&oe(JSON.parse(e)),"edit"===t){if(le({title:"Editar conte\xfado",btn:"Salvar"}),y(l.data.seq),x(l.data.seq),S(l.data.elements),l){const e=l.data.elements,t=l.data.seq;t.map(a=>{const n=e.filter(e=>e.number===a)[0];if("message"===n.type){const e=parseInt(a.replace("message",""));A(t=>[...t,be(e,n.value)]),k(e=>{const a=t.filter(e=>e.includes("message")).map(e=>parseInt(e.replace("message","")));return j(Math.max.apply(null,a)+1),e+1})}if("interval"===n.type){const e=parseInt(a.replace("interval",""));A(t=>[...t,Ee(e,n.value)]),M(e=>{const a=t.filter(e=>e.includes("interval")).map(e=>parseInt(e.replace("interval","")));return R(Math.max.apply(null,a)+1),e+1})}if("audio"===n.type){const e=parseInt(a.replace("audio",""));A(t=>[...t,pe(e,n.value,n.record?"":"ok")]),q(e=>{const a=t.filter(e=>e.includes("audio")).map(e=>parseInt(e.replace("audio","")));return L(Math.max.apply(null,a)+1),e+1})}if("img"===n.type){const e=parseInt(a.replace("img",""));A(t=>[...t,ue(e,n.value)]),V(e=>{const a=t.filter(e=>e.includes("img")).map(e=>parseInt(e.replace("img","")));return K(Math.max.apply(null,a)+1),e+1})}if("video"===n.type){const e=parseInt(a.replace("video",""));A(t=>[...t,ge(e,n.value)]),B(e=>{const a=t.filter(e=>e.includes("video")).map(e=>parseInt(e.replace("video","")));return H(Math.max.apply(null,a)+1),e+1})}})}d(!0)}"create"===t&&(le({title:"Adicionar menu ao fluxo",btn:"Adicionar"}),E(),ae([]),d(!0))},[t]),Object(n.useEffect)(()=>()=>{s.current=!1},[]);const fe=async()=>{i(null),d(!1),setTimeout(()=>{g([]),_([]),J([]),ee([]),ae([]),A([]),y([]),S([]),x([]),k(0),j(0),M(0),R(0),q(0),L(0),B(0),H(0),V(0),K(0)},500)},Ae=()=>{const e=h.filter(e=>e.includes("img")),t=h.filter(e=>e.includes("audio")),a=h.filter(e=>e.includes("video"));for(let n=0;n<U;n++){if(document.querySelector(".btn".concat(hp(e[n]))))return!0}for(let n=0;n<D;n++){if(document.querySelector(".btn".concat(hp(t[n]))))return!0}for(let n=0;n<W;n++){if(document.querySelector(".btn".concat(hp(a[n]))))return!0}},he=e=>{const t=document.querySelector(e);t.scrollTop=t.scrollHeight};return o.a.createElement("div",null,o.a.createElement(ta.a,{open:c,fullWidth:"md",scroll:"paper"},!G&&o.a.createElement(pa.a,{id:"form-dialog-title"},"Adicionar conte\xfado ao fluxo"),o.a.createElement(So.a,null,o.a.createElement(So.a,{className:"body-card",style:{gap:"8px",padding:"16px",overflow:"auto",height:"70vh",scrollBehavior:"smooth",display:G&&"none"}},f.map(e=>o.a.createElement(o.a.Fragment,null,e)),o.a.createElement(So.a,{direction:"row",gap:1},o.a.createElement(st.a,{variant:"contained",color:"primary",onClick:()=>{A(e=>[...e,be(T)]),k(e=>(y(e=>[...e,"message".concat(T)]),e+1)),j(e=>e+1),setTimeout(()=>{he(".body-card")},100)}},o.a.createElement(Su.a,{sx:{width:"16px",height:"16px",marginRight:"4px"}}),"Texto"),o.a.createElement(st.a,{variant:"contained",color:"primary",onClick:()=>{A(e=>[...e,Ee(P)]),M(e=>(y(e=>[...e,"interval".concat(P)]),e+1)),R(e=>e+1),setTimeout(()=>{he(".body-card")},100)}},o.a.createElement(Nu.a,{sx:{width:"16px",height:"16px",marginRight:"4px"}}),"Intervalo"),o.a.createElement(st.a,{variant:"contained",color:"primary",onClick:()=>{A(e=>[...e,ue(Q)]),V(e=>(y(e=>[...e,"img".concat(Q)]),e+1)),K(e=>e+1),setTimeout(()=>{he(".body-card")},100)}},o.a.createElement(Pu.a,{sx:{width:"16px",height:"16px",marginRight:"4px"}}),"Imagem"),o.a.createElement(st.a,{variant:"contained",color:"primary",onClick:()=>{A(e=>[...e,pe(F)]),q(e=>(y(e=>[...e,"audio".concat(F)]),e+1)),L(e=>e+1),setTimeout(()=>{he(".body-card")},100)}},o.a.createElement(fu.a,{sx:{width:"16px",height:"16px",marginRight:"4px"}}),"Audio"),o.a.createElement(st.a,{variant:"contained",color:"primary",onClick:()=>{A(e=>[...e,ge(z)]),B(e=>(y(e=>[...e,"video".concat(z)]),e+1)),H(e=>e+1),setTimeout(()=>{he(".body-card")},100)}},o.a.createElement(Fu.a,{sx:{width:"16px",height:"16px",marginRight:"4px"}}),"Video")),o.a.createElement(N.a,null),o.a.createElement(Lt.a,{style:{width:"100%",textAlign:"center"}},o.a.createElement(Wu.a,null,"Vari\xe1veis"),ne&&o.a.createElement(o.a.Fragment,null,ne.map(e=>o.a.createElement(o.a.Fragment,null,o.a.createElement(Wu.a,null,(e=>"{{"+e+"}}")(e))))))),o.a.createElement(aa.a,null,o.a.createElement(st.a,{onClick:fe,color:"secondary",variant:"outlined",style:{display:G&&"none"}},Le.a.t("contactModal.buttons.cancel")),o.a.createElement(st.a,{type:"submit",color:"primary",variant:"contained",onClick:()=>(async()=>{if("edit"===t){Y(!0);const e=new FormData;p.forEach(async(t,a)=>{const n=t;n&&("image"==(null===t||void 0===t?void 0:t.type.split("/")[0])?new ip.a(n,{quality:.7,async success(t){e.append("medias",t),e.append("body",t.name)},error(e){alert("erro"),console.log(e.message)}}):(e.append("medias",t),e.append("body",t.name)))}),setTimeout(async()=>{if(0===D&&0===W&&0===U||0===p.length){try{const e={seq:h,elements:ie(null)};return console.log("QUI",e),r({...l,data:e}),C.b.success("Conte\xfado adicionada com sucesso!"),fe(),void Y(!1)}catch(t){console.log(t),Y(!1)}return}if(Ae())return Y(!1),C.b.error("Delete os cards vazios(Imagem, Audio e Video)");await Ge.post("/flowbuilder/content",e).then(async e=>{const t={seq:h,elements:ie(e.data)};r({...l,data:t}),C.b.success("Conte\xfado adicionada com sucesso!"),await fe(),Y(!1)}).catch(e=>{console.log(e)})},1500)}else if("create"===t){Y(!0);const e=new FormData;p.forEach(async(t,a)=>{const n=t;n&&("image"==(null===t||void 0===t?void 0:t.type.split("/")[0])?new ip.a(n,{quality:.7,async success(t){e.append("medias",t),e.append("body",t.name)},error(e){alert("erro"),console.log(e.message)}}):(e.append("medias",t),e.append("body",t.name)))}),setTimeout(async()=>{if(0===D&&0===W&&0===U)try{const e={seq:h,elements:ie(null)};return a({...e}),C.b.success("Conte\xfado adicionada com sucesso!"),fe(),void Y(!1)}catch(t){Y(!1)}if(Ae())return Y(!1),C.b.error("Delete os cards vazios(Imagem, Audio e Video)");await Ge.post("/flowbuilder/content",e).then(e=>{const t={seq:h,elements:ie(e.data)};a({...t}),C.b.success("Conte\xfado adicionada com sucesso!"),fe(),Y(!1)}).catch(e=>{console.log(e)})},1500)}})(),style:{display:G&&"none"}},"".concat(re.btn)))),G&&o.a.createElement(So.a,{style:{gap:"8px",padding:"16px",height:"70vh",alignSelf:"center",justifyContent:"center"}},o.a.createElement(So.a,null,o.a.createElement(Wu.a,null,"Subindo os arquivos e criando o conte\xfado..."),o.a.createElement(So.a,{style:{alignSelf:"center",marginTop:"12px"}},o.a.createElement(Wt.a,null))))))};const xp=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})),Cp=en.b().shape({name:en.d().min(2,"Too Short!").max(50,"Too Long!").required("Required")});var wp=e=>{let{open:t,onSave:a,data:r,onUpdate:l,close:i}=e;const s=xp(),c=Object(n.useRef)(!0),d={type:"typebot",name:"",projectName:"",jsonContent:"",language:"",urlN8N:"",typebotDelayMessage:1e3,typebotExpires:1,typebotKeywordFinish:"",typebotKeywordRestart:"",typebotRestartMessage:"",typebotSlug:"",typebotUnknownMessage:""},[m,u]=Object(n.useState)(!1),[p,g]=Object(n.useState)(),[b,E]=Object(n.useState)({title:"Adicionar Typebot ao fluxo",btn:"Adicionar"});Object(n.useEffect)(()=>("edit"===t?(E({title:"Editar Typebot ao fluxo",btn:"Salvar"}),console.log("FlowTybebotEdit",r),g({...r.data.typebotIntegration}),u(!0)):"create"===t&&(E({title:"Editar Typebot do fluxo",btn:"Salvar"}),g(d),u(!0)),()=>{c.current=!1}),[t]);const f=()=>{i(null),u(!1)};return o.a.createElement("div",{className:s.root},o.a.createElement(ta.a,{open:m,onClose:f,fullWidth:!0,maxWidth:"md",scroll:"paper"},o.a.createElement(pa.a,{id:"form-dialog-title"},"create"===t?"Adicionar Typebot ao fluxo":"Editar Typebot"),o.a.createElement(tn.e,{initialValues:p,enableReinitialize:!0,validationSchema:Cp,onSubmit:(e,n,o)=>{setTimeout(()=>{(e=>{"edit"===t?(f(),l({...r,data:{typebotIntegration:{...e}}})):"create"===t&&(e.projectName=e.name,f(),a({typebotIntegration:e}))})(e),n.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:n,isSubmitting:r,values:l}=e;return o.a.createElement(tn.d,null,o.a.createElement(xn.a,{square:!0,className:s.mainPaper,elevation:1},o.a.createElement(ua.a,{dividers:!0},o.a.createElement(_a.a,{container:!0,spacing:1},o.a.createElement(o.a.Fragment,null,o.a.createElement(_a.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueIntegrationModal.form.name"),autoFocus:!0,name:"name",error:a.name&&Boolean(n.name),helpertext:a.name&&n.name,variant:"outlined",margin:"dense",required:!0,fullWidth:!0,className:s.textField})),o.a.createElement(_a.a,{item:!0,xs:12,md:12,xl:12},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueIntegrationModal.form.urlN8N"),name:"urlN8N",error:a.urlN8N&&Boolean(n.urlN8N),helpertext:a.urlN8N&&n.urlN8N,variant:"outlined",margin:"dense",required:!0,fullWidth:!0,className:s.textField})),o.a.createElement(_a.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueIntegrationModal.form.typebotSlug"),name:"typebotSlug",error:a.typebotSlug&&Boolean(n.typebotSlug),helpertext:a.typebotSlug&&n.typebotSlug,required:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:s.textField})),o.a.createElement(_a.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueIntegrationModal.form.typebotExpires"),name:"typebotExpires",error:a.typebotExpires&&Boolean(n.typebotExpires),helpertext:a.typebotExpires&&n.typebotExpires,variant:"outlined",margin:"dense",fullWidth:!0,className:s.textField})),o.a.createElement(_a.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueIntegrationModal.form.typebotDelayMessage"),name:"typebotDelayMessage",error:a.typebotDelayMessage&&Boolean(n.typebotDelayMessage),helpertext:a.typebotDelayMessage&&n.typebotDelayMessage,variant:"outlined",margin:"dense",fullWidth:!0,className:s.textField})),o.a.createElement(_a.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueIntegrationModal.form.typebotKeywordFinish"),name:"typebotKeywordFinish",error:a.typebotKeywordFinish&&Boolean(n.typebotKeywordFinish),helpertext:a.typebotKeywordFinish&&n.typebotKeywordFinish,variant:"outlined",margin:"dense",fullWidth:!0,className:s.textField})),o.a.createElement(_a.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueIntegrationModal.form.typebotKeywordRestart"),name:"typebotKeywordRestart",error:a.typebotKeywordRestart&&Boolean(n.typebotKeywordRestart),helpertext:a.typebotKeywordRestart&&n.typebotKeywordRestart,variant:"outlined",margin:"dense",fullWidth:!0,className:s.textField})),o.a.createElement(_a.a,{item:!0,xs:12,md:6,xl:6},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueIntegrationModal.form.typebotUnknownMessage"),name:"typebotUnknownMessage",error:a.typebotUnknownMessage&&Boolean(n.typebotUnknownMessage),helpertext:a.typebotUnknownMessage&&n.typebotUnknownMessage,variant:"outlined",margin:"dense",fullWidth:!0,className:s.textField})),o.a.createElement(_a.a,{item:!0,xs:12,md:12,xl:12},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("queueIntegrationModal.form.typebotRestartMessage"),name:"typebotRestartMessage",error:a.typebotRestartMessage&&Boolean(n.typebotRestartMessage),helpertext:a.typebotRestartMessage&&n.typebotRestartMessage,variant:"outlined",margin:"dense",fullWidth:!0,className:s.textField})))))),o.a.createElement(aa.a,null,o.a.createElement(st.a,{onClick:f,color:"secondary",variant:"outlined"},Le.a.t("contactModal.buttons.cancel")),o.a.createElement(st.a,{type:"submit",color:"primary",disabled:r,variant:"contained",className:s.btnWrapper},"create"===t?"Adicionar":"Editar")))})))};const Sp=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));en.b().shape({name:en.d().min(2,"Too Short!").max(50,"Too Long!").required("Required")});var Op=e=>{let{open:t,onSave:a,data:r,onUpdate:l,close:i}=e;const s=Sp(),c=Object(n.useRef)(!0),d=()=>{p(!u)},m={name:"",prompt:"",voice:"texto",voiceKey:"",voiceRegion:"",maxTokens:100,temperature:1,apiKey:"",queueId:null,maxMessages:10},[u,p]=Object(n.useState)(!1),[g,b]=Object(n.useState)("texto"),[E,f]=Object(n.useState)(!1),[A,h]=Object(n.useState)(),[y,v]=Object(n.useState)({title:"Adicionar OpenAI ao fluxo",btn:"Adicionar"});Object(n.useEffect)(()=>("edit"===t?(v({title:"Editar OpenAI do fluxo",btn:"Salvar"}),console.log("FlowTybebotEdit",r),h({...r.data.typebotIntegration}),f(!0)):"create"===t&&(v({title:"Cria OpenAI no fluxo",btn:"Salvar"}),h(m),f(!0)),()=>{c.current=!1}),[t]);const x=()=>{i(null),f(!1)},C=e=>{b(e.target.value)};return o.a.createElement("div",{className:s.root},o.a.createElement(ta.a,{open:E,onClose:x,fullWidth:!0,maxWidth:"md",scroll:"paper"},o.a.createElement(pa.a,{id:"form-dialog-title"},"create"===t?"Adicionar OpenAI ao fluxo":"Editar OpenAI"),o.a.createElement(tn.e,{initialValues:A,enableReinitialize:!0,onSubmit:(e,n)=>{setTimeout(()=>{(e=>{"edit"===t?(x(),l({...r,data:{typebotIntegration:{...e,voice:g}}})):"create"===t&&(e.projectName=e.name,x(),a({typebotIntegration:{...e,voice:g}}))})(e),n.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:n,isSubmitting:r,values:l}=e;return o.a.createElement(tn.d,{style:{width:"100%"}},o.a.createElement(ua.a,{dividers:!0},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("promptModal.form.name"),name:"name",error:a.name&&Boolean(n.name),helperText:a.name&&n.name,variant:"outlined",margin:"dense",fullWidth:!0,required:!0}),o.a.createElement(on.a,{fullWidth:!0,margin:"dense",variant:"outlined"},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("promptModal.form.apikey"),name:"apiKey",type:u?"text":"password",error:a.apiKey&&Boolean(n.apiKey),helperText:a.apiKey&&n.apiKey,variant:"outlined",margin:"dense",fullWidth:!0,required:!0,InputProps:{endAdornment:o.a.createElement(Zs.a,{position:"end"},o.a.createElement(I.a,{onClick:d},u?o.a.createElement(bm.a,null):o.a.createElement(Em.a,null)))}})),o.a.createElement(tn.b,{as:it.a,label:Le.a.t("promptModal.form.prompt"),name:"prompt",error:a.prompt&&Boolean(n.prompt),helperText:a.prompt&&n.prompt,variant:"outlined",margin:"dense",fullWidth:!0,required:!0,rows:10,multiline:!0}),o.a.createElement("div",{className:s.multFieldLine},o.a.createElement(on.a,{fullWidth:!0,margin:"dense",variant:"outlined"},o.a.createElement(nn.a,null,Le.a.t("promptModal.form.voice")),o.a.createElement(an.a,{id:"type-select",labelWidth:60,name:"voice",value:g,onChange:C,multiple:!1},o.a.createElement(F.a,{key:"texto",value:"texto"},"Texto"),o.a.createElement(F.a,{key:"pt-BR-FranciscaNeural",value:"pt-BR-FranciscaNeural"},"Francisa"),o.a.createElement(F.a,{key:"pt-BR-AntonioNeural",value:"pt-BR-AntonioNeural"},"Ant\xf4nio"),o.a.createElement(F.a,{key:"pt-BR-BrendaNeural",value:"pt-BR-BrendaNeural"},"Brenda"),o.a.createElement(F.a,{key:"pt-BR-DonatoNeural",value:"pt-BR-DonatoNeural"},"Donato"),o.a.createElement(F.a,{key:"pt-BR-ElzaNeural",value:"pt-BR-ElzaNeural"},"Elza"),o.a.createElement(F.a,{key:"pt-BR-FabioNeural",value:"pt-BR-FabioNeural"},"F\xe1bio"),o.a.createElement(F.a,{key:"pt-BR-GiovannaNeural",value:"pt-BR-GiovannaNeural"},"Giovanna"),o.a.createElement(F.a,{key:"pt-BR-HumbertoNeural",value:"pt-BR-HumbertoNeural"},"Humberto"),o.a.createElement(F.a,{key:"pt-BR-JulioNeural",value:"pt-BR-JulioNeural"},"Julio"),o.a.createElement(F.a,{key:"pt-BR-LeilaNeural",value:"pt-BR-LeilaNeural"},"Leila"),o.a.createElement(F.a,{key:"pt-BR-LeticiaNeural",value:"pt-BR-LeticiaNeural"},"Let\xedcia"),o.a.createElement(F.a,{key:"pt-BR-ManuelaNeural",value:"pt-BR-ManuelaNeural"},"Manuela"),o.a.createElement(F.a,{key:"pt-BR-NicolauNeural",value:"pt-BR-NicolauNeural"},"Nicolau"),o.a.createElement(F.a,{key:"pt-BR-ValerioNeural",value:"pt-BR-ValerioNeural"},"Val\xe9rio"),o.a.createElement(F.a,{key:"pt-BR-YaraNeural",value:"pt-BR-YaraNeural"},"Yara"))),o.a.createElement(tn.b,{as:it.a,label:Le.a.t("promptModal.form.voiceKey"),name:"voiceKey",error:a.voiceKey&&Boolean(n.voiceKey),helperText:a.voiceKey&&n.voiceKey,variant:"outlined",margin:"dense",fullWidth:!0}),o.a.createElement(tn.b,{as:it.a,label:Le.a.t("promptModal.form.voiceRegion"),name:"voiceRegion",error:a.voiceRegion&&Boolean(n.voiceRegion),helperText:a.voiceRegion&&n.voiceRegion,variant:"outlined",margin:"dense",fullWidth:!0})),o.a.createElement("div",{className:s.multFieldLine},o.a.createElement(tn.b,{as:it.a,label:Le.a.t("promptModal.form.temperature"),name:"temperature",error:a.temperature&&Boolean(n.temperature),helperText:a.temperature&&n.temperature,variant:"outlined",margin:"dense",fullWidth:!0}),o.a.createElement(tn.b,{as:it.a,label:Le.a.t("promptModal.form.max_tokens"),name:"maxTokens",error:a.maxTokens&&Boolean(n.maxTokens),helperText:a.maxTokens&&n.maxTokens,variant:"outlined",margin:"dense",fullWidth:!0}),o.a.createElement(tn.b,{as:it.a,label:Le.a.t("promptModal.form.max_messages"),name:"maxMessages",error:a.maxMessages&&Boolean(n.maxMessages),helperText:a.maxMessages&&n.maxMessages,variant:"outlined",margin:"dense",fullWidth:!0}))),o.a.createElement(aa.a,null,o.a.createElement(st.a,{onClick:x,color:"secondary",variant:"outlined"},Le.a.t("contactModal.buttons.cancel")),o.a.createElement(st.a,{type:"submit",color:"primary",variant:"contained",className:s.btnWrapper,disabled:r},"create"===t?"Adicionar":"Editar")))})))};const kp=Object(k.a)(e=>({root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Pt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var Tp=e=>{let{open:t,onSave:a,onUpdate:r,data:l,close:i}=e;const s=kp(),c=Object(n.useRef)(!0),d={message:"",answerKey:""},[m,u]=Object(n.useState)(),[p,g]=Object(n.useState)(!1),[b,E]=Object(n.useState)(),[f,A]=Object(n.useState)({title:"Adicionar Perguta ao fluxo",btn:"Adicionar"});Object(n.useEffect)(()=>("edit"===t?(A({title:"Editar Perguta do fluxo",btn:"Salvar"}),console.log("FlowTybebotEdit",l.data.typebotIntegration),u(l.data.typebotIntegration.message),E({...l.data.typebotIntegration}),g(!0)):"create"===t&&(A({title:"Cria Perguta no fluxo",btn:"Salvar"}),E(d),g(!0)),()=>{c.current=!1}),[t]);const h=()=>{i(null),g(!1)};return o.a.createElement("div",{className:s.root},o.a.createElement(ta.a,{open:p,onClose:h,fullWidth:!0,maxWidth:"md",scroll:"paper"},o.a.createElement(pa.a,{id:"form-dialog-title"},"create"===t?"Adicionar Perguta ao fluxo":"Editar Perguta"),o.a.createElement(tn.e,{initialValues:b,enableReinitialize:!0,onSubmit:(e,n)=>{setTimeout(()=>{(e=>{if("edit"===t){let t=localStorage.getItem("variables");const a=l.data.typebotIntegration.answerKey;t=t?JSON.parse(t):[],t=t.filter(e=>e!==a),localStorage.setItem("variables",JSON.stringify([...t,e.answerKey])),h(),r({...l,data:{typebotIntegration:{...e,message:m}}})}else if("create"===t){let t=localStorage.getItem("variables");t=t?JSON.parse(t):[],t=t.filter(t=>t!==e.answerKey),localStorage.setItem("variables",JSON.stringify([...t,e.answerKey])),h(),a({typebotIntegration:{...e,message:m}})}})(e),n.setSubmitting(!1)},400)}},e=>{let{touched:a,errors:n,isSubmitting:r,values:l}=e;return o.a.createElement(tn.d,{style:{width:"100%"}},o.a.createElement(ua.a,{dividers:!0},o.a.createElement(it.a,{label:"Mensagem",multiline:!0,rows:7,name:"message",error:a.message&&Boolean(n.message),helperText:a.message&&n.message,variant:"outlined",margin:"dense",value:m,onChange:e=>u(e.target.value),fullWidth:!0,required:!0}),o.a.createElement(tn.b,{as:it.a,label:"Salvar resposta",name:"answerKey",error:a.answerKey&&Boolean(n.answerKey),helperText:a.answerKey&&n.answerKey,variant:"outlined",margin:"dense",fullWidth:!0,required:!0})),o.a.createElement(aa.a,null,o.a.createElement(st.a,{onClick:h,color:"secondary",variant:"outlined"},Le.a.t("contactModal.buttons.cancel")),o.a.createElement(st.a,{type:"submit",color:"primary",variant:"contained",className:s.btnWrapper,disabled:r},"create"===t?"Adicionar":"Editar")))})))},jp=a(1590);const Ip=Object(k.a)(e=>({mainPaper:{flex:1,padding:e.spacing(1),position:"relative",backgroundColor:"#F8F9FA",overflowY:"scroll",...e.scrollbarStyles},speeddial:{backgroundColor:"red"}}));function Np(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=a.charAt(Math.floor(Math.random()*a.length));return t}const Mp={message:Ou,start:Tu,menu:Iu,interval:Mu,img:Ru,audio:vu,randomizer:qu,video:Lu,singleBlock:Vu,ticket:Ku,typebot:Cu,openai:wu,question:Hu},Pp={buttonedge:function(e){let{id:t,sourceX:a,sourceY:n,targetX:r,targetY:l,sourcePosition:i,targetPosition:s,style:c={},data:d,arrowHeadType:m,markerEndId:u}=e;const p=Object(Au.c)({sourceX:a,sourceY:n,sourcePosition:i,targetX:r,targetY:l,targetPosition:s}),g=Object(Au.e)(m,u),[b,E]=Object(Au.d)({sourceX:a,sourceY:n,targetX:r,targetY:l});return o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{id:t,style:c,className:"react-flow__edge-path",d:p,markerEnd:g}),o.a.createElement("foreignObject",{width:40,height:40,x:b-20,y:E-20,className:"edgebutton-foreignobject",requiredExtensions:"http://www.w3.org/1999/xhtml"},o.a.createElement("body",null)))}},Rp=[{id:"1",position:{x:250,y:100},data:{label:"Inicio do fluxo"},type:"start"}],Dp=[];var qp=()=>{const e=Ip(),{id:t}=(Object(x.useHistory)(),Object(xm.useParams)()),a=yu(),{user:r}=Object(n.useContext)($e),[l,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(1),[d,m]=Object(n.useState)(null),[u,p]=Object(n.useState)(!1),[g,b]=Object(n.useState)(null),[E,f]=Object(n.useState)(!1),[A,h]=Object(n.useState)(null),[y,v]=Object(n.useState)(null),[w,S]=Object(n.useState)(null),[O,k]=Object(n.useState)(null),[T,j]=Object(n.useState)(null),[I,N]=Object(n.useState)(null),[M,P]=Object(n.useState)(null),[R,D]=Object(n.useState)(null),[q,F]=Object(n.useState)(null),[L,W]=Object(n.useState)(null),B=(e,t)=>{const a=z[z.length-1].position.y,n=z[z.length-1].position.x+z[z.length-1].width+40;return"start"===e?H(e=>[...e.filter(e=>"1"!==e.id),{id:"1",position:{x:n,y:a},data:{label:"Inicio do fluxo"},type:"start"}]):"text"===e?H(e=>[...e,{id:Np(30),position:{x:n,y:a},data:{label:t.text},type:"message"}]):"interval"===e?H(e=>[...e,{id:Np(30),position:{x:n,y:a},data:{label:"Intervalo ".concat(t.sec," seg."),sec:t.sec},type:"interval"}]):"condition"===e?H(e=>[...e,{id:Np(30),position:{x:n,y:a},data:{key:t.key,condition:t.condition,value:t.value},type:"condition"}]):"menu"===e?H(e=>[...e,{id:Np(30),position:{x:n,y:a},data:{message:t.message,arrayOption:t.arrayOption},type:"menu"}]):"img"===e?H(e=>[...e,{id:Np(30),position:{x:n,y:a},data:{url:t.url},type:"img"}]):"audio"===e?H(e=>[...e,{id:Np(30),position:{x:n,y:a},data:{url:t.url,record:t.record},type:"audio"}]):"randomizer"===e?H(e=>[...e,{id:Np(30),position:{x:n,y:a},data:{percent:t.percent},type:"randomizer"}]):"video"===e?H(e=>[...e,{id:Np(30),position:{x:n,y:a},data:{url:t.url},type:"video"}]):"singleBlock"===e?H(e=>[...e,{id:Np(30),position:{x:n,y:a},data:{...t},type:"singleBlock"}]):"ticket"===e?H(e=>[...e,{id:Np(30),position:{x:n,y:a},data:{...t},type:"ticket"}]):"typebot"===e?H(e=>[...e,{id:Np(30),position:{x:n,y:a},data:{...t},type:"typebot"}]):"openai"===e?H(e=>[...e,{id:Np(30),position:{x:n,y:a},data:{...t},type:"openai"}]):"question"===e?H(e=>[...e,{id:Np(30),position:{x:n,y:a},data:{...t},type:"question"}]):void 0},[z,H,U]=Object(Au.g)(Rp),[V,Q,K]=Object(Au.f)(Dp),G=Object(n.useCallback)(e=>Q(t=>Object(_u.n)(e,t)),[Q]),Y=e=>{H(t=>t.map(t=>t.id===e.id?e:t)),b(null),f(null),h(null),F(null),D(null)},X=[{icon:o.a.createElement(ku.a,{sx:{color:"#3ABA38"}}),name:"Inicio",type:"start"},{icon:o.a.createElement(Uu.a,{sx:{color:"#EC5858"}}),name:"Conte\xfado",type:"content"},{icon:o.a.createElement(ju.a,{sx:{color:"#683AC8"}}),name:"Menu",type:"menu"},{icon:o.a.createElement(Du.a,{sx:{color:"#1FBADC"}}),name:"Randomizador",type:"random"},{icon:o.a.createElement(Nu.a,{sx:{color:"#F7953B"}}),name:"Intervalo",type:"interval"},{icon:o.a.createElement(jp.a,{sx:{color:"#F7953B"}}),name:"Ticket",type:"ticket"},{icon:o.a.createElement(Lt.a,{component:"img",sx:{width:24,height:24,color:"#3aba38"},src:gu.a,alt:"icon"}),name:"TypeBot",type:"typebot"},{icon:o.a.createElement(uu.a,{sx:{color:"#F7953B"}}),name:"OpenAI",type:"openai"},{icon:o.a.createElement(zu.a,{sx:{color:"#F7953B"}}),name:"Pergunta",type:"question"}];return Object(n.useEffect)(()=>{i(!0);const e=setTimeout(()=>{(async()=>{try{const{data:e}=await Ge.get("/flowbuilder/flow/".concat(t));if(null!==e.flow.flow){const t=e.flow.flow.nodes;H(t),Q(e.flow.flow.connections);const a=t.filter(e=>"question"===e.type).map(e=>e.data.typebotIntegration.answerKey);localStorage.setItem("variables",JSON.stringify(a))}i(!1)}catch(e){He(e)}})()},500);return()=>clearTimeout(e)},[t]),Object(n.useEffect)(()=>{if("delete"===a.action&&(H(e=>e.filter(e=>e.id!==a.node)),Q(e=>e.filter(e=>e.source!==a.node).filter(e=>e.target!==a.node)),a.setNodesStorage(""),a.setAct("idle")),"duplicate"===a.action){const e=z.filter(e=>e.id===a.node)[0],t=z.map(e=>e.position.x),n=Math.max(...t),o=z[z.length-1].position.y,r={...e,id:Np(30),position:{x:n+240,y:o},selected:!1,style:{backgroundColor:"#555555",padding:0,borderRadius:8}};H(e=>[...e,r]),a.setNodesStorage(""),a.setAct("idle")}},[a.action]),o.a.createElement(So.a,{sx:{height:"100vh"}},o.a.createElement(tp,{open:g,onSave:e=>{B("text",e)},data:d,onUpdate:Y,close:b}),o.a.createElement(np,{open:E,onSave:e=>{B("interval",e)},data:d,onUpdate:Y,close:f}),o.a.createElement(rp,{open:A,onSave:e=>{B("menu",e)},data:d,onUpdate:Y,close:h}),o.a.createElement(cp,{open:y,onSave:e=>{B("img",e)},data:d,onUpdate:Y,close:v}),o.a.createElement(pp,{open:w,onSave:e=>{B("audio",e)},data:d,onUpdate:Y,close:S}),o.a.createElement(Ep,{open:O,onSave:e=>{B("randomizer",e)},data:d,onUpdate:Y,close:k}),o.a.createElement(Ap,{open:T,onSave:e=>{B("video",e)},data:d,onUpdate:Y,close:j}),o.a.createElement(vp,{open:I,onSave:e=>{B("singleBlock",e)},data:d,onUpdate:Y,close:N}),o.a.createElement(mp,{open:M,onSave:e=>{B("ticket",e)},data:d,onUpdate:Y,close:P}),o.a.createElement(Op,{open:q,onSave:e=>{B("openai",e)},data:d,onUpdate:Y,close:F}),o.a.createElement(wp,{open:R,onSave:e=>{B("typebot",e)},data:d,onUpdate:Y,close:D}),o.a.createElement(Tp,{open:L,onSave:e=>{B("question",e)},data:d,onUpdate:Y,close:W}),o.a.createElement(oi,null,o.a.createElement(ii,null,"Desenhe seu fluxo")),!l&&o.a.createElement(xn.a,{className:e.mainPaper,variant:"outlined",onScroll:e=>{if(!u||l)return;const{scrollTop:t,scrollHeight:a,clientHeight:n}=e.currentTarget;a-(t+100)<n&&c(e=>e+1)}},o.a.createElement(So.a,null,o.a.createElement(Gu.a,{ariaLabel:"SpeedDial basic example",sx:{position:"absolute",top:16,left:16},icon:o.a.createElement(Yu.a,null),direction:"down"},X.map(e=>o.a.createElement(Xu.a,{key:e.name,icon:e.icon,tooltipTitle:e.name,tooltipOpen:!0,tooltipPlacement:"right",onClick:()=>{console.log(e.type),(e=>{switch(e){case"start":B("start");break;case"menu":h("create");break;case"content":N("create");break;case"random":k("create");break;case"interval":f("create");break;case"ticket":P("create");break;case"typebot":D("create");break;case"openai":F("create");break;case"question":W("create")}})(e.type)}})))),o.a.createElement(So.a,{sx:{position:"absolute",justifyContent:"center",flexDirection:"row",width:"100%"}},o.a.createElement(Wu.a,{style:{color:"#010101",textShadow:"#010101 1px 0 10px"}},"N\xe3o se esque\xe7a de salvar seu fluxo!")),o.a.createElement(So.a,{direction:"row",justifyContent:"end"},o.a.createElement(st.a,{sx:{textTransform:"none"},variant:"contained",color:"primary",onClick:()=>(async()=>{await Ge.post("/flowbuilder/flow",{idFlow:t,nodes:z,connections:V}).then(e=>{C.b.success("Fluxo salvo com sucesso")})})()},"Salvar")),o.a.createElement(So.a,{direction:"row",style:{width:"100%",height:"90%",position:"relative",display:"flex"}},o.a.createElement(Au.b,{nodes:z,edges:V,deleteKeyCode:["Backspace","Delete"],onNodesChange:U,onEdgesChange:K,onNodeDoubleClick:(e,t)=>{console.log("NODE",t),m(t),"message"===t.type&&b("edit"),"interval"===t.type&&f("edit"),"menu"===t.type&&h("edit"),"img"===t.type&&v("edit"),"audio"===t.type&&S("edit"),"randomizer"===t.type&&k("edit"),"singleBlock"===t.type&&N("edit"),"ticket"===t.type&&P("edit"),"typebot"===t.type&&D("edit"),"openai"===t.type&&F("edit"),"question"===t.type&&W("edit")},onNodeClick:(e,t)=>{H(e=>e.map(e=>e.id===t.id?{...e,style:{backgroundColor:"#0000FF",padding:1,borderRadius:8}}:{...e,style:{backgroundColor:"#13111C",padding:0,borderRadius:8}}))},onEdgeClick:(e,t)=>{H(e=>e.map(e=>({...e,style:{backgroundColor:"#13111C",padding:0,borderRadius:8}})))},onConnect:G,nodeTypes:Mp,fitView:!0,connectionLineStyle:{stroke:"#2b2b2b",strokeWidth:"6px"},style:{backgroundColor:"#F8F9FA"},edgeTypes:Pp,variant:"cross",defaultEdgeOptions:{style:{color:"#ff0000",strokeWidth:"6px"},animated:!1}},o.a.createElement(Zu.b,null),o.a.createElement(Ju.a,null),o.a.createElement($u.a,{variant:"dots",gap:12,size:-1})),o.a.createElement(So.a,{style:{backgroundColor:"#FAFAFA",height:"20px",width:"58px",position:"absolute",bottom:0,right:0,zIndex:1111}}))),l&&o.a.createElement(So.a,{justifyContent:"center",alignItems:"center",height:"70vh"},o.a.createElement(Wt.a,null)))};var Fp=()=>{const[e,t]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{void 0!==localStorage.getItem("cshow")&&t(!0)},[]),o.a.createElement(v.a,null,o.a.createElement(et,null,o.a.createElement(Xt,null,o.a.createElement(x.Switch,null,o.a.createElement(bd,{exact:!0,path:"/login",component:Gl}),o.a.createElement(bd,{exact:!0,path:"/signup",component:Ul}),o.a.createElement(bd,{exact:!0,path:"/forgetpsw",component:Vm}),o.a.createElement(Ze,null,o.a.createElement(zn,null,o.a.createElement(bd,{exact:!0,path:"/",component:Po,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/tickets/:ticketId?",component:Ll,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/connections",component:Ai,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/quick-messages",component:dd,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/todolist",component:bt,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/schedules",component:vd,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/tags",component:Pc,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/contacts",component:cc,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/helps",component:Lc,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/users",component:ec,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/files",component:gm,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/prompts",component:Sm,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/queue-integration",component:Wm,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/messages-api",component:Dc,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/settings",component:Gi,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/kanban",component:gd,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/financeiro",component:_s,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/queues",component:Oc,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/announcements",component:Zd,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/subscription",component:sm,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/chats/:id?",component:rm,isPrivate:!0}),e&&o.a.createElement(o.a.Fragment,null,o.a.createElement(bd,{exact:!0,path:"/contact-lists",component:Yc,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/contact-lists/:contactListId/contacts",component:nd,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/campaigns",component:Pd,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/campaign/:campaignId/report",component:Qd,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/campaigns-config",component:qd,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/phrase-lists",component:tu,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/flowbuilders",component:mu,isPrivate:!0}),o.a.createElement(bd,{exact:!0,path:"/flowbuilder/:id?",component:qp,isPrivate:!0}))))),o.a.createElement(C.a,{autoClose:3e3}))))};const Lp=new s.QueryClient;var Wp=()=>{const[e,t]=Object(n.useState)(),a=Object(u.a)("(prefers-color-scheme: dark)"),r=window.localStorage.getItem("preferredTheme"),[l,i]=Object(n.useState)(r||(a?"dark":"light")),g=o.a.useMemo(()=>({toggleColorMode:()=>{i(e=>"light"===e?"dark":"light")}}),[]),b=Object(d.a)({scrollbarStyles:{"&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-thumb":{boxShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)",backgroundColor:"#1e9374"}},scrollbarStylesSoft:{"&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"light"===l?"#F3F3F3":"#333333"}},palette:{type:l,primary:{main:"light"===l?"#0fa67d":"#FFFFFF"},textPrimary:"light"===l?"#0fa67d":"#FFFFFF",borderPrimary:"light"===l?"#0fa67d":"#FFFFFF",dark:{main:"light"===l?"#333333":"#F3F3F3"},light:{main:"light"===l?"#F3F3F3":"#333333"},tabHeaderBackground:"light"===l?"#EEE":"#666",optionsBackground:"light"===l?"#fafafa":"#333",options:"light"===l?"#fafafa":"#666",fontecor:"light"===l?"#128c7e":"#fff",fancyBackground:"light"===l?"#fafafa":"#333",bordabox:"light"===l?"#eee":"#333",newmessagebox:"light"===l?"#eee":"#333",inputdigita:"light"===l?"#fff":"#666",contactdrawer:"light"===l?"#fff":"#666",announcements:"light"===l?"#ededed":"#333",login:"light"===l?"#fff":"#1C1C1C",announcementspopover:"light"===l?"#fff":"#666",chatlist:"light"===l?"#eee":"#666",boxlist:"light"===l?"#ededed":"#666",boxchatlist:"light"===l?"#ededed":"#333",total:"light"===l?"#fff":"#222",messageIcons:"light"===l?"grey":"#F3F3F3",inputBackground:"light"===l?"#FFFFFF":"#333",barraSuperior:"light"===l?"linear-gradient(to right, #0fa67d, #0fa67d , #0fa67d)":"#666",boxticket:"light"===l?"#EEE":"#666",campaigntab:"light"===l?"#ededed":"#666",mediainput:"light"===l?"#ededed":"#1c1c1c"},mode:l},e);return Object(n.useEffect)(()=>{var e;const a=localStorage.getItem("i18nextLng"),n=null!==(e=null===a||void 0===a?void 0:a.substring(0,2))&&void 0!==e?e:"pt";"pt"===n?t(c.ptBR):"en"===n?t(c.enUS):"es"===n&&t(c.esES)},[]),Object(n.useEffect)(()=>{window.localStorage.setItem("preferredTheme",l)},[l]),o.a.createElement(p.Provider,{value:{colorMode:g}},o.a.createElement(m.a,{theme:b},o.a.createElement(s.QueryClientProvider,{client:Lp},o.a.createElement(y.Provider,{value:h},o.a.createElement(Fp,null)))))};l.a.render(o.a.createElement(i.a,null,o.a.createElement(Wp,null)),document.getElementById("root"))},166:function(e,t,a){e.exports=a.p+"static/media/logo.e6ccf655.png"},531:function(e){e.exports=JSON.parse('{"b":"6.0.0","a":"Atendechat"}')},533:function(e,t,a){e.exports=a.p+"static/media/planilha.549edeba.xlsx"},534:function(e,t){e.exports="data:image/png;base64,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"},769:function(e,t,a){},825:function(e,t,a){e.exports=a.p+"static/media/wa-background.2675a051.png"},826:function(e,t,a){e.exports=a.p+"static/media/wa-background-dark.8244f042.png"},828:function(e,t,a){e.exports=a.p+"static/media/sound.9fd5812c.mp3"},835:function(e,t,a){e.exports=a.p+"static/media/chat_notify.2529c259.mp3"},899:function(e,t,a){e.exports=a.p+"static/media/n8n.5c788b8d.png"},900:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAADICAMAAAApx+PaAAABrVBMVEUAAAB2dnZ1dXV2dnZ2dnZ2dnZ1dXWYmJh2dnZ7e3t1dXV2dnaHh4d2dnZ2dnb/8fF2dnZ1dXV9fX11dXV3d3d1dXV2dnZ4eHh1dXWFhYV1dXV1dXXvbxB8fHx9fX12dnZ1dXV1dXV2dnZ1dXV3d3d1dXV3d3d3d3d3d3d1dXV9fX12dnZ2dnZ2dnZ4eHh4eHh1dXV1dXV2dnZ7e3t2dnZ1dXV3d3eEhIT0lxp3d3fyjRd2dnZ1dXV2dnZ3d3d2dnZ2dnb/jiD0kxl2dnZ2dnZ2dnZ2dnZ3d3d2dnbtbw52dnZ2dnb0lhp1dXV4eHh3d3d2dnZ2dnZ3d3d4eHj1jBv1hRvEmHj1lxr0lRp4eHh8fHzsbg7zlhn0lxryhxbxgxX0lxrtbg/1lxp3d3fucBDvdA/tcA7wehLtbg7tbg70lhrtbg7vcxDxgRPvdxHtbg/tbQ7zlxv0lhr0lxvubg/tbw/zmBv2mBz2mRzwcA94eHjsbg7zlxvtbg7tbg7tbg72lxrubg/ubg7scBDwfRLzlxrtbQ/1lhv0mBr0lxz2lxz1lhzsbQ51dXXzlhptsIrZAAAAjHRSTlMAy7fZp62fA6Af9qYGzvwB0t4R0GqJcRs/C/qVPhQP/e7qm+KOYzE7NuYY88JUKiXxxoEi1btQCPtH3KqleXZgDQretLCSfFxL/oRY6r9AJ+xtNC4dEgT25DMh9vLv49rQhGxBM/v58u7Tua/x6+jgv6yfh1RGQTUoJCDm2cmhk5JzaV/gxZp6YVlRSVahGaQAAAzRSURBVHja7NcxCoJgGADQ72rdodShQLyBCrq4OojwnbkhgggbW37fu8ULAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP6u6pauCs5kajOznYLTuPb50l+DU7iMdb7V4yUo39bkp2YLCjev+W2dg4Ldhjwy3IJCVd0jj931rVD7kr8te1CcJ3tn2pTIEQbgV10dZREWEBAobrkVwQN0PeOxGm9jLjebc3NU5fqQfMhVSaUqqUoqNa+/OUw3dM9MDwuzUM6oPJ8WxIbh6e73mN7dn7++eTVf/wwD7hVv/Lhy04mVQfl2n3D/e3LTDSf/umHA/eCnT2665ZNB+XYvePuHGzP8MOjM3nne+OfFjTle/DMI7Xeb/3ZuzLPzHwy4s7Qv0wbl2z3lnT9Xbl6XlT8Hndk7yLufndz0wsmgM3vnIEdjemBwsObOQY7G9MDgYM3d48/3bvrDytfQG04JBtwO3+30SfrJ92DI0bCKvZQ/cFAGA1bTiENX0JmAMk4K+s+0f9aTKDwZP5YAYDPSIAP3FPnNj97vg/L3PpZlMGQYBQrjB9ugJR/HBhdF6MgYNhiBfnM2hE0moQF5NAr3FFmWv3j6Ya9b+9M35W6kcxIbIVCzjAS/VdI34thi6kFIl+WvdlZ6cf7+t7JsQjolGZCAk0TCsEXSA8gobT8Q6bLcQ2j/8G9ZNiGds7sNDB8Sxq2R/lYcGSl4MNIbof3k9Xb2RjDvLH1phhJ5tOxzYYuleWixiYRVC6Sz4OKaeRl8Pnf+gKQrof01qrenX8qdpOtX8PbhzAVSEsy6tIaI8QWwRHqQ7utZIDwo6UpoN12mybIJ6YzQZhIJIzFesx09uwZrpGdQ4RIepHRZNlW+vSA7uxnpnOgyEvbcoMIi6X5UiD1U6fKbXZdvK09lhnnpIM0gYdMG0lOkeQAPVnrX5dvOt7J56eJXjYmY9dLXSU/mIUvvqnz7kATz3qQ7q6iwMJB+68gCpHzr2HPtXTpMhDstdcn7vOjsUnrseQxehXOivA3GPO5e+v049y0L0PLtRacyrXfpkOJtTzjPNvgVVOQik2RWXOwFiq+WHqqlPA5EDHvG5gzFus8iaWxQmc2Q7u9irsG5MhOyCsNkyDyl2E56MDPqK7gcnqHIYZ1PJa+CdmKSp0LaT0ieA7sgCwihXey59kn6oot/tZPY4LFKuQ85jlSwvfT6ZgI5lWch0HNdVQ21IAFEsMEjZbNBgSlj6eVd5JT8MaC8hQrPNFeFCmlQM4sNfGAXZDWdy7cXtOfau3T+XSQkUbr7CLVc1NpJz6VRS+ElEPhYcVQzNG9eej0VRw3JA6CQd68CgzUX88CJuejUsAuyCC/fTgx6rv2UvkC/HkG6e7yNDFH6sQP1hLdAhSSMVQialR6tosARDe+k8oxHgTMk3jA8RoUy2AVZpF1ndmXnA7m/0s9oK0yQPsNXVCGMlHjNSHqG79sFBxeny9IopSRSnqyZk170oAFjoDCNCgfqni7FA5xx+pltgywglm+859pn6V5etPlU0l82NY7nQgDOs8cuWtF7RelvNUWPTC0CuINTPiSEc9BiCinDc14AZ27GgRQqPbikUCHv5qMcC9KlUyS41o5/DcWuAkOIfLJKSTqWeJf2CgjsNX6wDXIH6MEaWqb1Xbqb6IzopQ9Rkee6sO0XpMc8dHZMSa0BM1RqIQqUK/o4nWMLcY9Lb/GILP+2JZsfCbPz0GSuoJpaKZaXUGbZ/g8t8qjwFtgGuQPkYA05GtNn6fzsxJp+e8+OORA9MWAskteVnFy6OidIqL/O66QmotKcezIKDCliUvo83Wj2JWAEn9CUEBqsosI0NCnGEZGEpCVt6pIG+yB3wVdPaZnWf+kj2OBUzN6jG+k5EDKhM530WIIE+1VQkwuTxU81Z2nqPwEq3MPmpI8h/zNTS9f6IQA4K5q9e4o8crDEjQ22D/ZBNkFfpfOCZ9eoTpe0ccBDNkyd9IDhubpntHRWCZsDDdGSGelBF1mn20Yp6Cxr4rLfXia6d9UlWrG5F9gHa6WXSBosSBdJkVG4dD50KQpathO8dC6QF7tBy4wZ6VsspxcvyxVTIjwqTAAh6iKfbqvVjGEjJO10qt9S6XW+VEXp+c3RJ+mKp7q2P+ekYXFYK93poFNGzz7zUUaFAOgom5H+mKUTGg5RoQYAIYdqVmToBXnJ9rAIhFF69M5GWCp9HhU2DaRLU0vIuZhJsdXLpedZiaylRhMAtkqzQtGQNCGdRSAtIZI6zDCpu+xqSZ6+3LwwFvRXwUZYKj1DQ64oPe9DA4a4dL7YztsceTtudUTjEuhZNiE9bNBBZTXmOjQ4IJljnaSWyqvT7mY+N8S7DhUn2AhLpa8TKV5Bes2BHaTzKRNtEzQuWxX2BQisdS89xkK60XUtM9N4yPzvtyo3DLIMYh3shJXSnQWqUi/9pQspyeHxyNjokkuUzpN3cQnxxRmh/VCBVPfSn7NtQ8ca/+zDrMW0xyrLKssmRmjwtxNWSedL9UgvPeRBwl4OKKEDn5H0rXYrnS3OI9K76Wmle1Eh0+a6Tvl1eFo5XVJiM3K2NWtKdbATFkqXRmiepZd+iULSLa23jell0DNBMwW2F4gx/bRL6axTvAECQ3wMupeXm9Vbin+IeBHg0oYHr6ySzpTsgl56Fdl2ydjXSecHGLZAAyucc6yRlxey90SX0lmpvyaGphIN37zfvtncQQ5VI0w1r/8YbIV10s9oqL7WS5doleYUj1sMGdXp62LEZtn0r2i4TLNoQjoJ00k3cMRbqgG61ddLqjx9gyR6dMcPx8BWWCb9PEkDN+ilF1FcW8G4gXTYJXaLoMVbYnk1eEi0lUBLxIz0KdaFEQsPLKoCiitWU1cg5+S56CHtKtkLq6TXKjQ/DwrSacdmX1i8ovRLFgfU+FUZwb5RBAg6zEinH2dS0k1ZF3kW1J9+blzT6F8iGSCZYHb7Jy2skR6dQUJ4GgTpXhQWRw0NpYeSBvdTVuMkZd9WHb2szIMKadbcXbY9g9s6dZ+2G7hBBkwgoiOkuaE6nCbrHeyFFdKf+x3CuSYqnadZrhwwDh2idP5do2MVOLkEu8nGd+GRCc2ZOXPSr8UjWPVROqyk6eazcEW5whanYDNuR/roIqU8XcukPNgkvgEE3ckZaqWSB0p9IY5tpIdo0efacALFGQhTHaHW/KJRpHAITRaX0Yx0PnFwfxuazE8ioaY9GKAPJew6L8Fm3Ip0YyqHYCg9h5S91SCEss/Shm1YStmBBM9CNgTO7IYHCY6yqn6jnG4FJfCuphxoWnpoCQmFDSVMOKdTLvG86xFSXF5NckEJgs2wTvpSGQTpXAIljBSPX5ROnbqwBdfpmtPldZR4a7TTlCnpMJ9g7zGSZm+zLAHnuvUkcPJIqYLdsEq6Z4t9Z0LvPTaJWirlgCidslpBPaVVULMgzLZYxJx0OPegwCMnqPGIkd9dQMIm2A1LpLuqGa5cXOkQnUU16RwI0hlXPtTiuwItmRKq2YsCkb7evXSInqKW8ILb6DQOFrVtRMI82I3bll4Zqe7XtkGDeD9dCiT5rvzYC6J0jnTgQU6a7SCc4CP1DtNKFSNdSOfUllDFmiBy2mAnP0M6sO34Q+4Xf4Ah0QkVRSe0oaj8OAqMemY0iegqVDeCZMcnv83GC4IaKb8w6ymhwzN7lJfAiInAaTqMF77xl27WylsAgvGQ2ekGZc2bTPufkHieWA4w5eofK8wbPHcO9uPz3+V+8Pvn0HekmATd44RX4+YvGHndQmp7MWirIzCvjfuv3+Re+e2vu/S39Ytou1Nrt88bn34g98KXn9r5P23KThne0w2H4IHzyzc9OP/mF7AtzuMq4jVoqP/f3h20RBWFYQC+kdEiMVpEmy8wsigUgqBFBBG4CLdKbdxK6MpZOJugRBeu7v3PgiPIMIIz9x7xfPo8f+GDmft+973nfJy0WhgftP0cjJt67by5mO/ytaee0Pw+3W8Xt39S9Z09zyctnM3lmc+e3t6PB7LBfh1vtYvZOqv9dq73k5c1G9vNpb/fuq7GV9x3Z2/ULmK011RvrZvY/Pnh9audd0uX+/dnmdLGbTs6bOd1eNQkcNGjnbHhx71PfNutOqZNHzQ0Y+lHw5TxXDEtzzVsT1+udFPW/Z/PiDliWjSZbH/prqx+rufkxnrEjTHtNN1T0KfvTx6vrqy/eLT29cEv4voM/c9x7TGN0kMfVbxzpbdIH9MoOPTdkyQxjWJD/58nplFm6P8S7FzpK/JXY1hUZKvGMFykqsZQRGSqxlBGZKrGUEakqsZQROSqxlBC2Lk+PJGsGkMBka0aw3CRrxrDUJGxGsMwoRoDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQue6vJdUy+5+yQAAAABJRU5ErkJggg=="},901:function(e,t,a){e.exports=a.p+"static/media/webhook.e5374d73.png"},902:function(e,t){e.exports="data:image/jpeg;base64,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"},988:function(e,t,a){e.exports=a(1349)},998:function(e,t){}},[[988,1,2]]]);